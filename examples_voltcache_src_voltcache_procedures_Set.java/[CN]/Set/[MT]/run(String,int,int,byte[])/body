{
  final int now=baseInit(key);
  voltQueueSQL(check,key,now);
  VoltTable checkResult=voltExecuteSQL()[1];
  if (checkResult.getRowCount() > 0) {
    if (checkResult.fetchRow(0).getLong(0) == -1)     return VoltCacheResult.STORED;
 else     voltQueueSQL(update,expirationTimestamp(expires),flags,value,key);
  }
 else   voltQueueSQL(insert,key,expirationTimestamp(expires),flags,value);
  voltExecuteSQL(true);
  return VoltCacheResult.STORED;
}
