{
  final int now=Shared.init(this,key);
  voltQueueSQL(check,key,now);
  VoltTable checkResult=voltExecuteSQL()[0];
  if (checkResult.getRowCount() > 0) {
    if (checkResult.fetchRow(0).getLong(0) == -1)     return VoltCacheResult.STORED;
 else     voltQueueSQL(update,Shared.expires(this,expires),flags,value,key);
  }
 else   voltQueueSQL(insert,key,Shared.expires(this,expires),flags,value);
  voltExecuteSQL(true);
  return VoltCacheResult.STORED;
}
