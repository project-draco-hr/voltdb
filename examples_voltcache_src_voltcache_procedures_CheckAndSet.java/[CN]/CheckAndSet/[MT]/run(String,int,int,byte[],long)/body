{
  final int now=Shared.init(this,key);
  voltQueueSQL(check,key,now);
  VoltTable checkResult=voltExecuteSQL()[0];
  if (checkResult.getRowCount() == 0)   return VoltCacheResult.NOT_FOUND.Code;
  if (checkResult.fetchRow(0).getLong(0) != casVersion)   return VoltCacheResult.EXISTS.Code;
  voltQueueSQL(update,Shared.expires(this,expires),flags,value,key,casVersion);
  voltExecuteSQL(true);
  return VoltCacheResult.STORED.Code;
}
