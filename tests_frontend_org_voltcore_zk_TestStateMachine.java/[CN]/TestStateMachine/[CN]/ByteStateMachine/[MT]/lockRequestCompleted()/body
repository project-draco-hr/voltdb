{
  assertFalse(isLocalStateLocked());
  if (waitOnLockAck) {
    waitOnLockAck=false;
  }
 else {
    proposed=toByteBuffer(getNextByteState(state));
    proposeStateChange(proposed);
  }
}
