{
  m_pendingTxns.addTxn(txn.txnId,txn.coordinatorId,txn);
  m_pendingTxnBytes+=txn.messageSize;
  m_pendingTxnCount++;
  if (m_pendingTxnBytes > MAX_DESIRED_PENDING_BYTES || m_pendingTxnCount > MAX_DESIRED_PENDING_TXNS) {
    if (!m_hadBackPressure) {
      transactionLog.trace("DTXN back pressure began");
      m_hadBackPressure=true;
      m_onBackPressure.run();
    }
  }
  MembershipNotice notice=new MembershipNotice(m_siteId,txn.coordinatorId,txn.txnId,txn.isReadOnly);
  try {
    m_mailbox.send(txn.otherSiteIds,0,notice);
  }
 catch (  MessagingException e) {
    throw new RuntimeException(e);
  }
  sendTransactionToCoordinator(txn);
}
