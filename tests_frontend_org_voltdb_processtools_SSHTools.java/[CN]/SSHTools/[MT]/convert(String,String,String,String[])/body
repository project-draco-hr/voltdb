{
  assert(hostname != null);
  int sshArgCount=7 + (remotePath == null ? 0 : 1);
  String[] retval=new String[command.length + sshArgCount];
  retval[0]="ssh";
  retval[1]="-q";
  retval[2]="-o";
  retval[3]="UserKnownHostsFile=/dev/null";
  retval[4]="-o";
  retval[5]="StrictHostKeyChecking=no";
  retval[6]="";
  if (username != null)   retval[6]=retval[6].concat(username + "@");
  retval[6]=retval[6].concat(hostname);
  if (remotePath != null)   retval[7]="cd " + remotePath + ";";
  for (int i=0; i < command.length; i++) {
    assert(command[i] != null);
    retval[sshArgCount + i]=command[i];
  }
  return retval;
}
