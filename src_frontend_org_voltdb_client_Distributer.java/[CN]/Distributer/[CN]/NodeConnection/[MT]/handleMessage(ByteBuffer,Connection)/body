{
  long now=System.currentTimeMillis();
  ClientResponseImpl response=null;
  FastDeserializer fds=new FastDeserializer(buf);
  try {
    response=fds.readObject(ClientResponseImpl.class);
  }
 catch (  IOException e) {
    e.printStackTrace();
  }
  ProcedureCallback cb=null;
  long callTime=0;
synchronized (this) {
    Pair<Long,ProcedureCallback> pair=m_callbacks.remove(response.getClientHandle());
    callTime=pair.getFirst();
    cb=pair.getSecond();
  }
  final int delta=(int)(now - callTime);
  if (cb != null) {
    response.setClientRoundtrip(delta);
    cb.clientCallback(response);
  }
 else   if (m_isConnected) {
    assert(false);
    System.err.println("Invalid response: no callback");
  }
}
