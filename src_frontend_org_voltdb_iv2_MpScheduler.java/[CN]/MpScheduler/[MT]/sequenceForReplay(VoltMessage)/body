{
  boolean canDeliver=true;
  long sequenceWithTxnId=Long.MIN_VALUE;
  boolean dr=((message instanceof TransactionInfoBaseMessage && ((TransactionInfoBaseMessage)message).isForDR()));
  if (dr) {
    sequenceWithTxnId=((TransactionInfoBaseMessage)message).getOriginalTxnId();
    InitiateResponseMessage dupe=m_replaySequencer.dedupe(sequenceWithTxnId,(TransactionInfoBaseMessage)message);
    if (dupe != null) {
      canDeliver=false;
      m_mailbox.send(dupe.getInitiatorHSId(),dupe);
    }
 else {
      m_replaySequencer.updateLastSeenTxnId(sequenceWithTxnId,(TransactionInfoBaseMessage)message);
      canDeliver=true;
    }
  }
  return canDeliver;
}
