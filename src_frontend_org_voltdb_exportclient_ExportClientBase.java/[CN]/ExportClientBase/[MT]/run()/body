{
  boolean connected=true;
  int poll_wait_time=0;
  final int max_poll_wait_time=2000;
  final int poll_back_off_addend=100;
  final int poll_accelerate_factor=2;
  while (connected) {
    int offered_msgs=work();
    connected=checkConnections();
    if (offered_msgs > 0) {
      poll_wait_time=(int)Math.floor(poll_wait_time / poll_accelerate_factor);
    }
 else     if (poll_wait_time < max_poll_wait_time) {
      poll_wait_time+=poll_back_off_addend;
    }
    if (poll_wait_time > 0) {
      try {
        Thread.sleep(poll_wait_time);
      }
 catch (      InterruptedException e) {
      }
    }
  }
}
