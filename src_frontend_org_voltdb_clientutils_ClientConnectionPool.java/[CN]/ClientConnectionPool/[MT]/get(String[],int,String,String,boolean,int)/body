{
  String clientConnectionKey=user + ":" + password+ "@";
  for (int i=0; i < servers.length; i++)   clientConnectionKey+=servers[i] + ",";
  clientConnectionKey+=":" + Integer.toString(port) + "{"+ Boolean.toString(isHeavyWeight)+ ":"+ Integer.toString(maxOutstandingTxns)+ "}";
  int cnt=1;
  while (ClientConnections.containsKey(clientConnectionKey)) {
    if (ClientConnections.get(clientConnectionKey).Users >= MAX_USERS_PER_CLIENT)     clientConnectionKey+="::" + cnt++;
 else     break;
  }
  if (!ClientConnections.containsKey(clientConnectionKey))   ClientConnections.put(clientConnectionKey,new ClientConnection(clientConnectionKey,servers,port,user,password,isHeavyWeight,maxOutstandingTxns));
  return ClientConnections.get(clientConnectionKey).use();
}
