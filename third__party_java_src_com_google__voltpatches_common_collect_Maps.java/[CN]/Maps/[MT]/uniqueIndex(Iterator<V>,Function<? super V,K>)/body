{
  checkNotNull(keyFunction);
  ImmutableMap.Builder<K,V> builder=ImmutableMap.builder();
  while (values.hasNext()) {
    V value=values.next();
    builder.put(keyFunction.apply(value),value);
  }
  return builder.build();
}
