def __init_from_file(self, filename):
    file_lines = []
    comments = 0
    fd = open(filename, 'r')
    for line in fd:
        if line.startswith('--'):
            continue
        elif line.startswith('/*'):
            comments += 1
        count = line.count('*/')
        if (count > 0):
            comments -= count
            assert (comments >= 0)
            continue
        if (comments > 0):
            continue
        if line.startswith('<'):
            match = re.compile('<(\\S+)>').search(line)
            if match:
                include_file = match.group(1)
                include_lines = self.__init_from_file(os.path.join(os.path.dirname(filename), include_file))
                file_lines.extend(include_lines)
            continue
        if line.strip():
            file_lines.append(line.strip())
    fd.close()
    return file_lines
