def scan_for_subs(self, lines):
    outlines = []
    subs = {}
    for line in lines:
        if line.startswith('{'):
            match = re.compile('{(@\\S+)\\s*=\\s*"(.*)"}$').search(line)
            subs[match.group(1).strip()] = match.group(2).strip()
        else:
            outlines.append(line)
    return (subs, outlines)
