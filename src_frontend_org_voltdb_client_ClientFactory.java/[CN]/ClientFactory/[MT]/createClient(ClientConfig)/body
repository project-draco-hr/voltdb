{
  final int cores=Runtime.getRuntime().availableProcessors();
  return new ClientImpl(config.m_expectedOutgoingMessageSize,config.m_maxArenaSizes,cores > 4 ? config.m_heavyweight : false,config.m_statsSettings,config.m_username,config.m_password,config.m_listener);
}
