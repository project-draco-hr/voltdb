{
  final int cores=Runtime.getRuntime().availableProcessors();
  return new ClientImpl(expectedOutgoingMessageSize,maxArenaSizes,cores > 4 ? heavyweight : false);
}
