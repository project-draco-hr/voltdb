{
  TPCCProjectBuilder project=new TPCCProjectBuilder();
  project.addDefaultSchema();
  project.addDefaultPartitioning();
  project.addDefaultProcedures();
  project.setSecurityEnabled(true);
  GroupInfo groups[]=new GroupInfo[]{new GroupInfo("foo",false,false),new GroupInfo("blah",false,false)};
  project.addGroups(groups);
  UserInfo users[]=new UserInfo[]{new UserInfo("john","hugg",new String[]{"foo"}),new UserInfo("ryan","betts",new String[]{"foo","bar"}),new UserInfo("ariel","weisberg",new String[]{"bar"})};
  project.addUsers(users);
  String catalogName="compile-deployment.jar";
  VoltServerConfig config=new LocalSingleProcessServer(catalogName,1,BackendTarget.NONE);
  assertTrue(config.compile(project));
  Catalog catalog=new Catalog();
  catalog.execute(CatalogUtil.loadCatalogFromJar(catalogName,null));
  assertFalse(CatalogUtil.compileDeployment(catalog,project.getPathToDeployment()));
}
