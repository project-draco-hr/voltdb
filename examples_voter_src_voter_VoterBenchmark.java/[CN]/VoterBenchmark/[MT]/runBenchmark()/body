{
  connect("localhost",VoltDB.DEFAULT_PORT);
  ClientResponse response=client.callProcedure("Initialize",config.contestantCount,CONTESTANT_NAMES_CSV);
  Timer timer=new Timer();
  TimerTask statsPrinting=new TimerTask(){
    @Override public void run(){
      printStatistics();
    }
  }
;
  timer.scheduleAtFixedRate(statsPrinting,config.displayInterval * 1000,config.displayInterval * 1000);
  final long endTime=System.currentTimeMillis() + (1000l * config.duration);
  while (endTime > System.currentTimeMillis()) {
    PhoneCallGenerator.PhoneCall call=switchboard.receive();
    client.callProcedure(callback,"Vote",call.phoneNumber,call.contestantNumber,config.maxVoteCount);
    Thread.sleep(1);
  }
  timer.cancel();
  printResults();
  client.close();
}
