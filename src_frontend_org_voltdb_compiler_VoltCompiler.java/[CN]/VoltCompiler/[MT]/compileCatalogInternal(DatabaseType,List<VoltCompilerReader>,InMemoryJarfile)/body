{
  cachedAddedClasses.clear();
  m_catalog=new Catalog();
  m_catalog.execute("add / clusters cluster");
  m_catalog.getClusters().get("cluster").setSecurityenabled(false);
  if (database != null) {
    final String databaseName=database.getName();
    if (databaseName.equals("database") == false) {
      return null;
    }
    try {
      compileDatabaseNode(database,ddlReaderList,jarOutput);
    }
 catch (    final VoltCompilerException e) {
      return null;
    }
  }
  assert(m_catalog != null);
  final int epoch=(int)(TransactionIdManager.getEpoch() / 1000);
  m_catalog.getClusters().get("cluster").setLocalepoch(epoch);
  try {
    m_report=ReportMaker.report(m_catalog,m_warnings);
    File file=new File("catalog-report.html");
    FileWriter fw=new FileWriter(file);
    fw.write(m_report);
    fw.close();
    m_reportPath=file.getAbsolutePath();
  }
 catch (  IOException e) {
    e.printStackTrace();
    return null;
  }
  return m_catalog;
}
