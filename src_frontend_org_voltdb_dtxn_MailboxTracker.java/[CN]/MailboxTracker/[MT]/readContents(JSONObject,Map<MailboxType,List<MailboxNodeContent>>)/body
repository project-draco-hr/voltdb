{
  @SuppressWarnings("unchecked") Iterator<String> keys=obj.keys();
  while (keys.hasNext()) {
    String key=keys.next();
    MailboxType type=MailboxType.valueOf(key);
    List<MailboxNodeContent> mailboxes=mailboxMap.get(type);
    if (mailboxes == null) {
      mailboxes=new ArrayList<MailboxNodeContent>();
      mailboxMap.put(type,mailboxes);
    }
    JSONArray mailboxObjects=obj.getJSONArray(key);
    for (int ii=0; ii < mailboxObjects.length(); ii++) {
      JSONObject mailboxDescription=mailboxObjects.getJSONObject(ii);
      long hsId=mailboxDescription.getLong("HSId");
      Integer partitionId=null;
      if (mailboxDescription.has("partitionId")) {
        partitionId=mailboxDescription.getInt("partitionId");
      }
      mailboxes.add(new MailboxNodeContent(hsId,partitionId));
    }
  }
}
