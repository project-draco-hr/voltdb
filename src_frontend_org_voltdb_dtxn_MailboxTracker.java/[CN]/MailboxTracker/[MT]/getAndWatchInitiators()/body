{
  List<String> children=m_zk.getChildren("/mailboxes/initiators",new Watcher(){
    @Override public void process(    WatchedEvent event){
      try {
        getAndWatchInitiators();
      }
 catch (      Exception e) {
        log.error(e.getMessage());
      }
    }
  }
);
  Map<Integer,ArrayList<Long>> hostsToInitiators=new HashMap<Integer,ArrayList<Long>>();
  Map<Integer,ArrayList<Long>> partitionsToInitiators=new HashMap<Integer,ArrayList<Long>>();
  Map<Long,Integer> initiatorsToPartitions=new HashMap<Long,Integer>();
  for (  String child : children) {
    byte[] data=m_zk.getData("/mailboxes/initiators/" + child,false,null);
    JSONObject jsObj=new JSONObject(new String(data,"UTF-8"));
    try {
      long HSId=jsObj.getLong("HSId");
      int partitionId=jsObj.getInt("partitionId");
      int hostId=MiscUtils.getHostIdFromHSId(HSId);
      ArrayList<Long> initiators=new ArrayList<Long>();
      hostsToInitiators.put(hostId,initiators);
      initiators.add(HSId);
      initiators=new ArrayList<Long>();
      partitionsToInitiators.put(partitionId,initiators);
      initiators.add(HSId);
      initiatorsToPartitions.put(HSId,partitionId);
    }
 catch (    JSONException e) {
      log.error(e.getMessage());
    }
  }
  m_hostsToInitiators=hostsToInitiators;
  m_partitionsToInitiators=partitionsToInitiators;
  m_initiatorsToPartitions=initiatorsToPartitions;
}
