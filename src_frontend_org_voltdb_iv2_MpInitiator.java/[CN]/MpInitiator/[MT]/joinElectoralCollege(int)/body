{
  m_missingStartupSites=new CountDownLatch(startupCount);
  m_leaderElector=new LeaderElector(m_messenger.getZK(),LeaderElector.electionDirForPartition(m_partitionId),Long.toString(getInitiatorHSId()),null,this);
  m_leaderElector.start(true);
  m_missingStartupSites=null;
  boolean isLeader=m_leaderElector.isLeader();
  if (isLeader) {
    tmLog.info(m_whoami + "published as leader.");
  }
 else {
    tmLog.info(m_whoami + "running as replica.");
  }
  return isLeader;
}
