{
  MockVoltDB mockVoltDB=new MockVoltDB();
  VoltDB.replaceVoltDBInstanceForTest(mockVoltDB);
  try {
    SocketJoiner joiner1=new SocketJoiner(ConnectionUtil.getLocalAddress(),3,0,0,null);
    SocketJoiner joiner2=new SocketJoiner(ConnectionUtil.getLocalAddress(),3,0,0,null);
    SocketJoiner joiner3=new SocketJoiner(ConnectionUtil.getLocalAddress(),3,1,0,null);
    joiner1.start();
    joiner2.start();
    joiner3.start();
    joiner1.join();
    joiner2.join();
    joiner3.join();
    assertTrue(mockVoltDB.getCrashCount() > 0);
    return;
  }
 catch (  InterruptedException e) {
    e.printStackTrace();
  }
  assertTrue(false);
  try {
    SocketJoiner joiner1=new SocketJoiner(ConnectionUtil.getLocalAddress(),3,0,0,null);
    SocketJoiner joiner2=new SocketJoiner(ConnectionUtil.getLocalAddress(),3,0,0,null);
    SocketJoiner joiner3=new SocketJoiner(ConnectionUtil.getLocalAddress(),3,0,1,null);
    joiner1.start();
    joiner2.start();
    joiner3.start();
    joiner1.join();
    joiner2.join();
    joiner3.join();
    assertTrue(mockVoltDB.getCrashCount() > 0);
    return;
  }
 catch (  InterruptedException e) {
    e.printStackTrace();
  }
  assertTrue(false);
}
