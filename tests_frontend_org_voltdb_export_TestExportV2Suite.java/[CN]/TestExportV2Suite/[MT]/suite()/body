{
  TheHashinator.initialize(LegacyHashinator.class,LegacyHashinator.getConfigureBytes(3));
  LocalCluster config;
  final MultiConfigSuiteBuilder builder=new MultiConfigSuiteBuilder(TestExportV2Suite.class);
  VoltProjectBuilder project=new VoltProjectBuilder();
  project.setSecurityEnabled(true);
  project.addGroups(GROUPS);
  project.addUsers(USERS);
  project.addSchema(TestSQLTypesSuite.class.getResource("sqltypessuite-export-ddl.sql"));
  project.addSchema(TestSQLTypesSuite.class.getResource("sqltypessuite-nonulls-export-ddl.sql"));
  Properties props=new Properties();
  props.putAll(ImmutableMap.<String,String>of("type","csv","batched","false","with-schema","true","nonce","zorag","outdir","/tmp/" + System.getProperty("user.name")));
  project.addOnServerExport(true,java.util.Arrays.asList(new String[]{"export"}),"file",props);
  project.setTableAsExportOnly("ALLOW_NULLS");
  project.setTableAsExportOnly("NO_NULLS");
  project.addPartitionInfo("NO_NULLS","PKEY");
  project.addPartitionInfo("ALLOW_NULLS","PKEY");
  project.addPartitionInfo("WITH_DEFAULTS","PKEY");
  project.addPartitionInfo("WITH_NULL_DEFAULTS","PKEY");
  project.addPartitionInfo("EXPRESSIONS_WITH_NULLS","PKEY");
  project.addPartitionInfo("EXPRESSIONS_NO_NULLS","PKEY");
  project.addPartitionInfo("JUMBO_ROW","PKEY");
  project.addProcedures(PROCEDURES);
  config=new LocalCluster("export-ddl-cluster-rep.jar",2,3,1,BackendTarget.NATIVE_EE_JNI,LocalCluster.FailureState.ALL_RUNNING,true,false,true);
  boolean compile=config.compile(project);
  assertTrue(compile);
  config.setHasLocalServer(false);
  config.setMaxHeap(256);
  builder.addServerConfig(config);
  config=new LocalCluster("export-ddl-sans-nonulls.jar",2,3,1,BackendTarget.NATIVE_EE_JNI,LocalCluster.FailureState.ALL_RUNNING,true);
  config.setMaxHeap(256);
  project=new VoltProjectBuilder();
  project.addGroups(GROUPS);
  project.addUsers(USERS);
  project.addSchema(TestSQLTypesSuite.class.getResource("sqltypessuite-export-ddl.sql"));
  project.addOnServerExport(true,java.util.Arrays.asList(new String[]{"export"}),"file",props);
  project.setTableAsExportOnly("ALLOW_NULLS");
  project.addPartitionInfo("ALLOW_NULLS","PKEY");
  project.addPartitionInfo("WITH_DEFAULTS","PKEY");
  project.addPartitionInfo("WITH_NULL_DEFAULTS","PKEY");
  project.addPartitionInfo("EXPRESSIONS_WITH_NULLS","PKEY");
  project.addPartitionInfo("EXPRESSIONS_NO_NULLS","PKEY");
  project.addPartitionInfo("JUMBO_ROW","PKEY");
  project.addProcedures(PROCEDURES2);
  compile=config.compile(project);
  MiscUtils.copyFile(project.getPathToDeployment(),Configuration.getPathToCatalogForTest("export-ddl-sans-nonulls.xml"));
  assertTrue(compile);
  config=new LocalCluster("export-ddl-addedtable.jar",2,3,1,BackendTarget.NATIVE_EE_JNI,LocalCluster.FailureState.ALL_RUNNING,true);
  config.setMaxHeap(256);
  project=new VoltProjectBuilder();
  project.addGroups(GROUPS);
  project.addUsers(USERS);
  project.addSchema(TestSQLTypesSuite.class.getResource("sqltypessuite-export-ddl.sql"));
  project.addSchema(TestSQLTypesSuite.class.getResource("sqltypessuite-nonulls-export-ddl.sql"));
  project.addSchema(TestSQLTypesSuite.class.getResource("sqltypessuite-addedtable-export-ddl.sql"));
  project.addOnServerExport(true,java.util.Arrays.asList(new String[]{"export"}),"file",props);
  project.setTableAsExportOnly("ALLOW_NULLS");
  project.setTableAsExportOnly("ADDED_TABLE");
  project.setTableAsExportOnly("NO_NULLS");
  project.addPartitionInfo("ALLOW_NULLS","PKEY");
  project.addPartitionInfo("ADDED_TABLE","PKEY");
  project.addPartitionInfo("WITH_DEFAULTS","PKEY");
  project.addPartitionInfo("WITH_NULL_DEFAULTS","PKEY");
  project.addPartitionInfo("EXPRESSIONS_WITH_NULLS","PKEY");
  project.addPartitionInfo("EXPRESSIONS_NO_NULLS","PKEY");
  project.addPartitionInfo("JUMBO_ROW","PKEY");
  project.addPartitionInfo("NO_NULLS","PKEY");
  project.addProcedures(PROCEDURES);
  project.addProcedures(PROCEDURES3);
  compile=config.compile(project);
  MiscUtils.copyFile(project.getPathToDeployment(),Configuration.getPathToCatalogForTest("export-ddl-addedtable.xml"));
  assertTrue(compile);
  return builder;
}
