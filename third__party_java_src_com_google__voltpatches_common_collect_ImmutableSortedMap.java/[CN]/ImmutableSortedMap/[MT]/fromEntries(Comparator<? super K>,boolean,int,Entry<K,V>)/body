{
  for (int i=0; i < size; i++) {
    Entry<K,V> entry=entries[i];
    entries[i]=entryOf(entry.getKey(),entry.getValue());
  }
  if (!sameComparator) {
    sortEntries(comparator,size,entries);
    validateEntries(size,entries,comparator);
  }
  return fromSortedEntries(comparator,size,entries);
}
