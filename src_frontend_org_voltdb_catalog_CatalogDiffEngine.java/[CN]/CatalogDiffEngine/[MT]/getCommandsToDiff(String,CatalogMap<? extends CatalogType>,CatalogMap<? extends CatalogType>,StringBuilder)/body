{
  assert(prevMap != null);
  assert(newMap != null);
  for (  CatalogType prevType : prevMap) {
    String name=prevType.getTypeName();
    CatalogType newType=newMap.get(name);
    if (newType == null) {
      sb.append("delete ").append(prevType.getParent().getPath()).append(" ");
      sb.append(mapName).append(" ").append(name).append("\n");
      continue;
    }
    getCommandsToDiff(prevType,newType,sb);
  }
  for (  CatalogType newType : newMap) {
    CatalogType prevType=prevMap.get(newType.getTypeName());
    if (prevType != null)     continue;
    newType.writeCreationCommand(sb);
    newType.writeFieldCommands(sb);
    newType.writeChildCommands(sb);
  }
}
