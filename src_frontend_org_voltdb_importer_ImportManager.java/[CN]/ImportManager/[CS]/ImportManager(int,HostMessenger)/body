{
  m_myHostId=myHostId;
  m_messenger=messenger;
  m_distributer=new ChannelDistributer(m_messenger.getZK(),String.valueOf(m_myHostId));
  m_distributer.registerCallback("__IMPORT_MANAGER__",this);
  m_frameworkProps=new HashMap<String,String>();
  m_frameworkProps.put(Constants.FRAMEWORK_SYSTEMPACKAGES_EXTRA,"org.voltcore.network;version=1.0.0" + ",org.voltdb.importer;version=1.0.0,org.apache.log4j;version=1.0.0,org.voltdb.client;version=1.0.0,org.slf4j;version=1.0.0,org.voltcore.utils;version=1.0.0");
  m_frameworkProps.put("org.osgi.framework.storage.clean","onFirstInit");
  String tmpFilePath=System.getProperty(VOLT_TMP_DIR,System.getProperty("java.io.tmpdir"));
  File f=new File(tmpFilePath,System.getProperty("user.name"));
  if (!f.isDirectory() && !f.mkdirs()) {
    throw new IOException("Failed to importer cache directory: " + f.getAbsolutePath());
  }
  if (!f.canWrite()) {
    throw new IOException("Importer cache directory not writable: " + f.getAbsolutePath());
  }
  m_frameworkProps.put("felix.cache.rootdir",f.getAbsolutePath());
  m_frameworkProps.put("felix.cache.locking",Boolean.FALSE.toString());
  m_frameworkFactory=ServiceLoader.load(FrameworkFactory.class).iterator().next();
  importLog.info("Framework properties are: " + m_frameworkProps);
  m_framework=m_frameworkFactory.newFramework(m_frameworkProps);
  m_framework.start();
}
