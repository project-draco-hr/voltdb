{
  m_myHostId=myHostId;
  m_messenger=messenger;
  String tmpFilePath=System.getProperty(VOLT_TMP_DIR,System.getProperty("java.io.tmpdir"));
  File f=new File(tmpFilePath,System.getProperty("user.name"));
  if (!f.exists() && !f.mkdirs()) {
    throw new IOException("Failed to create required OSGI cache directory: " + f.getAbsolutePath());
  }
  if (!f.isDirectory() || !f.canRead() || !f.canWrite()|| !f.canExecute()) {
    throw new IOException("Cannot access OSGI cache directory: " + f.getAbsolutePath());
  }
  m_frameworkProps=ImmutableMap.<String,String>builder().put(Constants.FRAMEWORK_SYSTEMPACKAGES_EXTRA,"org.voltcore.network;version=1.0.0" + ",org.voltdb.importer;version=1.0.0,org.apache.log4j;version=1.0.0" + ",org.voltdb.client;version=1.0.0,org.slf4j;version=1.0.0,org.voltcore.utils;version=1.0.0").put("org.osgi.framework.storage.clean","onFirstInit").put("felix.cache.rootdir",f.getAbsolutePath()).put("felix.cache.locking",Boolean.FALSE.toString()).build();
}
