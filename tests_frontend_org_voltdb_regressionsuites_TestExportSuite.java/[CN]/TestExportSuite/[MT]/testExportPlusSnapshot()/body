{
  final Client client=getClient();
  for (int i=0; i < 10; i++) {
    Object[] rowdata=TestSQLTypesSuite.m_midValues;
    m_tester.addRow(m_tester.m_generationsSeen.last(),"ALLOW_NULLS",i,convertValsToRow(i,'I',rowdata));
    Object[] params=convertValsToParams("ALLOW_NULLS",i,rowdata);
    client.callProcedure("Insert",params);
    rowdata=TestSQLTypesSuite.m_defaultValues;
    m_tester.addRow(m_tester.m_generationsSeen.last(),"NO_NULLS",i,convertValsToRow(i,'I',rowdata));
    params=convertValsToParams("NO_NULLS",i,rowdata);
    client.callProcedure("Insert",params);
  }
  client.callProcedure("@SnapshotSave","/tmp/" + System.getProperty("user.name"),"testExportPlusSnapshot",(byte)1).getResults();
  final ByteArrayOutputStream baos=new ByteArrayOutputStream();
  final PrintStream ps=new PrintStream(baos);
  final PrintStream original=System.out;
  new java.io.File("/tmp/" + System.getProperty("user.name")).mkdir();
  try {
    System.setOut(ps);
    final String args[]=new String[]{"testExportPlusSnapshot","--dir","/tmp/" + System.getProperty("user.name")};
    SnapshotVerifier.main(args);
    ps.flush();
    final String reportString=baos.toString("UTF-8");
    assertTrue(reportString.startsWith("Snapshot valid\n"));
  }
 catch (  final UnsupportedEncodingException e) {
  }
 finally {
    System.setOut(original);
  }
  quiesceAndVerify(client,m_tester);
}
