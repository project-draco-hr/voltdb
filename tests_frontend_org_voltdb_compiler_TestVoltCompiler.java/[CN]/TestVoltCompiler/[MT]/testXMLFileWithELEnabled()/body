{
  final String simpleSchema="create table books (cash integer default 23, title varchar(3) default 'foo', PRIMARY KEY(cash));";
  final File schemaFile=VoltProjectBuilder.writeStringToTempFile(simpleSchema);
  final String schemaPath=schemaFile.getPath();
  final String simpleProject="<?xml version=\"1.0\"?>\n" + "<project>" + " <database name='database'>"+ "  <schemas><schema path='" + schemaPath + "' /></schemas>"+ "  <procedures><procedure class='org.voltdb.compiler.procedures.AddBook' /></procedures>"+ "  <exports><connector class='org.voltdb.VerticaLoader'> "+ "             <tables><table name='books' exportonly='true'/></tables>"+ "           </connector>"+ "  </exports>"+ " </database>"+ "</project>";
  final File projectFile=VoltProjectBuilder.writeStringToTempFile(simpleProject);
  final String projectPath=projectFile.getPath();
  final VoltCompiler compiler=new VoltCompiler();
  final boolean success=compiler.compile(projectPath,"testout.jar",System.out,null);
  assertTrue(success);
  final Catalog c1=compiler.getCatalog();
  final String catalogContents=JarReader.readFileFromJarfile("testout.jar","catalog.txt");
  final Catalog c2=new Catalog();
  c2.execute(catalogContents);
  assertTrue(c2.serialize().equals(c1.serialize()));
  final File jar=new File("testout.jar");
  jar.delete();
}
