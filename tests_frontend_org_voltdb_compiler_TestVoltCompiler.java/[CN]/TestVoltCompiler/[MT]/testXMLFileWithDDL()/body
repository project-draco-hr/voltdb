{
  final String simpleSchema1="create table books (cash integer default 23, title varchar default 'foo', PRIMARY KEY(cash));";
  final String simpleSchema2="create table books2 (cash integer default 23, title varchar default 'foo', PRIMARY KEY(cash));";
  final File schemaFile1=VoltProjectBuilder.writeStringToTempFile(simpleSchema1);
  final String schemaPath1=schemaFile1.getPath();
  final File schemaFile2=VoltProjectBuilder.writeStringToTempFile(simpleSchema2);
  final String schemaPath2=schemaFile2.getPath();
  final String simpleProject="<?xml version=\"1.0\"?>\n" + "<project>" + "<!-- xml comment check -->"+ "<database name='database'>"+ "<!-- xml comment check -->"+ "<schemas>"+ "<!-- xml comment check -->"+ "<schema path='" + schemaPath1 + "' />"+ "<schema path='"+ schemaPath2+ "' />"+ "<!-- xml comment check -->"+ "</schemas>"+ "<!-- xml comment check -->"+ "<procedures>"+ "<!-- xml comment check -->"+ "<procedure class='org.voltdb.compiler.procedures.AddBook' />"+ "<procedure class='Foo'>"+ "<sql>select * from books;</sql>"+ "</procedure>"+ "</procedures>"+ "<!-- xml comment check -->"+ "</database>"+ "<!-- xml comment check -->"+ "</project>";
  final File projectFile=VoltProjectBuilder.writeStringToTempFile(simpleProject);
  final String projectPath=projectFile.getPath();
  final VoltCompiler compiler=new VoltCompiler();
  final ClusterConfig cluster_config=new ClusterConfig(1,1,0,"localhost");
  final boolean success=compiler.compile(projectPath,cluster_config,"testout.jar",System.out,null);
  assertTrue(success);
  final Catalog c1=compiler.getCatalog();
  final String catalogContents=JarReader.readFileFromJarfile("testout.jar","catalog.txt");
  final Catalog c2=new Catalog();
  c2.execute(catalogContents);
  assertTrue(c2.serialize().equals(c1.serialize()));
  final File jar=new File("testout.jar");
  jar.delete();
}
