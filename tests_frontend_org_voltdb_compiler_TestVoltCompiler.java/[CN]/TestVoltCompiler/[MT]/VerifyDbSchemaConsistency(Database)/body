{
  try {
    String ddlTextString=CatalogSchemaTools.decodeDDL(db.getSchema());
    final File schemaFile=VoltProjectBuilder.writeStringToTempFile(ddlTextString);
    VoltCompiler compiler=new VoltCompiler();
    compiler.compileFromDDL("/tmp/build_from_generated_ddl_test.jar",schemaFile.getPath());
    final String catalog2Contents=VoltCompilerUtils.readFileFromJarfile("/tmp/build_from_generated_ddl_test.jar","catalog.txt");
    final Catalog cat2=new Catalog();
    cat2.execute(catalog2Contents);
    Database db2=cat2.getClusters().get("cluster").getDatabases().get("database");
    String regenDDL=CatalogSchemaTools.decodeDDL(db2.getSchema());
    assertTrue(ddlTextString.equals(regenDDL));
  }
 catch (  VoltCompilerException e2) {
  }
catch (  IOException e) {
  }
 finally {
    final File jar=new File("/tmp/build_from_generated_ddl_test.jar");
    jar.delete();
  }
}
