{
  ClientImpl ci=(ClientImpl)client;
  if (ci.getUsername().length() == 0) {
    return;
  }
  Connection conn=m_connections.get(ci.getUsername());
  if (conn == null) {
    throw new RuntimeException("Released client not in pool.");
  }
  conn.refCount--;
  attemptToShrinkPoolIfNeeded();
}
