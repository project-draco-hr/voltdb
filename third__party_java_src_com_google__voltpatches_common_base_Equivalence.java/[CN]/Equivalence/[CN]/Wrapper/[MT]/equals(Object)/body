{
  if (obj == this) {
    return true;
  }
 else   if (obj instanceof Wrapper) {
    Wrapper<?> that=(Wrapper<?>)obj;
    @SuppressWarnings("unchecked") Equivalence<Object> equivalence=(Equivalence<Object>)this.equivalence;
    return equivalence.equals(that.equivalence) && equivalence.equivalent(this.reference,that.reference);
  }
 else {
    return false;
  }
}
