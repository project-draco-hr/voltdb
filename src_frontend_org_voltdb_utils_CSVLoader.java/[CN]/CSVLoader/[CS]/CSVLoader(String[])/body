{
  CSVConfig cfg=new CSVConfig();
  cfg.parse(CSVLoader.class.getName(),options);
  config=cfg;
  configuration();
  try {
    if (CSVLoader.standin)     csvReader=new CSVReader(new BufferedReader(new InputStreamReader(System.in)),config.separator,config.quotechar,config.escape,config.skipline,config.strictQuotes,config.ignoreLeadingWhiteSpace);
 else     csvReader=new CSVReader(new FileReader(config.inputfile),config.separator,config.quotechar,config.escape,config.skipline,config.strictQuotes,config.ignoreLeadingWhiteSpace);
    csvClient=ClientFactory.createClient();
    csvClient.createConnection("localhost");
  }
 catch (  Exception e) {
    e.printStackTrace();
  }
  String path_invaliderowsfile=config.reportdir + CSVLoader.invaliderowsfile;
  String path_logfile=config.reportdir + CSVLoader.logfile;
  String path_reportfile=config.reportdir + CSVLoader.reportfile;
  try {
    out_invaliderowfile=new BufferedWriter(new FileWriter(path_invaliderowsfile));
    out_logfile=new BufferedWriter(new FileWriter(path_logfile));
    out_reportfile=new BufferedWriter(new FileWriter(path_reportfile));
  }
 catch (  FileNotFoundException e) {
    System.err.println("CSV file '" + config.inputfile + "' could not be found.");
  }
catch (  Exception x) {
    System.err.println(x.getMessage());
  }
}
