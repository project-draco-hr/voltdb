{
  if (!m_hasStartedWork) {
    m_site.beginNewTxn(this);
    m_hasStartedWork=true;
  }
  if (m_done) {
    return true;
  }
  WorkUnit wu=m_readyWorkUnits.poll();
  while (wu != null) {
    VoltMessage payload=wu.getPayload();
    if (payload == null) {
      m_done=((m_dirty == false) || (wu.commitEvenIfDirty));
    }
 else     if (payload instanceof InitiateTaskMessage) {
      assert(false);
    }
 else     if (payload instanceof FragmentTaskMessage) {
      processFragmentWork((FragmentTaskMessage)payload,wu.getDependencies());
    }
    wu=m_readyWorkUnits.poll();
  }
  return m_done;
}
