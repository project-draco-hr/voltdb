{
  System.out.println("STARTING testCurrentTimestamp");
  Client client=getClient();
  ClientResponse cr=null;
  VoltTable vt=null;
  Date time=null;
  long epsilonMicros=100 * 1000;
  cr=client.callProcedure("@AdHoc","Insert into R_TIME (ID) VALUES(1);");
  time=new Date();
  assertEquals(ClientResponse.SUCCESS,cr.getStatus());
  vt=client.callProcedure("@AdHoc","SELECT C1, T1, T2, T3 FROM R_TIME WHERE ID = 1;").getResults()[0];
  assertTrue(vt.advanceRow());
  assertEquals(2,vt.getLong(0));
  assertTrue(time.getTime() * 1000 - vt.getTimestampAsLong(2) >= 0);
  assertTrue(time.getTime() * 1000 - vt.getTimestampAsLong(2) < epsilonMicros);
  assertEquals(vt.getTimestampAsLong(2),vt.getTimestampAsLong(3));
  vt=client.callProcedure("@AdHoc","SELECT NOW, CURRENT_TIMESTAMP FROM R_TIME;").getResults()[0];
  time=new Date();
  assertTrue(vt.advanceRow());
  assertTrue(time.getTime() * 1000 - vt.getTimestampAsLong(0) >= 0);
  assertTrue(time.getTime() * 1000 - vt.getTimestampAsLong(0) < epsilonMicros);
  assertEquals(vt.getTimestampAsLong(0),vt.getTimestampAsLong(1));
}
