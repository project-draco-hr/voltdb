{
  ByteBuffer buf=ByteBuffer.allocate(54);
  buf.putInt(50);
  buf.put((byte)1);
  buf.put((byte)ClientAuthHashScheme.HASH_SHA256.getValue());
  buf.putInt(8);
  buf.put("database".getBytes("UTF-8"));
  buf.putInt(0);
  buf.put("".getBytes("UTF-8"));
  buf.put(ConnectionUtil.getHashedPassword(ClientAuthHashScheme.HASH_SHA256,""));
  buf.flip();
  conn.write(buf);
  ByteBuffer resp=ByteBuffer.allocate(4);
  conn.read(resp,4);
  resp.flip();
  int length=resp.getInt();
  resp=ByteBuffer.allocate(length);
  conn.read(resp,length);
  resp.flip();
  byte code=resp.get();
  assertEquals(code,0);
  byte rcode=resp.get();
  assertEquals(rcode,0);
  resp.getInt();
  resp.getLong();
  resp.getLong();
  resp.getInt();
  int buildStringLength=resp.getInt();
  byte buildStringBytes[]=new byte[buildStringLength];
  resp.get(buildStringBytes);
  System.out.println("Authenticated to server: " + new String(buildStringBytes,"UTF-8"));
}
