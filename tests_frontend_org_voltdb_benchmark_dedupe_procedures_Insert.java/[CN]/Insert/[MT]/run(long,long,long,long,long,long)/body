{
  calTemp.setTimeInMillis(checkTimeMillis);
  calTemp.set(Calendar.HOUR_OF_DAY,0);
  calTemp.set(Calendar.MINUTE,0);
  calTemp.set(Calendar.SECOND,0);
  calTemp.set(Calendar.MILLISECOND,0);
  long checkTimeStartOfDayMillis=calTemp.getTimeInMillis();
  calTemp.set(Calendar.HOUR_OF_DAY,23);
  calTemp.set(Calendar.MINUTE,59);
  calTemp.set(Calendar.SECOND,59);
  calTemp.set(Calendar.MILLISECOND,999);
  long checkTimeEndOfDayMillis=calTemp.getTimeInMillis();
  voltQueueSQL(checkArchived,column1,column2,column3,column4,checkTimeStartOfDayMillis,checkTimeEndOfDayMillis);
  voltQueueSQL(checkUnArchived,column1,column2,column3,column4,checkTimeStartOfDayMillis,checkTimeEndOfDayMillis);
  VoltTable results1[]=voltExecuteSQL();
  int sqlStatements=0;
  if (results1[0].getRowCount() == 0) {
    if (results1[1].getRowCount() == 1) {
      if (results1[1].fetchRow(0).getLong(0) > checkTimeMillis) {
        voltQueueSQL(updateUnArchived,checkTimeMillis,column1,column2,column3,column4,checkTimeStartOfDayMillis,checkTimeEndOfDayMillis);
        sqlStatements++;
      }
    }
 else {
      voltQueueSQL(insertUnArchived,column1,column2,column3,column4,checkTimeMillis);
      sqlStatements++;
    }
    if (sqlStatements > 0) {
      VoltTable results2[]=voltExecuteSQL(true);
    }
  }
  VoltTable vtLoad=new VoltTable(new VoltTable.ColumnInfo("called_time_milliseconds",VoltType.BIGINT));
  Object row[]=new Object[1];
  row[0]=called_time_milliseconds;
  vtLoad.addRow(row);
  final VoltTable[] vtReturn={vtLoad};
  return vtReturn;
}
