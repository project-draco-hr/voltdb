{
  assert(jarPath != null);
  DocumentBuilderFactory docFactory;
  DocumentBuilder docBuilder;
  Document doc;
  try {
    docFactory=DocumentBuilderFactory.newInstance();
    docBuilder=docFactory.newDocumentBuilder();
    doc=docBuilder.newDocument();
  }
 catch (  final ParserConfigurationException e) {
    e.printStackTrace();
    return false;
  }
  final Element project=doc.createElement("project");
  doc.appendChild(project);
  final Element database=doc.createElement("database");
  database.setAttribute("name","database");
  project.appendChild(database);
  buildDatabaseElement(doc,database);
  StreamResult result;
  try {
    final Transformer transformer=TransformerFactory.newInstance().newTransformer();
    transformer.setOutputProperty(OutputKeys.INDENT,"yes");
    result=new StreamResult(new StringWriter());
    final DOMSource domSource=new DOMSource(doc);
    transformer.transform(domSource,result);
  }
 catch (  final TransformerConfigurationException e) {
    e.printStackTrace();
    return false;
  }
catch (  final TransformerFactoryConfigurationError e) {
    e.printStackTrace();
    return false;
  }
catch (  final TransformerException e) {
    e.printStackTrace();
    return false;
  }
  final File projectFile=writeStringToTempFile(result.getWriter().toString());
  final String projectPath=projectFile.getPath();
  compiler.setProcInfoOverrides(m_procInfoOverrides);
  if (m_diagnostics != null) {
    compiler.enableDetailedCapture();
  }
  boolean success=compiler.compileWithProjectXML(projectPath,jarPath);
  m_diagnostics=compiler.harvestCapturedDetail();
  if (m_compilerDebugPrintStream != null) {
    if (success) {
      compiler.summarizeSuccess(m_compilerDebugPrintStream,m_compilerDebugPrintStream);
    }
 else {
      compiler.summarizeErrors(m_compilerDebugPrintStream,m_compilerDebugPrintStream);
    }
  }
  return success;
}
