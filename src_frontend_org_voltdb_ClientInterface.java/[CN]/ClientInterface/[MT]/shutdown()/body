{
  if (m_maxConnectionUpdater != null) {
    m_maxConnectionUpdater.cancel(false);
  }
  if (m_acceptor != null) {
    m_acceptor.shutdown();
  }
  if (m_adminAcceptor != null) {
    m_adminAcceptor.shutdown();
  }
  if (m_snapshotDaemon != null) {
    m_snapshotDaemon.shutdown();
  }
  if (m_iv2Masters != null) {
    m_iv2Masters.shutdown();
  }
  if (m_localReplicasBuilder != null) {
    m_localReplicasBuilder.join(10000);
    hostLog.error("Local replica map builder took more than ten seconds, probably hung");
    m_localReplicasBuilder.join();
  }
}
