{
  final Config sysProc=SystemProcedureCatalog.listing.get(procedureName);
  if (sysProc == null) {
    throw new RuntimeException("SnapshotDaemon attempted to invoke " + procedureName + " which is not a known procedure");
  }
  Procedure catProc=sysProc.asCatalogProcedure();
  StoredProcedureInvocation spi=new StoredProcedureInvocation();
  spi.procName=procedureName;
  spi.params=new FutureTask<ParameterSet>(new Callable<ParameterSet>(){
    @Override public ParameterSet call(){
      ParameterSet paramSet=new ParameterSet();
      paramSet.setParameters(params);
      return paramSet;
    }
  }
);
  spi.clientHandle=clientData;
  boolean allowMismatchedResults=catProc.getReadonly() && isProcedureNonDeterministic(catProc);
  createTransaction(m_snapshotDaemonAdapter.connectionId(),"SnapshotDaemon",true,spi,catProc.getReadonly(),catProc.getSinglepartition(),catProc.getEverysite(),m_allPartitions,m_allPartitions.length,m_snapshotDaemonAdapter,0,EstTime.currentTimeMillis(),allowMismatchedResults);
}
