{
  if (VoltDB.instance().isIV2Enabled()) {
    final ClientInterfaceHandleManager cihm=m_cihm.get(connectionId);
    long handle=cihm.getHandle(isSinglePartition,partitions[0],invocation.getClientHandle(),messageSize,now);
    try {
      long initiatorHSId;
      if (isSinglePartition) {
        JSONObject master=m_iv2Masters.get(Integer.toString(partitions[0]));
        if (master == null) {
          hostLog.error("Failed to find master initiator for partition: " + Integer.toString(partitions[0]) + ". Transaction not initiated.");
          cihm.removeHandle(handle);
          return false;
        }
        initiatorHSId=master.getLong("hsid");
      }
 else {
        initiatorHSId=m_cartographer.getHSIdForMultiPartitionInitiator();
      }
      Iv2InitiateTaskMessage workRequest=new Iv2InitiateTaskMessage(m_siteId,initiatorHSId,Iv2InitiateTaskMessage.UNUSED_TRUNC_HANDLE,txnId,isReadOnly,isSinglePartition,invocation,handle,connectionId,false);
      Iv2Trace.logCreateTransaction(workRequest);
      m_mailbox.send(initiatorHSId,workRequest);
    }
 catch (    JSONException e) {
      cihm.removeHandle(handle);
      throw new RuntimeException(e);
    }
    return true;
  }
 else {
    return m_initiator.createTransaction(connectionId,connectionHostname,adminConnection,invocation,isReadOnly,isSinglePartition,isEveryPartition,partitions,numPartitions,clientData,messageSize,now,allowMismatchedResults);
  }
}
