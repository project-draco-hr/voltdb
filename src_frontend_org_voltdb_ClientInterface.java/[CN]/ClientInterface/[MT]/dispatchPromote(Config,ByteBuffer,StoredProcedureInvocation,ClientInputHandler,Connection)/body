{
  if (VoltDB.instance().getReplicationRole() == ReplicationRole.NONE) {
    return new ClientResponseImpl(ClientResponseImpl.GRACEFUL_FAILURE,new VoltTable[0],"@Promote issued on master cluster." + " No action taken.",task.clientHandle);
  }
  org.voltdb.catalog.CommandLog logConfig=m_catalogContext.get().cluster.getLogconfig().get("log");
  Promoter promoter=new Promoter(sysProc,task,logConfig,ccxn,handler.isAdmin(),handler.m_hostname,handler.connectionId(),buf.capacity());
  if (logConfig.getEnabled() && VoltDB.instance().getSiteTracker().isFirstHost()) {
    promoter.truncateAndPromote();
  }
 else {
    promoter.promote();
  }
  return null;
}
