{
  if (invocation != null) {
    final Config sysProc=SystemProcedureCatalog.listing.get(invocation.getFirst());
    if (sysProc == null) {
      throw new RuntimeException("SnapshotDaemon attempted to invoke " + invocation.getFirst() + " which is not a known procedure");
    }
    Procedure catProc=sysProc.asCatalogProcedure();
    StoredProcedureInvocation spi=new StoredProcedureInvocation();
    spi.procName=invocation.getFirst();
    spi.params=new FutureTask<ParameterSet>(new Callable<ParameterSet>(){
      @Override public ParameterSet call(){
        ParameterSet params=new ParameterSet();
        params.setParameters(invocation.getSecond());
        return params;
      }
    }
);
    m_initiator.createTransaction(-1,"SnapshotDaemon",true,spi,catProc.getReadonly(),catProc.getSinglepartition(),catProc.getEverysite(),m_allPartitions,m_allPartitions.length,m_snapshotDaemonAdapter,0,EstTime.currentTimeMillis());
  }
}
