{
  if (VoltDB.instance().isIV2Enabled()) {
    final ClientInterfaceHandleManager cihm=m_cihm.get(connectionId);
    Long initiatorHSId;
    if (isSinglePartition && !isEveryPartition) {
      initiatorHSId=m_iv2Masters.get(partitions[0]);
      if (initiatorHSId == null) {
        hostLog.error("Failed to find master initiator for partition: " + Integer.toString(partitions[0]) + ". Transaction not initiated.");
        return false;
      }
    }
 else {
      initiatorHSId=m_cartographer.getHSIdForMultiPartitionInitiator();
    }
    long handle=cihm.getHandle(isSinglePartition,partitions[0],invocation.getClientHandle(),messageSize,now,invocation.getProcName(),initiatorHSId,isReadOnly);
    Iv2InitiateTaskMessage workRequest=new Iv2InitiateTaskMessage(m_siteId,initiatorHSId,Iv2InitiateTaskMessage.UNUSED_TRUNC_HANDLE,txnId,timestamp,isReadOnly,isSinglePartition,invocation,handle,connectionId,isForReplay);
    Iv2Trace.logCreateTransaction(workRequest);
    m_mailbox.send(initiatorHSId,workRequest);
    return true;
  }
 else {
    return m_initiator.createTransaction(connectionId,connectionHostname,adminConnection,invocation,isReadOnly,isSinglePartition,isEveryPartition,partitions,numPartitions,clientData,messageSize,now,allowMismatchedResults);
  }
}
