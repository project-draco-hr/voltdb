{
  int[] allPartitions=new int[partitionCount];
  int index=0;
  for (  Integer partition : VoltDB.instance().getSiteTracker().m_partitionsToSitesImmutable.keySet()) {
    allPartitions[index++]=partition;
  }
  final ClientInterface ci=new ClientInterface(port,adminPort,context,messenger,replicationRole,initiator,cartographer,allPartitions);
  initiator.setClientInterface(ci);
  return ci;
}
