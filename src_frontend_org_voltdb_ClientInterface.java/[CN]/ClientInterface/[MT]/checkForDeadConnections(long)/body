{
  final ArrayList<Connection> connectionsToRemove=new ArrayList<Connection>();
  for (  final Connection c : m_connections.keySet()) {
    final int delta=c.writeStream().calculatePendingWriteDelta(now);
    if (delta > 4000) {
      connectionsToRemove.add(c);
    }
  }
  for (  final Connection c : connectionsToRemove) {
    networkLog.warn("Closing connection to " + c + " at "+ new java.util.Date()+ " because it refuses to read responses");
    c.unregister();
  }
}
