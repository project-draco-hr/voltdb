{
  try {
    final String reqId=java.util.UUID.randomUUID().toString();
    SnapshotCompletionMonitor completionMonitor=VoltDB.instance().getSnapshotCompletionMonitor();
    completionMonitor.addInterest(new SnapshotCompletionInterest(){
      @Override public CountDownLatch snapshotCompleted(      String nonce,      long multipartTxnId,      long[] partitionTxnIds,      boolean truncationSnapshot,      String reqIdCmp){
        if (truncationSnapshot && reqId.equals(reqIdCmp)) {
          promote();
        }
        return null;
      }
    }
);
    m_zk.create(VoltZK.request_truncation_snapshot,reqId.getBytes(),Ids.OPEN_ACL_UNSAFE,CreateMode.PERSISTENT);
  }
 catch (  Exception e) {
    VoltDB.crashGlobalVoltDB("ZK truncation snapshot request failed",false,e);
  }
}
