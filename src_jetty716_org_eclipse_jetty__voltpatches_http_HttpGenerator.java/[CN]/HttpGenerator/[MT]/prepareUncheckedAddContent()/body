{
  if (_noContent)   return -1;
  if (_last || _state == STATE_END)   return -1;
  Buffer content=_content;
  if (content != null && content.length() > 0 || _bufferChunked) {
    flushBuffer();
    if (content != null && content.length() > 0 || _bufferChunked)     throw new IllegalStateException("FULL");
  }
  if (_buffer == null)   _buffer=_buffers.getBuffer();
  _contentWritten-=_buffer.length();
  if (_head)   return Integer.MAX_VALUE;
  return _buffer.space() - (_contentLength == HttpTokens.CHUNKED_CONTENT ? CHUNK_SPACE : 0);
}
