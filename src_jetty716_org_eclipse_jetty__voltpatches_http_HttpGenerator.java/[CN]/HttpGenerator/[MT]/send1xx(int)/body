{
  if (_state != STATE_HEADER)   return;
  if (code < 100 || code > 199)   throw new IllegalArgumentException("!1xx");
  Status status=__status[code];
  if (status == null)   throw new IllegalArgumentException(code + "?");
  if (_header == null)   _header=_buffers.getHeader();
  _header.put(status._responseLine);
  _header.put(HttpTokens.CRLF);
  try {
    while (_header.length() > 0) {
      int len=_endp.flush(_header);
      if (len < 0)       throw new EofException();
      if (len == 0)       Thread.sleep(100);
    }
  }
 catch (  InterruptedException e) {
    Log.debug(e);
    throw new InterruptedIOException(e.toString());
  }
}
