{
  assert(f != null);
  if (f.exists() == false)   return null;
  if (f.isFile() == false)   return null;
  if (f.canRead() == false)   return null;
  int length=(int)f.length();
  assert(length < (1024 * 1024 * 100));
  byte[] data=new byte[length];
  try {
    FileInputStream fis=new FileInputStream(f);
    fis.read(data);
  }
 catch (  Exception e1) {
    return null;
  }
  String mime=null;
  try {
    mime=NanoHTTPD.mimeFromExtention(f);
  }
 catch (  IOException e1) {
    e1.printStackTrace();
  }
  String name=f.getName();
  SingleFileHTTPServer server=null;
  int port=8080;
  while (server == null) {
    try {
      server=new SingleFileHTTPServer(port++,name,mime,data);
    }
 catch (    IOException e) {
    }
  }
  return server;
}
