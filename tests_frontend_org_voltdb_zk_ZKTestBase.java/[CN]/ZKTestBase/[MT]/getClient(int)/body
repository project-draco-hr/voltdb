{
  final Semaphore permit=new Semaphore(0);
  ZooKeeper keeper=new ZooKeeper("localhost:" + Integer.toString(m_siteIdToZKPort.get(site)),4000,new Watcher(){
    @Override public void process(    WatchedEvent event){
      if (event.getState() == KeeperState.SyncConnected) {
        permit.release();
      }
      System.out.println(event);
    }
  }
);
  m_clients.add(keeper);
  permit.acquire();
  return keeper;
}
