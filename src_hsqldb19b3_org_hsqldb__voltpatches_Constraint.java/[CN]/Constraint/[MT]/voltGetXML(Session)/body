{
  VoltXMLElement constraint=null;
  if (this.constType != MAIN) {
    constraint=new VoltXMLElement("constraint");
    constraint.attributes.put("name",getName().name);
    constraint.attributes.put("constrainttype",getTypeName());
    if (this.constType == FOREIGN_KEY) {
      Table our_table=this.getRef();
      int our_cols[]=this.getRefColumns();
      Table fkey_table=this.getMain();
      int fkey_cols[]=this.getMainColumns();
      constraint.attributes.put("foreignkeytable",fkey_table.getName().statementName);
      assert(our_cols.length == fkey_cols.length);
      for (int i=0; i < our_cols.length; i++) {
        String our_colname=our_table.getColumn(our_cols[i]).getName().statementName;
        String fkey_colname=fkey_table.getColumn(fkey_cols[i]).getName().statementName;
        VoltXMLElement ref=new VoltXMLElement("constraint");
        constraint.children.add(ref);
        assert(ref != null);
        ref.attributes.put("from",our_colname);
        ref.attributes.put("to",fkey_colname);
      }
    }
 else {
      if (core.mainIndex != null)       constraint.attributes.put("index",core.mainIndex.getName().name);
 else       constraint.attributes.put("index","");
    }
  }
  return constraint;
}
