{
  if (response.getStatus() != ClientResponse.SUCCESS)   throw new Exception("Execution Error: " + response.getStatusString());
  for (  VoltTable t : response.getResults()) {
    long rowCount;
    if (!isUpdateResult(t)) {
      rowCount=t.getRowCount();
      if (outputShowMetadata) {
        outputFormatter.printMetadata(System.out,t);
        t.resetRowPosition();
      }
      outputFormatter.printTable(System.out,t);
    }
 else {
      rowCount=t.fetchRow(0).getLong(0);
    }
    if (outputShowMetadata) {
      System.out.printf("\n\n(%d row(s) affected)\n",rowCount);
    }
  }
}
