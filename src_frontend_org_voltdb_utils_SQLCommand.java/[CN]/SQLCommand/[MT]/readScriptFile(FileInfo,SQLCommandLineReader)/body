{
  BufferedReader script=null;
  List<QueryInfo> statements=null;
  try {
    if (fileInfo.getOption() != FileOption.INLINEBATCH) {
      script=new BufferedReader(new FileReader(fileInfo.getFile()));
      statements=readScriptFromReader(fileInfo,new LineReaderAdapter(script));
    }
 else {
      statements=readScriptFromReader(fileInfo,currentLineReader);
    }
  }
 catch (  FileNotFoundException e) {
    System.err.println("Script file '" + fileInfo.getFile().getName() + "' could not be found.");
    stopOrContinue(e);
    return null;
  }
catch (  Exception x) {
    stopOrContinue(x);
    return null;
  }
 finally {
    if (script != null) {
      try {
        script.close();
      }
 catch (      IOException e) {
      }
    }
  }
  return statements;
}
