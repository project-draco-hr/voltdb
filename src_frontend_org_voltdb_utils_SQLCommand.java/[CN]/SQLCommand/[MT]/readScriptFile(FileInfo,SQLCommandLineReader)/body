{
  BufferedReader bufferedReader=null;
  List<QueryInfo> statements=null;
  try {
    SQLCommandLineReader reader=null;
    if (fileInfo.getOption() != FileOption.INLINEBATCH) {
      try {
        bufferedReader=new BufferedReader(new FileReader(fileInfo.getFile()));
        reader=new LineReaderAdapter(bufferedReader);
      }
 catch (      FileNotFoundException e) {
        System.err.println("Script file '" + fileInfo.getFile() + "' could not be found.");
        stopOrContinue(e);
        return null;
      }
    }
 else {
      reader=currentLineReader;
    }
    try {
      statements=readScriptFromReader(fileInfo,reader);
    }
 catch (    Exception x) {
      stopOrContinue(x);
      return null;
    }
  }
  finally {
    if (bufferedReader != null) {
      try {
        bufferedReader.close();
      }
 catch (      IOException e) {
      }
    }
  }
  return statements;
}
