{
  String javahome=System.getProperties().getProperty("java.home");
  if (javahome != null) {
    File f=new File(javahome + "/bin/java");
    if (f.exists() && f.canExecute()) {
      return f.getAbsolutePath();
    }
 else {
      hostLog.warn("Couldn't find java binary in java home (" + javahome + ") defined by "+ "the java.home system property. Path checked was "+ f.getAbsolutePath());
    }
  }
 else {
    hostLog.warn("java.home system property not defined");
  }
  String javaPath=checkForJavaHomeInEnvironment();
  if (javaPath == null) {
    javaPath=checkForJavaInPath();
  }
  if (javaPath == null) {
    hostLog.error("Could not find executable java binary in the java.home property specified by " + "the JVM, or in the Java home specified  by the JAVA_HOME environment variable, " + " or in the PATH");
    throw new Exception("Could not find java binary");
  }
  return javaPath;
}
