{
  try {
    System.out.println("Test initialization");
    connect(config.servers);
  }
 catch (  InterruptedException e) {
    System.err.println("Error connecting to VoltDB");
    e.printStackTrace();
    System.exit(1);
  }
  boolean success=true;
  try {
    if (config.count > 0) {
      success=runTestByCount() && success;
    }
    if (config.duration > 0) {
      success=runTestByDuration() && success;
    }
  }
 catch (  InterruptedException|NoConnectionsException e) {
    System.err.println("Error running benchmark test");
    e.printStackTrace();
    System.exit(1);
  }
  printResults(benchmarkEndTS - benchmarkStartTS,test_count);
  try {
    client.close();
  }
 catch (  InterruptedException ignore) {
  }
  if (!success) {
    System.exit(1);
  }
}
