{
  logger.log(Level.SEVERE,"Service " + service + " has failed in the "+ from+ " state.",failure);
  state.monitor.enter();
  try {
    if (from == State.STARTING) {
      finishedStarting(false);
    }
    state.serviceFailed(service);
  }
  finally {
    state.monitor.leave();
    state.executeListeners();
  }
}
