{
  assert(prevType != null);
  assert(newType != null);
  for (  String field : prevType.getFields()) {
    Object prevValue=prevType.getField(field);
    Object newValue=newType.getField(field);
    if (((prevValue == null) != (newValue == null)) || ((prevValue != null) && (prevValue.equals(newValue) == false))) {
      newType.writeCommandForField(sb,field);
    }
  }
  for (  String field : prevType.m_childCollections.keySet()) {
    CatalogMap<? extends CatalogType> prevMap=prevType.m_childCollections.get(field);
    assert(prevMap != null);
    CatalogMap<? extends CatalogType> newMap=newType.m_childCollections.get(field);
    assert(newMap != null);
    getCommandsToDiff(field,prevMap,newMap,sb);
  }
}
