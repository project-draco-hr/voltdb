{
  try {
    final InetAddress addr=InetAddress.getLocalHost();
    return addr.getHostName();
  }
 catch (  UnknownHostException e) {
    try {
      Enumeration<NetworkInterface> interfaces=NetworkInterface.getNetworkInterfaces();
      if (interfaces == null) {
        return "";
      }
      NetworkInterface intf=interfaces.nextElement();
      Enumeration<InetAddress> addresses=intf.getInetAddresses();
      while (addresses.hasMoreElements()) {
        InetAddress address=addresses.nextElement();
        if (address instanceof Inet4Address) {
          return address.getHostAddress();
        }
      }
      addresses=intf.getInetAddresses();
      if (addresses.hasMoreElements()) {
        return addresses.nextElement().getHostAddress();
      }
      return "";
    }
 catch (    SocketException e1) {
      return "";
    }
  }
}
