{
  final NativeSnapshotWritePlan plan=new NativeSnapshotWritePlan();
  final Callable<Boolean> deferredTruncationSetup=plan.createSetupInternal(file_path,file_nonce,txnId,partitionTransactionIds,partitionUniqueIds,jsData,context,result,exportSequenceNumbers,tracker,hashinatorData,timestamp,newPartitionCount);
  m_taskListsForHSIds.putAll(plan.m_taskListsForHSIds);
  return new Callable<Boolean>(){
    @Override public Boolean call() throws Exception {
      final Boolean retval=deferredTruncationSetup.call();
      m_targets.addAll(plan.m_targets);
      return retval;
    }
  }
;
}
