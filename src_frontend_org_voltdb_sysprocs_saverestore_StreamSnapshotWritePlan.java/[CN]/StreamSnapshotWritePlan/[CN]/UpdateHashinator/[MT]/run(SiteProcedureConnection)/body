{
  if (m_updateJava) {
    byte[] configBytes=TheHashinator.addPartitions(m_newPartitions);
    TheHashinator.initialize(TheHashinator.getConfiguredHashinatorType().hashinatorClass,configBytes);
    m_barrier.countDown();
  }
  try {
    m_barrier.await();
  }
 catch (  InterruptedException e) {
    VoltDB.crashLocalVoltDB("P" + siteConnection.getCorrespondingPartitionId() + " was interrupted waiting for the Java hashinator to be updated",false,null);
  }
  if (SNAP_LOG.isDebugEnabled()) {
    SNAP_LOG.debug("P" + siteConnection.getCorrespondingPartitionId() + " updated the hashinator with new partitions: "+ m_newPartitions);
  }
  Pair<TheHashinator.HashinatorType,byte[]> currentConfig=TheHashinator.getCurrentConfig();
  siteConnection.updateHashinator(currentConfig);
}
