{
  for (int i=0; siteIds != null && i < siteIds.length; ++i) {
    m_totalSends++;
    if (shouldFail(true)) {
      killSite();
      return;
    }
    RussianRouletteMailbox dest=postoffice.get(siteIds[i]);
    if (dest != null) {
      dest.deliver(message);
    }
  }
}
