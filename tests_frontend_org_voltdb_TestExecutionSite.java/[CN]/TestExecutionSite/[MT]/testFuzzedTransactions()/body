{
  final int totalTransactions=1000;
  final long firstTxnId=10000;
  final Random rand=new Random();
  queueTransactions(firstTxnId,totalTransactions,rand);
  createAndRunSiteThreads();
  for (int i=0; i < SITE_COUNT; ++i) {
    boolean stopped=false;
    do {
      try {
        m_siteThreads[i].join();
      }
 catch (      InterruptedException e) {
      }
      if (m_siteThreads[i].isAlive() == false) {
        System.out.println("Joined site " + i);
        assertTrue(m_sites[i].lastCommittedTxnId > firstTxnId);
        stopped=true;
      }
    }
 while (!stopped);
  }
}
