{
  try {
    loadTemplate(HTTPAdminListener.class,"admintemplate.html");
  }
 catch (  Exception e) {
    VoltLogger logger=new VoltLogger("HOST");
    logger.error("Unable to load HTML templates from jar for admin pages.",e);
    throw e;
  }
  try {
    SocketConnector connector=new SocketConnector();
    if (intf != null && intf.length() > 0) {
      connector.setHost(intf);
    }
    connector.setPort(port);
    connector.setName("VoltDB-HTTPD");
    m_server.addConnector(connector);
    ContextHandler studioHander=new ContextHandler("/studio");
    studioHander.setHandler(new StudioHander());
    ContextHandler baseHander=new ContextHandler("/");
    baseHander.setHandler(new RequestHandler());
    ContextHandlerCollection handlers=new ContextHandlerCollection();
    handlers.setHandlers(new Handler[]{studioHander,baseHander});
    m_server.setHandler(handlers);
    final QueuedThreadPool qtp=new QueuedThreadPool();
    qtp.setMaxIdleTimeMs(15000);
    qtp.setMinThreads(1);
    m_server.setThreadPool(qtp);
    m_server.start();
    m_jsonEnabled=jsonEnabled;
  }
 catch (  Exception e) {
    try {
      m_server.stop();
    }
 catch (    Exception e2) {
    }
    try {
      m_server.destroy();
    }
 catch (    Exception e2) {
    }
    throw new Exception(e);
  }
}
