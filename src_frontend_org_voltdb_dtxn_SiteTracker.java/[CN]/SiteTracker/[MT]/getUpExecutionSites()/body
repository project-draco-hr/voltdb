{
  ArrayDeque<Long> tmplist=new ArrayDeque<Long>();
  for (  Site site : m_sites) {
    if (site.getIsup() && site.getIsexec()) {
      tmplist.add(Long.parseLong(site.getTypeName()));
    }
  }
  long[] retval=new long[tmplist.size()];
  for (int i=0; i < retval.length; ++i) {
    retval[i]=tmplist.poll();
  }
  return retval;
}
