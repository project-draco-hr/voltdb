{
  voltQueueSQL(selectHLL,EXPECT_ZERO_OR_ONE_ROW,appId);
  VoltTable hllBytesTable=voltExecuteSQL()[0];
  HyperLogLog hll=null;
  byte[] hllBytes=null;
  if (hllBytesTable.getRowCount() == 0) {
    hll=new HyperLogLog(12);
  }
 else {
    hllBytes=hllBytesTable.fetchRow(0).getVarbinary("hll");
    try {
      hll=HyperLogLog.fromBytes(hllBytes);
    }
 catch (    IOException e) {
      e.printStackTrace();
      throw new VoltAbortException(e);
    }
  }
  assert(hll != null);
  hll.offerHashed(hashedDeviceId);
  try {
    hllBytes=hll.toBytes();
  }
 catch (  IOException e) {
    e.printStackTrace();
    throw new VoltAbortException(e);
  }
  voltQueueSQL(upsertHLL,EXPECT_SCALAR_MATCH(1),appId,hllBytes);
  return voltExecuteSQL(true);
}
