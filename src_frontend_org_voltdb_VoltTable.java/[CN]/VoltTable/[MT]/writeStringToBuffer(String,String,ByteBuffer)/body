{
  if (s == null) {
    b.putShort(NULL_STRING_INDICATOR);
    return;
  }
  short len=0;
  byte[] strbytes=null;
  try {
    strbytes=s.getBytes(encoding);
    len=(short)strbytes.length;
  }
 catch (  UnsupportedEncodingException e) {
    throw new RuntimeException(e);
  }
  assert(strbytes != null);
  b.putShort(len);
  b.put(strbytes);
}
