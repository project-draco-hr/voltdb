{
  m_buffer=ByteBuffer.allocate(1024);
  m_colCount=columnCount;
  m_rowCount=0;
  assert(columns != null);
  assert(columnCount > 0);
  assert(columns.length >= columnCount);
  m_buffer.putShort((short)0);
  m_buffer.putShort((short)columnCount);
  for (int i=0; i < columnCount; i++)   m_buffer.put(columns[i].type.getValue());
  for (int i=0; i < columnCount; i++) {
    if (columns[i].name == null) {
      m_buffer.position(0);
      throw new IllegalArgumentException("VoltTable column names can not be null.");
    }
    writeStringToBuffer(columns[i].name,METADATA_ENCODING,m_buffer);
  }
  m_rowStart=m_buffer.position();
  m_buffer.putShort(0,(short)m_rowStart);
  m_buffer.putInt(0);
  assert(verifyTableInvariants());
}
