from threading import Thread
from threading import Lock
from datetime import *
from fastserializer import *
global requestCount
requestCount = 0
global counterLock
counterLock = Lock()
global startTime
startTime = datetime.datetime.now()
global endTime
endTime = (startTime + datetime.timedelta(0, 60))
threads = []
for x in range(6):
    t = Thread(None, ThreadFunc)
    threads.append(t)
    t.start()
for x in threads:
    x.join()
duration = (datetime.datetime.now() - startTime)
print (requestCount / duration.seconds)
