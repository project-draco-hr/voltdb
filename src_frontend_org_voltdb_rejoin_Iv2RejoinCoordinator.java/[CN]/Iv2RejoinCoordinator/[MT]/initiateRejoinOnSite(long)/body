{
  String nonce=makeSnapshotNonce(HSId);
synchronized (m_lock) {
    m_nonces.put(HSId,nonce);
  }
  RejoinMessage msg=new RejoinMessage(getHSId(),m_liveRejoin ? RejoinMessage.Type.INITIATION : RejoinMessage.Type.INITIATION_COMMUNITY,nonce);
  send(HSId,msg);
  if (m_rejoinDeathTestMode && !m_rejoinDeathTestCancel && (m_sitesRejoinedCount.incrementAndGet() == 2)) {
    System.exit(0);
  }
}
