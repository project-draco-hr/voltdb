{
  Client client=getClient();
  String newCatalogURL;
  VoltTable[] results;
  CatTestCallback callback;
  loadSomeData(client,0,25);
  client.drain();
  testStuffThatShouldObviouslyFail(client);
  loadSomeData(client,25,25);
  newCatalogURL=Configuration.getPathToCatalogForTest("catalogupdate-cluster-expanded.jar");
  callback=new CatTestCallback(ClientResponse.SUCCESS);
  client.callProcedure(callback,"@UpdateApplicationCatalog",newCatalogURL);
  client.drain();
  int x=3;
  SyncCallback cb=new SyncCallback();
  client.callProcedure(cb,org.voltdb.benchmark.tpcc.procedures.InsertOrderLineBatched.class.getSimpleName(),new long[]{x},new long[]{x},x,new long[]{x},new long[]{x},new long[]{x},new TimestampType[]{new TimestampType()},new long[]{x},new double[]{x},new String[]{"a"});
  cb.waitForResponse();
  client.drain();
  x=2;
  client.callProcedure(org.voltdb.benchmark.tpcc.procedures.InsertOrderLineBatched.class.getSimpleName(),new long[]{x},new long[]{x},x,new long[]{x},new long[]{x},new long[]{x},new TimestampType[]{new TimestampType()},new long[]{x},new double[]{x},new String[]{"a"});
  loadSomeData(client,50,5);
  newCatalogURL=Configuration.getPathToCatalogForTest("catalogupdate-cluster-expanded.jar");
  results=client.callProcedure("@UpdateApplicationCatalog",newCatalogURL);
  assertTrue(results.length == 1);
  client.drain();
  x=4;
  client.callProcedure(org.voltdb.benchmark.tpcc.procedures.InsertOrderLineBatched.class.getSimpleName(),new long[]{x},new long[]{x},x,new long[]{x},new long[]{x},new long[]{x},new TimestampType[]{new TimestampType()},new long[]{x},new double[]{x},new String[]{"a"});
  loadSomeData(client,55,5);
  newCatalogURL=Configuration.getPathToCatalogForTest("catalogupdate-cluster-base.jar");
  callback=new CatTestCallback(ClientResponse.SUCCESS);
  client.callProcedure(callback,"@UpdateApplicationCatalog",newCatalogURL);
  x=4;
  cb=new SyncCallback();
  client.callProcedure(cb,org.voltdb.benchmark.tpcc.procedures.InsertOrderLineBatched.class.getSimpleName(),new long[]{x},new long[]{x},x,new long[]{x},new long[]{x},new long[]{x},new TimestampType[]{new TimestampType()},new long[]{x},new double[]{x},new String[]{"a"});
  cb.waitForResponse();
  client.drain();
  x=5;
  cb=new SyncCallback();
  client.callProcedure(cb,org.voltdb.benchmark.tpcc.procedures.InsertOrderLineBatched.class.getSimpleName(),new long[]{x},new long[]{x},x,new long[]{x},new long[]{x},new long[]{x},new TimestampType[]{new TimestampType()},new long[]{x},new double[]{x},new String[]{"a"});
  cb.waitForResponse();
  assertNotSame(cb.getResponse().getStatus(),ClientResponse.SUCCESS);
  loadSomeData(client,60,5);
  newCatalogURL=Configuration.getPathToCatalogForTest("catalogupdate-cluster-conflict.jar");
  results=client.callProcedure("@UpdateApplicationCatalog",newCatalogURL);
  assertTrue(results.length == 1);
  results=client.callProcedure(InsertNewOrder.class.getSimpleName(),100,100,100,100,100,100,1.0,"a");
  assertEquals(1,results.length);
  assertEquals(1776,results[0].asScalarLong());
  newCatalogURL=Configuration.getPathToCatalogForTest("catalogupdate-cluster-many.jar");
  results=client.callProcedure("@UpdateApplicationCatalog",newCatalogURL);
  assertTrue(results.length == 1);
  loadSomeData(client,65,5);
  client.drain();
  assertTrue(true);
}
