{
  System.out.println("\n\n-----\n testEnabledSecurity \n-----\n\n");
  Client client=getClient();
  loadSomeData(client,0,10);
  client.drain();
  assertTrue(callbackSuccess);
  String newCatalogURL=Configuration.getPathToCatalogForTest("catalogupdate-cluster-base-secure.jar");
  String deploymentURL=Configuration.getPathToCatalogForTest("catalogupdate-cluster-base-secure.xml");
  VoltTable[] results=client.updateApplicationCatalog(new File(newCatalogURL),new File(deploymentURL)).getResults();
  assertTrue(results.length == 1);
  boolean caught=false;
  try {
    getClient();
  }
 catch (  IOException e) {
    caught=true;
  }
  assertTrue(caught);
  this.m_username="user1";
  this.m_password="userpass1";
  Client client3=getClient();
  loadSomeData(client3,50,10);
  client3.drain();
  assertTrue(callbackSuccess);
  loadSomeData(client,100,10);
  client.drain();
  assertFalse(callbackSuccess);
  callbackSuccess=true;
  boolean found=false;
  int timeout=-1;
  VoltTable result=client3.callProcedure("@SystemInformation","DEPLOYMENT").getResults()[0];
  while (result.advanceRow()) {
    if (result.getString("PROPERTY").equalsIgnoreCase("heartbeattimeout")) {
      found=true;
      timeout=Integer.valueOf(result.getString("VALUE"));
    }
  }
  assertTrue(found);
  assertEquals(6000,timeout);
}
