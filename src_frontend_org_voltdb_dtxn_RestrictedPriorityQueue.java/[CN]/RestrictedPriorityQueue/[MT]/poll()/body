{
  TransactionState retval=null;
  updateQueueState();
  if (m_state == QueueState.UNBLOCKED) {
    retval=super.peek();
    if (!retval.isDurable()) {
      return null;
    }
    super.poll();
    m_txnsPopped++;
    assert(retval != null);
  }
  return retval;
}
