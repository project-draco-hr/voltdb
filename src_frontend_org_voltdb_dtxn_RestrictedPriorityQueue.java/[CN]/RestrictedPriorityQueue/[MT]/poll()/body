{
  TransactionState retval=super.peek();
  if (isSafe(retval)) {
    m_txnsPopped++;
    m_lastTxnPopped=retval.txnId;
    return super.poll();
  }
  return null;
}
