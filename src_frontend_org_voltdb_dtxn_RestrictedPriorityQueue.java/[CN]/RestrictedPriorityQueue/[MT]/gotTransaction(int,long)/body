{
  assert(m_lastTxnFromEachInitiator.containsKey(initiatorId));
  if (m_lastTxnPopped > txnId)   throw new RuntimeException("Deadlock at site " + String.valueOf(m_siteId) + ": txn executed out of order.");
  long prevTxnId=m_lastTxnFromEachInitiator.get(initiatorId);
  if (prevTxnId < txnId)   m_lastTxnFromEachInitiator.put(initiatorId,txnId);
  long min=Long.MAX_VALUE;
  for (  long l : m_lastTxnFromEachInitiator.values())   if (l < min)   min=l;
  m_newestSafeTransaction=min;
}
