{
  ProcedureInvocation invocation=new ProcedureInvocation(12345,56789,54321,"test",1);
  ByteBuffer buf=ByteBuffer.allocate(invocation.getSerializedSize());
  try {
    invocation.flattenToBuffer(buf);
  }
 catch (  IOException e) {
    e.printStackTrace();
    fail();
  }
  buf.flip();
  StoredProcedureInvocation spi=new StoredProcedureInvocation();
  try {
    spi.initFromBuffer(buf);
  }
 catch (  IOException e) {
    e.printStackTrace();
    fail();
  }
  assertEquals(54321,spi.getClientHandle());
  assertEquals(12345,spi.getOriginalTxnId());
  assertEquals(56789,spi.getOriginalUniqueId());
  assertEquals("test",spi.getProcName());
}
