{
  if (path.length() == 0)   return parent;
  boolean hasStartSlash=path.charAt(0) == '/';
  if ((path.length() == 1) && hasStartSlash)   return parent;
  int index=path.lastIndexOf('[');
  assert(path.charAt(path.length() - 1) == ']');
  String collection=path.substring(hasStartSlash ? 1 : 0,index);
  String name=path.substring(index + 1,path.length() - 1);
  return parent.getCollection(collection).get(name);
}
