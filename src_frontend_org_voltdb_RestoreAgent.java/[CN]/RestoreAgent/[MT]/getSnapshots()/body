{
  List<String> paths=new ArrayList<String>();
  CommandLog commandLogElement=m_context.cluster.getLogconfig().get("log");
  if (commandLogElement != null) {
    paths.add(commandLogElement.getInternalsnapshotpath());
  }
  if (m_context.cluster.getDatabases().get("database").getSnapshotschedule().get("default") != null) {
    paths.add(m_context.cluster.getDatabases().get("database").getSnapshotschedule().get("default").getPath());
  }
  TreeMap<Long,Snapshot> snapshots=new TreeMap<Long,Snapshot>();
  FileFilter filter=new SnapshotUtil.SnapshotFilter();
  for (  String path : paths) {
    SnapshotUtil.retrieveSnapshotFiles(new File(path),snapshots,filter,0,false);
  }
  return snapshots;
}
