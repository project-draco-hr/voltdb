{
  Config restore=SystemProcedureCatalog.listing.get(invocation.getFirst());
  Procedure restoreProc=restore.asCatalogProcedure();
  StoredProcedureInvocation spi=new StoredProcedureInvocation();
  spi.procName=invocation.getFirst();
  spi.params=new FutureTask<ParameterSet>(new Callable<ParameterSet>(){
    @Override public ParameterSet call() throws Exception {
      ParameterSet params=new ParameterSet();
      params.setParameters(invocation.getSecond());
      return params;
    }
  }
);
  if (txnId == null) {
    m_initiator.createTransaction(m_restoreAdapter.connectionId(),"CommandLog",true,spi,restoreProc.getReadonly(),restoreProc.getSinglepartition(),restoreProc.getEverysite(),m_allPartitions,m_allPartitions.length,m_restoreAdapter,0,EstTime.currentTimeMillis(),false);
  }
 else {
    m_initiator.createTransaction(m_restoreAdapter.connectionId(),"CommandLog",true,txnId,System.currentTimeMillis(),spi,restoreProc.getReadonly(),restoreProc.getSinglepartition(),restoreProc.getEverysite(),m_allPartitions,m_allPartitions.length,m_restoreAdapter,0,EstTime.currentTimeMillis(),false);
  }
}
