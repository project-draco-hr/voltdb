{
  try {
    m_leaderElector=new LeaderElector(m_zk,VoltZK.restore_barrier,"restore",new byte[0],null);
    m_leaderElector.start(true);
    m_isLeader=m_leaderElector.isLeader();
  }
 catch (  Exception e) {
    VoltDB.crashGlobalVoltDB("Failed to create Zookeeper node: " + e.getMessage(),false,e);
  }
  try {
    m_generatedRestoreBarrier2=m_zk.create(RESTORE_BARRIER2 + "/counter",null,Ids.OPEN_ACL_UNSAFE,CreateMode.EPHEMERAL_SEQUENTIAL);
  }
 catch (  Exception e) {
    VoltDB.crashGlobalVoltDB("Failed to create Zookeeper node: " + e.getMessage(),false,e);
  }
}
