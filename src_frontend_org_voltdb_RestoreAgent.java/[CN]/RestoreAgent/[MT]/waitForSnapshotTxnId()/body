{
  long txnId=0;
  while (true) {
    LOG.debug("Waiting for the initiator to send the snapshot txnid");
    try {
      if (m_zk.exists(SNAPSHOT_ID,false) == null) {
        Thread.sleep(500);
        continue;
      }
 else {
        byte[] data=m_zk.getData(SNAPSHOT_ID,false,null);
        txnId=ByteBuffer.wrap(data).getLong();
        break;
      }
    }
 catch (    KeeperException e2) {
      LOG.fatal(e2.getMessage());
      VoltDB.crashVoltDB();
    }
catch (    InterruptedException e2) {
      continue;
    }
  }
  m_replayAgent.setSnapshotTxnId(txnId);
}
