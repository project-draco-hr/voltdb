{
  if (originalTxnId == UNITIALIZED_ID && originalUniqueId == UNITIALIZED_ID) {
    if (BatchTimeoutOverrideType.isUserSetTimeout(batchTimeout)) {
      type=ProcedureInvocationType.VERSION1;
    }
 else {
      type=ProcedureInvocationType.ORIGINAL;
    }
  }
 else {
    type=ProcedureInvocationType.REPLICATED;
  }
}
