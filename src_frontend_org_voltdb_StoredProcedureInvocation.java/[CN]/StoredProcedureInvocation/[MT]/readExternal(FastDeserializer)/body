{
  byte version=in.readByte();
  type=ProcedureInvocationType.typeFromByte(version);
  if (type == ProcedureInvocationType.REPLICATED) {
    txnId=in.readLong();
    originalTxnId=in.readLong();
  }
  procName=in.readString();
  clientHandle=in.readLong();
  unserializedParams=in.remainder();
  final ByteBuffer duplicate=unserializedParams.duplicate();
  params=new FutureTask<ParameterSet>(new Callable<ParameterSet>(){
    @Override public ParameterSet call() throws Exception {
      FastDeserializer fds=new FastDeserializer(duplicate);
      return fds.readObject(ParameterSet.class);
    }
  }
);
}
