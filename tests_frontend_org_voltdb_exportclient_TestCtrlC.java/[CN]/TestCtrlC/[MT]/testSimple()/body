{
  if (!MiscUtils.isPro()) {
    return;
  }
  VoltDBFickleCluster.compile();
  Random r=new Random();
  for (int i=0; i < 6; i++) {
    allIsGo.set(true);
    accepted.set(false);
    VoltDBFickleCluster.start();
    SocketEndpoint socketEndpoint=new SocketEndpoint();
    socketEndpoint.start();
    VoltClientThread voltClient=new VoltClientThread();
    voltClient.start();
    int pid=startClientProcess();
    Thread.sleep(r.nextInt(1000 + 4000));
    while (accepted.get() == false)     Thread.sleep(50);
    sigint(pid);
    allIsGo.set(false);
    voltClient.interrupt();
    System.out.println("Joining Export Client Process");
    m_clientProcess.waitFor();
    System.out.println("Joining Socket Thread");
    socketEndpoint.join();
    System.out.println("Joining Client Thread");
    voltClient.join();
    System.out.println("Joining Server Thread");
    VoltDBFickleCluster.stop();
    assertEquals(0,lastByteRead);
  }
}
