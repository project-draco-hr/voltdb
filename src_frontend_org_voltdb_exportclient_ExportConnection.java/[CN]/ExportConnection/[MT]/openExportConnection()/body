{
  m_logger.info("Starting EL Client socket to: " + name);
  byte hashedPassword[]=ConnectionUtil.getHashedPassword(m_password);
  Object[] cxndata=ConnectionUtil.getAuthenticatedExportConnection(serverAddr.getHostName(),m_username,hashedPassword,serverAddr.getPort());
  m_socket=(SocketChannel)cxndata[0];
  if (m_state == CLOSED) {
    open();
    m_state=CONNECTING;
  }
  while (m_state == CONNECTING) {
    ExportProtoMessage m=nextMessage();
    if (m != null && m.isOpenResponse()) {
      Pair<ArrayList<AdvertisedDataSource>,ArrayList<String>> advertisement;
      advertisement=m.getAdvertisedDataSourcesAndNodes();
      dataSources.addAll(advertisement.getFirst());
      hosts.addAll(advertisement.getSecond());
      m_state=CONNECTED;
    }
  }
}
