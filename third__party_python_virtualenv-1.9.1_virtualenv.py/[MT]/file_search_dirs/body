def file_search_dirs():
    here = os.path.dirname(os.path.abspath(__file__))
    dirs = ['.', here, join(here, 'virtualenv_support')]
    if (os.path.splitext(os.path.dirname(__file__))[0] != 'virtualenv'):
        try:
            import virtualenv
        except ImportError:
            pass
        else:
            dirs.append(os.path.join(os.path.dirname(virtualenv.__file__), 'virtualenv_support'))
    return [d for d in dirs if os.path.isdir(d)]
