def copy_required_modules(dst_prefix):
    import imp
    _prev_sys_path = sys.path
    if os.environ.get('VIRTUALENV_INTERPRETER_RUNNING'):
        sys.path = sys.path[1:]
    try:
        for modname in REQUIRED_MODULES:
            if (modname in sys.builtin_module_names):
                logger.info(('Ignoring built-in bootstrap module: %s' % modname))
                continue
            try:
                (f, filename, _) = imp.find_module(modname)
            except ImportError:
                logger.info(('Cannot import bootstrap module: %s' % modname))
            else:
                if (f is not None):
                    f.close()
                if ((modname == 'readline') and (sys.platform == 'darwin') and (not (is_pypy or filename.endswith(join('lib-dynload', 'readline.so'))))):
                    dst_filename = join(dst_prefix, 'lib', ('python%s' % sys.version[:3]), 'readline.so')
                else:
                    dst_filename = change_prefix(filename, dst_prefix)
                copyfile(filename, dst_filename)
                if filename.endswith('.pyc'):
                    pyfile = filename[:(-1)]
                    if os.path.exists(pyfile):
                        copyfile(pyfile, dst_filename[:(-1)])
    finally:
        sys.path = _prev_sys_path
