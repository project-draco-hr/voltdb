{
  ZooKeeper zk=getClient(0);
  ZooKeeper zk2=getClient(1);
  ZooKeeper zk3=getClient(2);
  zk.create("/election",new byte[0],Ids.OPEN_ACL_UNSAFE,CreateMode.PERSISTENT);
  Pair<String,Boolean> result1=ZKUtil.createAndElectLeader(zk,"/election",new byte[0],null);
  Pair<String,Boolean> result2=ZKUtil.createAndElectLeader(zk2,"/election",new byte[0],null);
  Pair<String,Boolean> result3=ZKUtil.createAndElectLeader(zk3,"/election",new byte[0],null);
  assertTrue(result1.getSecond());
  assertTrue(!result2.getSecond());
  assertTrue(!result3.getSecond());
  zk.close();
  zk2.close();
  zk3.close();
}
