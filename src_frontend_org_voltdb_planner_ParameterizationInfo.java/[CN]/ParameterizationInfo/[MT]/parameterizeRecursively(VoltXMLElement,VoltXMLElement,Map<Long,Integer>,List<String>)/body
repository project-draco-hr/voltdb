{
  if (node.name.equals("value")) {
    String idStr=node.attributes.get("id");
    assert(idStr != null);
    long id=Long.parseLong(idStr);
    String typeStr=node.attributes.get("type");
    VoltType type=VoltType.typeFromString(typeStr);
    Integer paramIndex=idToParamIndexMap.get(id);
    if (paramIndex == null) {
      paramIndex=paramValues.size();
      VoltXMLElement paramIndexNode=new VoltXMLElement("parameter");
      paramIndexNode.attributes.put("index",String.valueOf(paramIndex));
      paramIndexNode.attributes.put("type",typeStr);
      paramIndexNode.attributes.put("id",idStr);
      paramsNode.children.add(paramIndexNode);
      idToParamIndexMap.put(id,paramIndex);
      String value=node.attributes.get("value");
      if (type == VoltType.NULL) {
        value=null;
      }
      paramValues.add(value);
    }
    node.attributes.put("isparam","true");
    node.attributes.remove("value");
  }
  for (  VoltXMLElement child : node.children) {
    parameterizeRecursively(child,paramsNode,idToParamIndexMap,paramValues);
  }
}
