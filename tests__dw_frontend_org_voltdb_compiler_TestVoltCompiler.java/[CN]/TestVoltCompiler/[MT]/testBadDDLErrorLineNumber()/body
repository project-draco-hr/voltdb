{
  final String schema="-- a comment\n" + "create table books (\n" + " id integer default 0,\n"+ " strval varchar(33000) default '',\n"+ " PRIMARY KEY(id)\n"+ ");\n"+ "\n"+ "-- another comment\n"+ "create view badview (\n"+ " id,\n"+ " COUNT(*),\n"+ " total\n"+ " as\n"+ "select id, COUNT(*), SUM(cnt)\n"+ " from books\n"+ " group by id;";
  final File schemaFile=VoltProjectBuilder.writeStringToTempFile(schema);
  final String schemaPath=schemaFile.getPath();
  final String project="<?xml version=\"1.0\"?>\n" + "<project>" + "<database name='database'>"+ "<schemas><schema path='" + schemaPath + "' /></schemas>"+ "<procedures><procedure class='org.voltdb.compiler.procedures.AddBook' /></procedures>"+ "</database>"+ "</project>";
  final File projectFile=VoltProjectBuilder.writeStringToTempFile(project);
  final String projectPath=projectFile.getPath();
  final VoltCompiler compiler=new VoltCompiler();
  final boolean success=compiler.compileWithProjectXML(projectPath,testout_jar);
  assertFalse(success);
  for (  Feedback error : compiler.m_errors) {
    assertEquals(9,error.lineNo);
  }
}
