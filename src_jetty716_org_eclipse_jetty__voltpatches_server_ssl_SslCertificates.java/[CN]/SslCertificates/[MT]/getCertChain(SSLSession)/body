{
  try {
    javax.security.cert.X509Certificate javaxCerts[]=sslSession.getPeerCertificateChain();
    if (javaxCerts == null || javaxCerts.length == 0)     return null;
    int length=javaxCerts.length;
    X509Certificate[] javaCerts=new X509Certificate[length];
    java.security.cert.CertificateFactory cf=java.security.cert.CertificateFactory.getInstance("X.509");
    for (int i=0; i < length; i++) {
      byte bytes[]=javaxCerts[i].getEncoded();
      ByteArrayInputStream stream=new ByteArrayInputStream(bytes);
      javaCerts[i]=(X509Certificate)cf.generateCertificate(stream);
    }
    return javaCerts;
  }
 catch (  SSLPeerUnverifiedException pue) {
    return null;
  }
catch (  Exception e) {
    Log.warn(Log.EXCEPTION,e);
    return null;
  }
}
