{
  int hostCount=getHostCount();
  int partitionCount=getPartitionCount();
  int sitesPerHost=getSitesPerHost();
  if (hostCount != hostIds.size()) {
    throw new RuntimeException("Provided " + hostIds.size() + " host ids when host count is "+ hostCount);
  }
  boolean useFallbackStrategy=Boolean.valueOf(System.getenv("VOLT_REPLICA_FALLBACK"));
  JSONObject topo=null;
  if (useFallbackStrategy) {
    topo=fallbackPlacementStrategy(hostIds,hostCount,partitionCount,sitesPerHost);
  }
 else {
    topo=newPlacementStrategy(hostIds,hostCount,partitionCount,sitesPerHost);
  }
  hostLog.info("TOPO: " + topo.toString(2));
  return topo;
}
