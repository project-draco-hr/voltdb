{
  if (joinTree.getNodeType() == JoinNode.NodeType.JOIN) {
    collectReAggNodePostExpressions(joinTree.getLeftNode(),needReAggTVEs,aggPostExprs);
    collectReAggNodePostExpressions(joinTree.getRightNode(),needReAggTVEs,aggPostExprs);
  }
 else   if (joinTree.getNodeType() == JoinNode.NodeType.LEAF || joinTree.getNodeType() == JoinNode.NodeType.SUBQUERY) {
    joinTree.setJoinExpression(processFilters(joinTree.getJoinExpression(),needReAggTVEs,aggPostExprs));
    joinTree.setWhereExpression(processFilters(joinTree.getWhereExpression(),needReAggTVEs,aggPostExprs));
  }
 else {
    assert(false);
  }
}
