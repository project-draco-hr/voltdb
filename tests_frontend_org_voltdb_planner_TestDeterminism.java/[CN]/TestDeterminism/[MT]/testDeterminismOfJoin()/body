{
  assertPlanDeterminism("select X.a, X.z, Y.z from tuniqcombo X, tunique Y","order by X.a, X.c, X.b, Y.a");
  assertPlanDeterminism("select X.a, X.z, Y.z from tuniqcombo X, tunique Y","order by X.b, X.a, Y.a, X.c");
  assertPlanDeterminism("select X.a, X.z, Y.z from tuniqcombo X, tunique Y","order by X.z, X.a, X.c, X.b, Y.a");
  assertPlanDeterminism("select X.a, X.z, Y.z, X.z + Y.z from tuniqcombo X, tunique Y","order by 4, X.z, X.a, X.c, X.b, Y.a");
  assertPlanDeterminismNeedsOrdering("select X.a l, X.z m, Y.z n from ttree X, tunique Y order by X.a, X.c, X.b, Y.a",", X.z, Y.z","order by l, m, n");
  assertPlanDeterminismNeedsOrdering("select X.a l, X.z m, Y.z n from ttree X, tunique Y order by X.b, X.a, Y.a, X.c",", X.z, Y.z","order by l, m, n");
  assertPlanDeterminismNeedsOrdering("select X.a l, X.z m, Y.z n from ttree X, tunique Y order by X.z, X.a, X.c, X.b, Y.a",", X.z, Y.z","order by l, m, n");
  assertPlanDeterminismNeedsOrdering("select X.a, X.z, Y.z, X.z + Y.z from ttree X, tunique Y order by 4, X.z, X.a, X.c, X.b, Y.a",", Y.z","order by 1, 2, 3, 4");
  assertPlanNeedsSaferDeterminismCombo("select X.a, X.z, Y.z from tuniqcombo X, tunique Y where X.a = Y.a");
  assertPlanNeedsSaferDeterminismCombo("select X.a, X.z, Y.z from tuniqcombo X, tunique Y order by X.a, X.b, Y.a");
  assertPlanNeedsSaferDeterminismCombo("select X.a, X.z, Y.z from tuniqcombo X, tunique Y order by X.a, X.c + X.b, X.b, Y.a");
}
