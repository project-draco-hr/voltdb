{
  Statement cs=null;
  sessionProxy.resetVoltNodeIds();
  try {
    cs=sessionProxy.compileStatement(sql);
  }
 catch (  HsqlException hex) {
switch (hex.getErrorCode()) {
case -ErrorCode.X_42581:
      throw new HSQLParseException("SQL Syntax error in \"" + sql + "\" "+ hex.getMessage());
default :
    throw new HSQLParseException(hex.getMessage());
}
}
catch (Throwable t) {
throw new HSQLParseException(t.getMessage());
}
Result result=Result.newPrepareResponse(cs);
if (result.mode == ResultConstants.ERROR) throw new HSQLParseException(result.getMainString());
VoltXMLElement xml=null;
xml=cs.voltGetXML(sessionProxy);
sessionProxy.sessionData.persistentStoreCollection.clearAllTables();
assert(xml != null);
return xml;
}
