{
  String arg;
  m_enableIV2=VoltDB.checkTestEnvForIv2();
  for (int i=0; i < args.length; ++i) {
    arg=args[i];
    if (arg.equals("")) {
      continue;
    }
    if (arg.equalsIgnoreCase("-h") || arg.equalsIgnoreCase("--help")) {
      usage(System.out);
      System.exit(-1);
    }
    if (arg.equals("noloadlib")) {
      m_noLoadLibVOLTDB=true;
    }
 else     if (arg.equals("ipc")) {
      m_backend=BackendTarget.NATIVE_EE_IPC;
    }
 else     if (arg.equals("jni")) {
      m_backend=BackendTarget.NATIVE_EE_JNI;
    }
 else     if (arg.equals("hsqldb")) {
      m_backend=BackendTarget.HSQLDB_BACKEND;
    }
 else     if (arg.equals("valgrind")) {
      m_backend=BackendTarget.NATIVE_EE_VALGRIND_IPC;
    }
 else     if (arg.equals("quietadhoc")) {
      m_quietAdhoc=true;
    }
 else     if (arg.equals("port")) {
      m_port=Integer.parseInt(args[++i]);
    }
 else     if (arg.startsWith("port ")) {
      m_port=Integer.parseInt(arg.substring("port ".length()));
    }
 else     if (arg.equals("adminport")) {
      m_adminPort=Integer.parseInt(args[++i]);
    }
 else     if (arg.startsWith("adminport ")) {
      m_adminPort=Integer.parseInt(arg.substring("adminport ".length()));
    }
 else     if (arg.equals("internalport")) {
      m_internalPort=Integer.parseInt(args[++i]);
    }
 else     if (arg.startsWith("internalport ")) {
      m_internalPort=Integer.parseInt(arg.substring("internalport ".length()));
    }
 else     if (arg.equals("replicationport")) {
      m_drAgentPortStart=Integer.parseInt(args[++i]);
    }
 else     if (arg.startsWith("replicationport ")) {
      m_drAgentPortStart=Integer.parseInt(arg.substring("replicationport ".length()));
    }
 else     if (arg.startsWith("zkport")) {
      m_zkInterface="127.0.0.1:" + args[++i];
    }
 else     if (arg.equals("externalinterface")) {
      m_externalInterface=args[++i].trim();
    }
 else     if (arg.startsWith("externalinterface ")) {
      m_externalInterface=arg.substring("externalinterface ".length()).trim();
    }
 else     if (arg.equals("internalinterface")) {
      m_internalInterface=args[++i].trim();
    }
 else     if (arg.startsWith("internalinterface ")) {
      m_internalInterface=arg.substring("internalinterface ".length()).trim();
    }
 else     if (arg.startsWith("networkbindings")) {
      for (      String core : args[++i].split(",")) {
        m_networkCoreBindings.offer(core);
      }
      System.out.println("Network bindings are " + m_networkCoreBindings);
    }
 else     if (arg.startsWith("computationbindings")) {
      for (      String core : args[++i].split(",")) {
        m_computationCoreBindings.offer(core);
      }
      System.out.println("Computation bindings are " + m_computationCoreBindings);
    }
 else     if (arg.startsWith("executionbindings")) {
      for (      String core : args[++i].split(",")) {
        m_executionCoreBindings.offer(core);
      }
      System.out.println("Execution bindings are " + m_executionCoreBindings);
    }
 else     if (arg.startsWith("commandlogbinding")) {
      String binding=args[++i];
      if (binding.split(",").length > 1) {
        throw new RuntimeException("Command log only supports a single set of bindings");
      }
      m_commandLogBinding=binding;
      System.out.println("Commanglog binding is " + m_commandLogBinding);
    }
 else     if (arg.equals("host") || arg.equals("leader")) {
      m_leader=args[++i].trim();
    }
 else     if (arg.startsWith("host")) {
      m_leader=arg.substring("host ".length()).trim();
    }
 else     if (arg.startsWith("leader")) {
      m_leader=arg.substring("leader ".length()).trim();
    }
 else     if (arg.equals("rejoinhost")) {
      m_startAction=START_ACTION.REJOIN;
      m_leader=args[++i].trim();
    }
 else     if (arg.startsWith("rejoinhost ")) {
      m_startAction=START_ACTION.REJOIN;
      m_leader=arg.substring("rejoinhost ".length()).trim();
    }
 else     if (arg.equals("create")) {
      m_startAction=START_ACTION.CREATE;
    }
 else     if (arg.equals("recover")) {
      m_startAction=START_ACTION.RECOVER;
      if (args.length > i + 2 && args[++i].trim().equals("safe") && args[++i].trim().equals("mode")) {
        m_startAction=START_ACTION.SAFE_RECOVER;
      }
    }
 else     if (arg.equals("rejoin")) {
      m_startAction=START_ACTION.REJOIN;
    }
 else     if (arg.startsWith("live rejoin")) {
      m_startAction=START_ACTION.LIVE_REJOIN;
    }
 else     if (arg.equals("live") && args.length > i + 1 && args[++i].trim().equals("rejoin")) {
      m_startAction=START_ACTION.LIVE_REJOIN;
    }
 else     if (arg.startsWith("join")) {
      m_startAction=START_ACTION.JOIN;
    }
 else     if (arg.equals("replica")) {
      m_startAction=START_ACTION.CREATE;
      m_replicationRole=ReplicationRole.REPLICA;
    }
 else     if (arg.equals("dragentportstart")) {
      m_drAgentPortStart=Integer.parseInt(args[++i]);
    }
 else     if (arg.equals("timestampsalt")) {
      m_timestampTestingSalt=Long.parseLong(args[++i]);
    }
 else     if (arg.startsWith("timestampsalt ")) {
      m_timestampTestingSalt=Long.parseLong(arg.substring("timestampsalt ".length()));
    }
 else     if (arg.equals("tag")) {
      m_tag=args[++i];
    }
 else     if (arg.startsWith("tag ")) {
      m_tag=arg.substring("tag ".length());
    }
 else     if (arg.equals("catalog")) {
      m_pathToCatalog=args[++i];
    }
 else     if (arg.startsWith("catalog ")) {
      m_pathToCatalog=arg.substring("catalog ".length());
    }
 else     if (arg.equals("deployment")) {
      m_pathToDeployment=args[++i];
    }
 else     if (arg.equals("license")) {
      m_pathToLicense=args[++i];
    }
 else     if (arg.equalsIgnoreCase("ipcports")) {
      String portList=args[++i];
      String ports[]=portList.split(",");
      for (      String port : ports) {
        m_ipcPorts.add(Integer.valueOf(port));
      }
    }
 else     if (arg.equals("enableiv2")) {
      m_enableIV2=true;
    }
 else {
      hostLog.fatal("Unrecognized option to VoltDB: " + arg);
      usage();
      System.exit(-1);
    }
  }
  if (null == m_startAction) {
    if (org.voltdb.utils.MiscUtils.isPro()) {
      hostLog.fatal("You must specify a startup action, either create, recover, replica, rejoin, or compile.");
    }
 else {
      hostLog.fatal("You must specify a startup action, either create, recover, rejoin, or compile.");
    }
    usage();
    System.exit(-1);
  }
  if (m_startAction.doesRecover() && m_pathToCatalog != null) {
    hostLog.warn("Catalog is ignored for 'recover' action.");
  }
  if (m_leader == null && m_pathToDeployment == null && !m_startAction.doesRejoin()) {
    m_leader="localhost";
  }
}
