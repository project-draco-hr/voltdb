{
synchronized (_sessionIdManager) {
    _sessionIdManager.addSession(session);
synchronized (this) {
      addSession(session);
    }
  }
  if (created) {
    _sessionsStats.increment();
    if (_sessionListeners != null) {
      HttpSessionEvent event=new HttpSessionEvent(session);
      for (int i=0; i < LazyList.size(_sessionListeners); i++)       ((HttpSessionListener)LazyList.get(_sessionListeners,i)).sessionCreated(event);
    }
  }
 else {
    session.didActivate();
  }
}
