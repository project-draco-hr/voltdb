{
  if (isUsingCookies()) {
    String sessionPath=(_sessionPath == null) ? contextPath : _sessionPath;
    sessionPath=(sessionPath == null || sessionPath.length() == 0) ? "/" : sessionPath;
    String id=getNodeId(session);
    HttpCookie cookie=new HttpCookie(_sessionCookie,id,_sessionDomain,sessionPath,getMaxCookieAge(),getHttpOnly(),requestIsSecure && getSecureCookies());
    return cookie;
  }
  return null;
}
