{
  VoltMessage message=null;
switch (messageType) {
case INITIATE_TASK_ID:
    message=new InitiateTask();
  break;
case INITIATE_RESPONSE_ID:
message=new InitiateResponse();
break;
case FRAGMENT_TASK_ID:
message=new FragmentTask();
break;
case FRAGMENT_RESPONSE_ID:
message=new FragmentResponse();
break;
case PARTICIPANT_NOTICE_ID:
message=new MultiPartitionParticipantNotice();
break;
case HEARTBEAT_ID:
message=new Heartbeat();
break;
case HEARTBEAT_RESPONSE_ID:
message=new HeartbeatResponse();
break;
case DEBUG_MESSAGE_ID:
message=new DebugMessage();
break;
default :
Class<? extends VoltMessage> cls=externals.get(messageType);
assert(cls != null);
try {
message=cls.newInstance();
}
 catch (Exception e) {
e.printStackTrace();
assert(false);
}
}
return message;
}
