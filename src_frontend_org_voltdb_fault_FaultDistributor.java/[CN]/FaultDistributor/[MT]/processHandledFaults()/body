{
  ArrayDeque<HandledFault> handledFaults;
synchronized (this) {
    if (m_handledFaults.isEmpty()) {
      return;
    }
    handledFaults=m_handledFaults;
    m_handledFaults=new ArrayDeque<HandledFault>();
  }
  while (!handledFaults.isEmpty()) {
    HandledFault hf=handledFaults.poll();
    if (!m_faultHandlersData.containsKey(hf.m_handler)) {
      VoltDB.crashLocalVoltDB("A handled fault was reported for a handler that is not registered",false,null);
    }
    boolean removed=m_faultHandlersData.get(hf.m_handler).m_handlersPendingFaults.remove(hf.m_fault);
    if (!removed) {
      VoltDB.crashLocalVoltDB("A handled fault was reported that was not pending for the provided handler",false,null);
    }
  }
}
