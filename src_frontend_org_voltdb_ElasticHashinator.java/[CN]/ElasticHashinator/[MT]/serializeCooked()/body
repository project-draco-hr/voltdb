{
  if (m_cookedDataCache.get() == null) {
    ByteBuffer buf=ByteBuffer.allocate(4 + (m_tokens.size() * 12));
    int numEntries=m_tokens.size();
    buf.putInt(numEntries);
    for (    Map.Entry<Long,Integer> e : m_tokens.entrySet()) {
      long token=e.getKey();
      buf.putLong(token);
    }
    for (    Map.Entry<Long,Integer> e : m_tokens.entrySet()) {
      int partitionId=e.getValue();
      buf.putInt(partitionId);
    }
    ByteArrayOutputStream bos=new ByteArrayOutputStream(buf.array().length);
    DeflaterOutputStream dos=new DeflaterOutputStream(bos);
    dos.write(buf.array());
    dos.close();
    m_cookedDataCache.set(ByteBuffer.wrap(bos.toByteArray()));
  }
  return m_cookedDataCache.get().array();
}
