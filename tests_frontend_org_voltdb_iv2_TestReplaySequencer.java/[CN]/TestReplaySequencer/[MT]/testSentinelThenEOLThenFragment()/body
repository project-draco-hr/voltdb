{
  boolean result;
  ReplaySequencer dut=new ReplaySequencer();
  TransactionInfoBaseMessage sntl=makeSentinel(1L);
  TransactionInfoBaseMessage frag=makeFragment(1L);
  TransactionInfoBaseMessage frag2=makeFragment(1L);
  TransactionInfoBaseMessage complete=makeCompleteTxn(1L);
  dut.offer(1L,sntl);
  assertTrue(dut.offer(0L,makeEOL(false)));
  result=dut.offer(1L,frag);
  assertTrue(result);
  assertEquals(frag,dut.poll());
  assertNull(dut.poll());
  result=dut.offer(1L,frag2);
  assertFalse(result);
  assertNull(dut.poll());
  result=dut.offer(1L,complete);
  assertFalse(result);
  assertNull(dut.poll());
}
