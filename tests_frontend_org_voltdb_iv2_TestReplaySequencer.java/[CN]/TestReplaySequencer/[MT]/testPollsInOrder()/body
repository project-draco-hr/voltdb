{
  TransactionInfoBaseMessage sntl1=makeSentinel(1L);
  TransactionInfoBaseMessage frag1=makeFragment(1L);
  TransactionInfoBaseMessage sp1a=makeIv2InitTask(100L);
  TransactionInfoBaseMessage sp1b=makeIv2InitTask(101L);
  TransactionInfoBaseMessage sp1c=makeIv2InitTask(102L);
  TransactionInfoBaseMessage sp1d=makeIv2InitTask(103L);
  TransactionInfoBaseMessage sntl2=makeSentinel(2L);
  TransactionInfoBaseMessage frag2=makeFragment(2L);
  TransactionInfoBaseMessage sp2a=makeIv2InitTask(104L);
  TransactionInfoBaseMessage sp2b=makeIv2InitTask(105L);
  TransactionInfoBaseMessage sp2c=makeIv2InitTask(106L);
  TransactionInfoBaseMessage sp2d=makeIv2InitTask(107L);
  ReplaySequencer dut=new ReplaySequencer();
  dut.offer(sntl1);
  dut.offer(sp1a);
  dut.offer(sp1b);
  dut.offer(sp1c);
  dut.offer(sp1d);
  dut.offer(sntl2);
  dut.offer(sp2a);
  dut.offer(sp2b);
  dut.offer(sp2c);
  dut.offer(sp2d);
  assertEquals(null,dut.poll());
  dut.offer(frag1);
  assertEquals(frag1,dut.poll());
  assertEquals(sp1a,dut.poll());
  assertEquals(sp1b,dut.poll());
  assertEquals(sp1c,dut.poll());
  assertEquals(sp1d,dut.poll());
  assertEquals(null,dut.poll());
  dut.offer(frag2);
  assertEquals(frag2,dut.poll());
  assertEquals(sp2a,dut.poll());
  assertEquals(sp2b,dut.poll());
  assertEquals(sp2c,dut.poll());
  assertEquals(sp2d,dut.poll());
  assertEquals(null,dut.poll());
}
