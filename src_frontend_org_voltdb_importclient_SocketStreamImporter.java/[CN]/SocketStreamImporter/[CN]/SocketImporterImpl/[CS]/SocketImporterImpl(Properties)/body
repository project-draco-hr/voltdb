{
  m_properties=(Properties)p.clone();
  String s=(String)m_properties.get("port");
  m_procedure=(String)m_properties.get("procedure");
  if (m_procedure == null || m_procedure.trim().length() == 0) {
    throw new IllegalArgumentException("Missing procedure.");
  }
  try {
    if (m_serverSocket != null) {
      m_serverSocket.close();
    }
    m_serverSocket=new ServerSocket(Integer.parseInt(s));
  }
 catch (  IOException ex) {
    warn(ex,"Exception closing existing server socket and reopening on port %s",s);
    throw new RuntimeException(ex.getCause());
  }
}
