{
  m_file=file;
  m_tempFile=new File(m_file.getParentFile(),m_file.getName() + ".incomplete");
  RandomAccessFile ras=new RandomAccessFile(m_tempFile,"rw");
  m_fc=ras.getChannel();
  m_needsFinalClose=needsFinalClose;
  m_es=CoreUtils.getSingleThreadExecutor("Snapshot write thread for " + m_file);
}
