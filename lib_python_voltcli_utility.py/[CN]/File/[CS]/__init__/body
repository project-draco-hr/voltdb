def __init__(self, path, mode='r'):
    if (mode not in ('r', 'w')):
        abort(('Invalid file mode "%s".' % mode))
    self.path = path
    self.mode = mode
    self.f = None
