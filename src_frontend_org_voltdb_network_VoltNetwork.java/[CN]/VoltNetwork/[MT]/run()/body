{
  try {
    while (m_shouldStop == false) {
      try {
        while (m_shouldStop == false) {
          waitForRegistrationLock();
          if (m_useBlockingSelect) {
            m_selector.select(5);
          }
 else {
            m_selector.selectNow();
          }
          installInterests();
          invokeCallbacks();
          EstTimeUpdater.update(System.currentTimeMillis());
        }
      }
 catch (      Exception ex) {
        m_logger.error(null,ex);
      }
      assert(m_useExecutorService || (!m_useExecutorService && m_tasks.isEmpty()));
    }
  }
  finally {
    p_shutdown();
  }
}
