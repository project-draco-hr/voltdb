{
  while (m_shouldStop == false) {
    try {
      while (m_shouldStop == false) {
        waitForRegistrationLock();
        if (m_useBlockingSelect) {
          m_selector.select(5);
        }
 else {
          m_selector.selectNow();
        }
        installInterests();
        invokeCallbacks(m_useExecutorService);
        periodicWork();
      }
    }
 catch (    Exception ex) {
      m_logger.error(null,ex);
    }
  }
  p_shutdown();
}
