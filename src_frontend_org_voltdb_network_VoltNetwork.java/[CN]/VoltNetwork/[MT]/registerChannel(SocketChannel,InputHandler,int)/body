{
  channel.configureBlocking(false);
  channel.socket().setKeepAlive(true);
  VoltPort port=new VoltPort(this,handler,handler.getExpectedOutgoingMessageSize(),channel.socket().getInetAddress().getHostName());
  port.registering();
  acquireRegistrationLock();
  try {
    SelectionKey key=channel.register(m_selector,interestOps,port);
    port.setKey(key);
    port.registered();
    return port;
  }
  finally {
synchronized (m_ports) {
      m_ports.add(port);
    }
    releaseRegistrationLock();
  }
}
