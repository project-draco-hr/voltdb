{
  int old_length=files.length;
  long start_time=System.currentTimeMillis();
  while (files.length == old_length || files.length == 0) {
    files=path.listFiles(acceptor);
    long now=System.currentTimeMillis();
    if ((now - start_time) > FILE_TIMEOUT_MS) {
      throw new ValidationErr("Timed out waiting on new files in " + path.getName() + ".\n"+ "This indicates a mismatch in the transaction streams between the client logs and the export data or the death of something important.",null,null);
    }
  }
  Arrays.sort(files,comparator);
  return files;
}
