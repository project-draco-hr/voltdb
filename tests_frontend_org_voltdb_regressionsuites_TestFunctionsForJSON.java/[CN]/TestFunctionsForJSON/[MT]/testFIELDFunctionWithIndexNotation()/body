{
  Client client=getClient();
  loadJS1(client);
  testProcWithValidJSON(TABLE_ROWS123,client,"IdFieldProc","arr[0]",0);
  testProcWithValidJSON(TABLE_ROW2,client,"IdFieldProc","arr[1]",2);
  testProcWithValidJSON(TABLE_ROWS123,client,"IdFieldProc","arr[2]",100);
  testProcWithValidJSON(TABLE_ROWS123,client,"IdFieldProc","arr[-1]",100);
  testProcWithValidJSON(TABLE_ROWS123,client,"NotNullFieldProc","arr[-1]");
  testProcWithValidJSON(EMPTY_TABLE,client,"NotNullFieldProc","arr[3]");
  testProcWithValidJSON(EMPTY_TABLE,client,"NotNullFieldProc","arr[" + Integer.MAX_VALUE + "]");
  testProcWithValidJSON(TABLE_ROWS123,client,"IdFieldProc","arr3d[1][0]","One");
  testProcWithValidJSON(TABLE_ROWS123,client,"IdFieldProc","arr3d[1][1][0]",2);
  testProcWithValidJSON(TABLE_ROW3,client,"IdFieldProc","arr3d[1][1][1]",3);
  testProcWithValidJSON(EMPTY_TABLE,client,"NotNullFieldProc","arr3d[1][1][3]");
  testProcWithValidJSON(EMPTY_TABLE,client,"NotNullFieldProc","arr3d[1][1][" + Integer.MAX_VALUE + "]");
  testProcWithValidJSON(TABLE_ROWS123,client,"@AdHoc","SELECT ID FROM JS1 WHERE FIELD(DOC, 'arr[0]') = '0' ORDER BY ID");
  testProcWithValidJSON(TABLE_ROW2,client,"@AdHoc","SELECT ID FROM JS1 WHERE FIELD(DOC, 'arr[1]') = '2' ORDER BY ID");
  testProcWithValidJSON(TABLE_ROWS123,client,"@AdHoc","SELECT ID FROM JS1 WHERE FIELD(DOC, 'arr[2]') = '100' ORDER BY ID");
  testProcWithValidJSON(TABLE_ROWS123,client,"@AdHoc","SELECT ID FROM JS1 WHERE FIELD(DOC, 'arr[-1]') = '100' ORDER BY ID");
  testProcWithValidJSON(TABLE_ROWS123,client,"@AdHoc","SELECT ID FROM JS1 WHERE FIELD(DOC, 'arr[-1]') IS NOT NULL ORDER BY ID");
  testProcWithValidJSON(EMPTY_TABLE,client,"@AdHoc","SELECT ID FROM JS1 WHERE FIELD(DOC, 'arr[3]') IS NOT NULL ORDER BY ID");
  testProcWithValidJSON(EMPTY_TABLE,client,"@AdHoc","SELECT ID FROM JS1 WHERE FIELD(DOC, 'arr[" + Integer.MAX_VALUE + "]') IS NOT NULL ORDER BY ID");
  testProcWithValidJSON(TABLE_ROWS123,client,"@AdHoc","SELECT ID FROM JS1 WHERE FIELD(DOC, 'arr3d[1][0]') = 'One' ORDER BY ID");
  testProcWithValidJSON(TABLE_ROWS123,client,"@AdHoc","SELECT ID FROM JS1 WHERE FIELD(DOC, 'arr3d[1][1][0]') = '2' ORDER BY ID");
  testProcWithValidJSON(TABLE_ROW3,client,"@AdHoc","SELECT ID FROM JS1 WHERE FIELD(DOC, 'arr3d[1][1][1]') = '3' ORDER BY ID");
  testProcWithValidJSON(EMPTY_TABLE,client,"@AdHoc","SELECT ID FROM JS1 WHERE FIELD(DOC, 'arr3d[1][1][3]') IS NOT NULL ORDER BY ID");
  testProcWithValidJSON(EMPTY_TABLE,client,"@AdHoc","SELECT ID FROM JS1 WHERE FIELD(DOC, 'arr3d[1][1][" + Integer.MAX_VALUE + "]') IS NOT NULL ORDER BY ID");
  testProcWithValidJSON(TABLE_ROWS123,client,"IdFieldProc","bracket]\\[\\[] \\[ ] chars","[foo]");
  testProcWithValidJSON(EMPTY_TABLE,client,"IdFieldProc","bracket]]  ] chars","[foo]");
  testProcWithValidJSON(TABLE_ROWS123,client,"@AdHoc","SELECT ID FROM JS1 WHERE FIELD(DOC, 'bracket]\\[\\[] \\[ ] chars') = '[foo]' ORDER BY ID");
  testProcWithValidJSON(EMPTY_TABLE,client,"@AdHoc","SELECT ID FROM JS1 WHERE FIELD(DOC, 'bracket]]  ] chars') = '[foo]' ORDER BY ID");
  testProcWithValidJSON(EMPTY_TABLE,client,"NotNullFieldProc","id[0]");
  testProcWithValidJSON(EMPTY_TABLE,client,"NotNullFieldProc","numeric[0]");
  testProcWithValidJSON(EMPTY_TABLE,client,"NotNullFieldProc","bool[0]");
  testProcWithValidJSON(EMPTY_TABLE,client,"NotNullFieldProc","tag[0]");
  testProcWithValidJSON(EMPTY_TABLE,client,"NotNullFieldProc","last[0]");
  testProcWithValidJSON(EMPTY_TABLE,client,"NotNullFieldProc","inner[0]");
  testProcWithValidJSON(EMPTY_TABLE,client,"@AdHoc","SELECT ID FROM JS1 WHERE FIELD(DOC, 'id[0]') IS NOT NULL ORDER BY ID");
  testProcWithValidJSON(EMPTY_TABLE,client,"@AdHoc","SELECT ID FROM JS1 WHERE FIELD(DOC, 'numeric[0]') IS NOT NULL ORDER BY ID");
  testProcWithValidJSON(EMPTY_TABLE,client,"@AdHoc","SELECT ID FROM JS1 WHERE FIELD(DOC, 'bool[0]') IS NOT NULL ORDER BY ID");
  testProcWithValidJSON(EMPTY_TABLE,client,"@AdHoc","SELECT ID FROM JS1 WHERE FIELD(DOC, 'tag[0]') IS NOT NULL ORDER BY ID");
  testProcWithValidJSON(EMPTY_TABLE,client,"@AdHoc","SELECT ID FROM JS1 WHERE FIELD(DOC, 'last[0]') IS NOT NULL ORDER BY ID");
  testProcWithValidJSON(EMPTY_TABLE,client,"@AdHoc","SELECT ID FROM JS1 WHERE FIELD(DOC, 'inner[0]') IS NOT NULL ORDER BY ID");
  testProcWithValidJSON(FULL_TABLE,client,"NullArrayProc","id",0);
  testProcWithValidJSON(FULL_TABLE,client,"NullArrayProc","numeric",0);
  testProcWithValidJSON(FULL_TABLE,client,"NullArrayProc","bool",0);
  testProcWithValidJSON(FULL_TABLE,client,"NullArrayProc","last",0);
  testProcWithValidJSON(FULL_TABLE,client,"NullArrayProc","inner",0);
  testProcWithInvalidJSON("Syntax error: value, object or array expected",client,"NullArrayProc","tag",0);
  testProcWithValidJSON(FULL_TABLE,client,"@AdHoc","SELECT ID FROM JS1 WHERE ARRAY_ELEMENT(FIELD(DOC, 'id'), 0) IS NULL ORDER BY ID");
  testProcWithValidJSON(FULL_TABLE,client,"@AdHoc","SELECT ID FROM JS1 WHERE ARRAY_ELEMENT(FIELD(DOC, 'numeric'), 0) IS NULL ORDER BY ID");
  testProcWithValidJSON(FULL_TABLE,client,"@AdHoc","SELECT ID FROM JS1 WHERE ARRAY_ELEMENT(FIELD(DOC, 'bool'), 0) IS NULL ORDER BY ID");
  testProcWithValidJSON(FULL_TABLE,client,"@AdHoc","SELECT ID FROM JS1 WHERE ARRAY_ELEMENT(FIELD(DOC, 'last'), 0) IS NULL ORDER BY ID");
  testProcWithValidJSON(FULL_TABLE,client,"@AdHoc","SELECT ID FROM JS1 WHERE ARRAY_ELEMENT(FIELD(DOC, 'inner'), 0) IS NULL ORDER BY ID");
  testProcWithInvalidJSON("Syntax error: value, object or array expected",client,"@AdHoc","SELECT ID FROM JS1 WHERE ARRAY_ELEMENT(FIELD(DOC, 'tag'), 0) IS NULL ORDER BY ID");
  testProcWithValidJSON(TABLE_ROW10,client,"NotNullFieldProc","[0]");
  testProcWithValidJSON(TABLE_ROW10,client,"NotNullFieldProc","[1]");
  testProcWithValidJSON(TABLE_ROW10,client,"NotNullFieldProc","[2]");
  testProcWithValidJSON(TABLE_ROW10,client,"NotNullFieldProc","[-1]");
  testProcWithValidJSON(EMPTY_TABLE,client,"NotNullFieldProc","[3]");
  testProcWithValidJSON(TABLE_ROW10,client,"IdFieldProc","[0]",1);
  testProcWithValidJSON(TABLE_ROW10,client,"IdFieldProc","[1]",2);
  testProcWithValidJSON(TABLE_ROW10,client,"IdFieldProc","[2]",3);
  testProcWithValidJSON(TABLE_ROW10,client,"IdFieldProc","[-1]",3);
  testProcWithValidJSON(TABLE_ROW10,client,"@AdHoc","SELECT ID FROM JS1 WHERE FIELD(DOC, '[0]') IS NOT NULL ORDER BY ID");
  testProcWithValidJSON(TABLE_ROW10,client,"@AdHoc","SELECT ID FROM JS1 WHERE FIELD(DOC, '[0]') IS NOT NULL ORDER BY ID");
  testProcWithValidJSON(TABLE_ROW10,client,"@AdHoc","SELECT ID FROM JS1 WHERE FIELD(DOC, '[0]') IS NOT NULL ORDER BY ID");
  testProcWithValidJSON(TABLE_ROW10,client,"@AdHoc","SELECT ID FROM JS1 WHERE FIELD(DOC, '[0]') IS NOT NULL ORDER BY ID");
  testProcWithValidJSON(TABLE_ROW10,client,"@AdHoc","SELECT ID FROM JS1 WHERE FIELD(DOC, '[0]') IS NOT NULL ORDER BY ID");
  testProcWithValidJSON(TABLE_ROW10,client,"@AdHoc","SELECT ID FROM JS1 WHERE FIELD(DOC, '[0]') = '1' ORDER BY ID");
  testProcWithValidJSON(TABLE_ROW10,client,"@AdHoc","SELECT ID FROM JS1 WHERE FIELD(DOC, '[1]') = '2' ORDER BY ID");
  testProcWithValidJSON(TABLE_ROW10,client,"@AdHoc","SELECT ID FROM JS1 WHERE FIELD(DOC, '[2]') = '3' ORDER BY ID");
  testProcWithValidJSON(TABLE_ROW10,client,"@AdHoc","SELECT ID FROM JS1 WHERE FIELD(DOC, '[-1]') = '3' ORDER BY ID");
}
