{
  PlanNodeList node_list=new PlanNodeList(planGraph);
  String json=node_list.toJSONString();
  compiler.captureDiagnosticJsonFragment(json);
  try {
    FastSerializer fs=new FastSerializer(true,false);
    byte[] jsonBytes=json.getBytes();
    fs.write(jsonBytes);
    String hexString=fs.getHexEncodedBytes();
    fragment.setPlannodetree(hexString);
    return jsonBytes;
  }
 catch (  Exception e) {
    e.printStackTrace();
    throw compiler.new VoltCompilerException(e.getMessage());
  }
}
