{
  final String procedureName=msg.getStoredProcedureName();
  final SpProcedureTask task=new SpProcedureTask(m_mailbox,procedureName,m_pendingTasks,msg,m_drGateway);
  if (!msg.isReadOnly()) {
    if (!m_cl.log(msg,msg.getSpHandle(),m_durabilityListener,task)) {
      m_pendingTasks.offer(task);
    }
  }
 else {
    m_pendingTasks.offer(task);
  }
}
