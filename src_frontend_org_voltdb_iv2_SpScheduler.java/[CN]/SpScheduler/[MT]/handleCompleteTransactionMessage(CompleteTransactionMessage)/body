{
  if (m_sendToHSIds.length > 0) {
    CompleteTransactionMessage replmsg=message;
    m_mailbox.send(m_sendToHSIds,replmsg);
  }
  TransactionState txn=m_outstandingTxns.get(message.getTxnId());
  if (txn != null) {
    Iv2Trace.logCompleteTransactionMessage(message,m_mailbox.getHSId());
    final CompleteTransactionTask task=new CompleteTransactionTask(txn,m_pendingTasks,message,m_drGateway);
    m_pendingTasks.offer(task);
    if (!message.isRestart()) {
      m_outstandingTxns.remove(message.getTxnId());
    }
  }
}
