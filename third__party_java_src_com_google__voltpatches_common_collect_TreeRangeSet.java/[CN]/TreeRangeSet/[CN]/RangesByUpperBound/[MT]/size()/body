{
  if (upperBoundWindow.equals(Range.all())) {
    return rangesByLowerBound.size();
  }
  return Iterators.size(entryIterator());
}
