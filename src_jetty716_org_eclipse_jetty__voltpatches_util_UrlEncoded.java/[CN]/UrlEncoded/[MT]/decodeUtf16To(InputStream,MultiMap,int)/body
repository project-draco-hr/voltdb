{
  InputStreamReader input=new InputStreamReader(in,StringUtil.__UTF16);
  StringBuffer buf=new StringBuffer();
  int c;
  int length=0;
  if (maxLength < 0)   maxLength=Integer.MAX_VALUE;
  while ((c=input.read()) > 0 && length++ < maxLength)   buf.append((char)c);
  decodeTo(buf.toString(),map,ENCODING);
}
