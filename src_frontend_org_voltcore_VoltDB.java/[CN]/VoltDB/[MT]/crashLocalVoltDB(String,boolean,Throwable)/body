{
  VoltLogger log=new VoltLogger("HOST");
  if (t != null) {
    log.fatal(errMsg,t);
    System.out.print(errMsg);
    t.printStackTrace();
  }
 else {
    System.out.println(errMsg);
    log.fatal(errMsg);
  }
  if (stackTrace) {
    StringBuilder sb=new StringBuilder("Stack trace from crashVoltDB() method:\n");
    Map<Thread,StackTraceElement[]> traces=Thread.getAllStackTraces();
    StackTraceElement[] myTrace=traces.get(Thread.currentThread());
    for (    StackTraceElement ste : myTrace) {
      sb.append(ste.toString()).append("\n");
    }
    System.out.println(sb);
  }
  System.err.println("VoltDB has encountered an unrecoverable error and is exiting.");
  System.err.println("The log may contain additional information.");
  System.exit(-1);
}
