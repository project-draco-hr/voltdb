def make_configuration_file():
    main_header = Element('vdm')
    db_top = SubElement(main_header, 'databases')
    server_top = SubElement(main_header, 'members')
    deployment_top = SubElement(main_header, 'deployments')
    i = 0
    while (i < len(DATABASES)):
        db_elem = SubElement(db_top, 'database')
        for (key, value) in DATABASES[i].iteritems():
            if isinstance(value, bool):
                if (value == False):
                    db_elem.attrib[key] = 'false'
                else:
                    db_elem.attrib[key] = 'true'
            else:
                db_elem.attrib[key] = str(value)
        i += 1
    i = 0
    while (i < len(SERVERS)):
        server_elem = SubElement(server_top, 'member')
        for (key, value) in SERVERS[i].iteritems():
            if isinstance(value, bool):
                if (value == False):
                    server_elem.attrib[key] = 'false'
                else:
                    server_elem.attrib[key] = 'true'
            else:
                server_elem.attrib[key] = str(value)
        i += 1
    i = 0
    while (i < len(DEPLOYMENT)):
        DEPLOYMENT[i]['users'] = {}
        DEPLOYMENT[i]['users']['user'] = []
        deployment_user = filter((lambda t: (t['databaseid'] == DEPLOYMENT[i]['databaseid'])), DEPLOYMENT_USERS)
        if (len(deployment_user) == 0):
            DEPLOYMENT[i]['users'] = None
        for user in deployment_user:
            DEPLOYMENT[i]['users']['user'].append({'name': user['name'], 'roles': user['roles'], 'plaintext': user['plaintext'], 'password': user['password'], 'databaseid': user['databaseid'], })
        deployment_elem = SubElement(deployment_top, 'deployment')
        for (key, value) in DEPLOYMENT[i].iteritems():
            if (type(value) is dict):
                handle_deployment_dict(deployment_elem, key, value, False)
            elif (type(value) is list):
                handle_deployment_list(deployment_elem, key, value)
            elif (value is not None):
                deployment_elem.attrib[key] = str(value)
        i += 1
    try:
        path = os.path.join(PATH, '.vdm')
        f = open(path, 'w')
        f.write(tostring(main_header, encoding='UTF-8'))
        f.close()
    except Exception as err:
        print str(err)
