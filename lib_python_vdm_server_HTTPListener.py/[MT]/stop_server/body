def stop_server(database_id, server_id):
    members = []
    current_database = [database for database in Global.DATABASES if (database['id'] == database_id)]
    if (not current_database):
        abort(404)
    else:
        members = current_database[0]['members']
    if (not members):
        return make_response(jsonify({'statusstring': 'No servers configured for the database', }), 500)
    server = [server for server in Global.SERVERS if (server['id'] == server_id)]
    if (not server):
        return make_response(jsonify({'statusstring': ('Server details not found for id ' + server_id), }), 404)
    voltdb_dir = get_voltdb_dir()
    voltdb_cmd = [os.path.join(voltdb_dir, 'voltadmin'), 'stop', '-H', server[0]['hostname'], server[0]['name']]
    shutdown_proc = subprocess.Popen(voltdb_cmd, stdout=subprocess.PIPE, stderr=subprocess.PIPE, close_fds=True)
    (output, error) = shutdown_proc.communicate()
    exit_code = shutdown_proc.wait()
    return (output + error)
