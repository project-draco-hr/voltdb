def run_voltdb_cmd(cmd, verb, args, database_id):
    user_options = []
    if is_security_enabled(database_id):
        admin = get_admin_user(database_id)
        if (admin is None):
            raise Exception('No admin users found')
        user_options = ['-u', admin['name'], '-p', admin['password']]
    voltdb_dir = get_voltdb_dir()
    voltdb_cmd = (([os.path.join(voltdb_dir, cmd), verb] + user_options) + args)
    shutdown_proc = subprocess.Popen(voltdb_cmd, stdout=subprocess.PIPE, stderr=subprocess.PIPE, close_fds=True)
    (output, error) = shutdown_proc.communicate()
    exit_code = shutdown_proc.wait()
    return (output + error)
