{
  assert(initialAllocation > 0);
  assert(pool == null && isDirect || pool != null && !isDirect || pool == null && !isDirect);
  this.isDirect=isDirect;
  if (pool != null) {
    m_pool=pool;
    buffer=pool.acquire(initialAllocation);
  }
 else   if (isDirect) {
    assert(pool == null);
    m_pool=null;
    buffer=DBBPool.wrapBB(ByteBuffer.allocateDirect(initialAllocation));
  }
 else {
    buffer=DBBPool.wrapBB(ByteBuffer.allocate(initialAllocation));
    m_pool=null;
    assert(pool == null);
  }
  this.callback=callback;
  assert(buffer.b.order() == ByteOrder.BIG_ENDIAN);
}
