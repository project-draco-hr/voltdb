{
  if (msg.getPayload() instanceof CompleteTransactionMessage) {
    return msg.getPayload();
  }
 else {
    FragmentTaskMessage ftm=(FragmentTaskMessage)msg.getPayload();
    CompleteTransactionMessage rollback=new CompleteTransactionMessage(ftm.getInitiatorHSId(),ftm.getCoordinatorHSId(),ftm.getTxnId(),ftm.isReadOnly(),true,false,true);
    return rollback;
  }
}
