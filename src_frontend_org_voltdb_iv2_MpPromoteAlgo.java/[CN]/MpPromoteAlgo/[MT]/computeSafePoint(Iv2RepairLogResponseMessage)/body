{
  long oldSafePoint=m_maxSeenTxnId;
  m_maxSeenTxnId=Math.max(m_maxSeenTxnId,msg.getHandle());
  if (msg.getPayload() instanceof CompleteTransactionMessage) {
    return msg.getHandle();
  }
 else {
    return oldSafePoint;
  }
}
