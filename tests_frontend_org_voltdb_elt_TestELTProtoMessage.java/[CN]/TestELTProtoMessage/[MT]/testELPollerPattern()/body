{
  final ELTProtoMessage r=new ELTProtoMessage(1,5);
  r.openResponse();
  final DBBPool p=new DBBPool();
  BBContainer bb=new DeferredSerialization(){
    @Override public BBContainer serialize(    DBBPool p) throws IOException {
      FastSerializer fs=new FastSerializer(p,r.serializableBytes() + 4);
      r.writeToFastSerializer(fs);
      return fs.getBBContainer();
    }
    @Override public void cancel(){
    }
  }
.serialize(p);
  ByteBuffer b=bb.b;
  assertEquals(20,b.getInt());
  FastDeserializer fds=new FastDeserializer(b);
  ELTProtoMessage m=ELTProtoMessage.readExternal(fds);
  assertEquals(1,m.m_partitionId);
  assertEquals(5,m.getTableId());
  assertTrue(m.isOpenResponse());
  assertMsgType(m,ELTProtoMessage.kOpenResponse);
}
