{
  while (true) {
    Entry<Long,FragInfo> lru=m_plansLRU.pollFirstEntry();
    FragInfo frag=lru.getValue();
    if (frag.refCount > 0) {
      frag.lastUse=++m_nextFragUse;
    }
 else     if (lru.getKey() != frag.lastUse) {
      frag.lastUse=m_nextFragUse++;
    }
 else {
      return;
    }
    m_plansById.remove(frag.fragId);
    m_plansByHash.remove(frag.hash);
    lru=m_plansLRU.pollFirstEntry();
    assert(lru != null);
  }
}
