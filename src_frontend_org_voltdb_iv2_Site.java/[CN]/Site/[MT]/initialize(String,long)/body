{
  if (m_backend == BackendTarget.NONE) {
    m_hsql=null;
    m_ee=new MockExecutionEngine();
  }
 else   if (m_backend == BackendTarget.HSQLDB_BACKEND) {
    m_hsql=HsqlBackend.initializeHSQLBackend(m_siteId,m_context);
    m_ee=new MockExecutionEngine();
  }
 else {
    m_hsql=null;
    m_ee=initializeEE(serializedCatalog,timestamp);
  }
  m_snapshotter=new SnapshotSiteProcessor(new Runnable(){
    @Override public void run(){
      m_scheduler.offer(new SnapshotTask());
    }
  }
,m_snapshotPriority,new SnapshotSiteProcessor.IdlePredicate(){
    @Override public boolean idle(    long now){
      return (now - 5) > m_lastTxnTime;
    }
  }
);
}
