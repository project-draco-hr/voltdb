{
  m_mailbox=new LocalMailbox(hostMessenger){
    @Override public void send(    long destinationHSId,    VoltMessage message) throws MessagingException {
      message.m_sourceHSId=hsId;
      hostMessenger.send(destinationHSId,message);
    }
    @Override public void deliver(    final VoltMessage message){
      try {
        m_es.submit(new Runnable(){
          @Override public void run(){
            handleMailboxMessage(message);
          }
        }
);
      }
 catch (      RejectedExecutionException rejected) {
        final LocalObjectMessage wrapper=(LocalObjectMessage)message;
        AsyncCompilerWork work=(AsyncCompilerWork)(wrapper.payload);
        AsyncCompilerResult retval=new AsyncCompilerResult();
        retval.clientHandle=work.clientHandle;
        retval.errorMsg="Ad Hoc Planner is not available. Try again.";
        retval.connectionId=work.connectionId;
        retval.hostname=work.hostname;
        retval.adminConnection=work.adminConnection;
        retval.clientData=work.clientData;
        try {
          m_mailbox.send(message.m_sourceHSId,new LocalObjectMessage(retval));
        }
 catch (        MessagingException ex) {
          ahpLog.error("Error replying to Ad Hoc planner request: " + ex.getMessage());
        }
      }
    }
  }
;
  hostMessenger.createMailbox(hsId,m_mailbox);
}
