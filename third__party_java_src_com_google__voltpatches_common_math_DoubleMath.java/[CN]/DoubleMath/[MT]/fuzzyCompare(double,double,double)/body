{
  if (fuzzyEquals(a,b,tolerance)) {
    return 0;
  }
 else   if (a < b) {
    return -1;
  }
 else   if (a > b) {
    return 1;
  }
 else {
    return Booleans.compare(Double.isNaN(a),Double.isNaN(b));
  }
}
