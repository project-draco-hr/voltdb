def bufferForRead(self):
    if (self.socket == None):
        print 'ERROR: not connected to server.'
        exit((-1))
    responseprefix = ''
    while (len(responseprefix) < 4):
        responseprefix += self.socket.recv((4 - len(responseprefix)))
        if (responseprefix == ''):
            raise IOError('Connection broken')
    if (self.dump_file != None):
        self.dump_file.write(responseprefix)
    responseLength = struct.unpack(self.int32Type(1), responseprefix)[0]
    while (len(self.rbuf) < responseLength):
        self.rbuf += self.socket.recv((responseLength - len(self.rbuf)))
    if (self.dump_file != None):
        self.dump_file.write(self.rbuf)
        self.dump_file.write('\n')
