{
synchronized (m_initiator) {
    Map<Long,InFlightTxnState> txn_ids_affected=m_pendingTxns.removeSite(siteId);
    for (    Long txn_id : txn_ids_affected.keySet()) {
      if (m_pendingTxns.getTxnIdSize(txn_id) == 0) {
        InFlightTxnState state=txn_ids_affected.get(txn_id);
        if (!m_txnIdResponses.containsKey(txn_id)) {
          VoltDB.crashVoltDB();
        }
        InitiateResponseMessage r=m_txnIdResponses.get(txn_id);
        m_pendingTxns.removeTxnId(r.getTxnId());
        m_initiator.reduceBackpressure(state.messageSize);
        m_txnIdResponses.remove(r.getTxnId());
        if (!state.isReadOnly) {
          enqueueResponse(r,state);
        }
      }
    }
  }
}
