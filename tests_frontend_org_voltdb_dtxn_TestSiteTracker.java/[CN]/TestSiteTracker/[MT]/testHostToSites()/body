{
  MockVoltDB helper=new MockVoltDB();
  helper.addHost(0);
  helper.addHost(1);
  helper.addPartition(0);
  helper.addPartition(1);
  helper.addSite(0,0,0,false,true);
  helper.addSite(1,0,0,true,true);
  helper.addSite(2,0,1,true,true);
  helper.addSite(3,0,1,true,false);
  helper.addSite(100,1,0,false,true);
  helper.addSite(101,1,0,true,true);
  helper.addSite(102,1,1,true,false);
  helper.addSite(103,1,1,true,true);
  SiteTracker tracker=helper.getSiteTracker();
  List<Long> host0=tracker.getSitesForHost(0);
  assertTrue(host0.contains(0L));
  assertTrue(host0.contains(1L));
  assertTrue(host0.contains(2L));
  assertFalse(host0.contains(101L));
  host0=tracker.getSitesForHost(0);
  assertFalse(host0.contains(0L));
  assertTrue(host0.contains(1L));
  assertTrue(host0.contains(2L));
  assertFalse(host0.contains(3L));
  assertFalse(host0.contains(101L));
  List<Long> host1=tracker.getSitesForHost(1);
  assertTrue(host1.contains(100L));
  assertTrue(host1.contains(101L));
  assertTrue(host1.contains(102L));
  assertFalse(host1.contains(1L));
  host1=tracker.getSitesForHost(1);
  assertFalse(host1.contains(100L));
  assertTrue(host1.contains(101L));
  assertFalse(host1.contains(102L));
  assertTrue(host1.contains(103L));
  assertFalse(host1.contains(1L));
  helper.shutdown(null);
}
