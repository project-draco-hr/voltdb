{
  MockVoltDB helper=new MockVoltDB();
  helper.addHost(0);
  helper.addHost(1);
  helper.addPartition(0);
  helper.addPartition(1);
  helper.addSite(0,0,0,false,true);
  helper.addSite(1,0,0,true,true);
  helper.addSite(2,0,1,true,true);
  helper.addSite(100,1,0,false,false);
  helper.addSite(101,1,0,true,false);
  helper.addSite(102,1,1,true,false);
  SiteTracker tracker=helper.getSiteTracker();
  assertEquals(1,tracker.getSitesForPartition(0).size());
  assertEquals(1,tracker.getSitesForPartition(1).size());
  assertTrue(tracker.getSitesForPartition(0).contains(1));
  assertFalse(tracker.getSitesForPartition(0).contains(101));
  List<Long> sites=tracker.getSitesForPartitions(new int[]{0,1});
  assertEquals(2,sites.size());
  for (  long site : sites) {
    assertTrue(site == 1 || site == 2);
  }
  helper.shutdown(null);
}
