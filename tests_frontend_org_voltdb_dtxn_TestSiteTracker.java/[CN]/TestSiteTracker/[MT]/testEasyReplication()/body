{
  MockVoltDB helper=new MockVoltDB();
  helper.addHost(0);
  helper.addHost(1);
  helper.addPartition(0);
  helper.addPartition(1);
  helper.addSite(1,0,0,true);
  helper.addSite(2,0,1,true);
  helper.addSite(101,1,0,true);
  helper.addSite(102,1,1,true);
  SiteTracker tracker=helper.getCatalogContext().siteTracker;
  assertTrue(tracker.getAllSitesForPartition(0).contains(1));
  assertTrue(tracker.getAllSitesForPartition(0).contains(101));
  assertTrue(tracker.getAllSitesForPartition(1).contains(2));
  assertTrue(tracker.getAllSitesForPartition(1).contains(102));
  for (int i=0; i < 2; i++) {
    assertEquals(2,tracker.getAllSitesForPartition(i).size());
  }
  int[] sites=tracker.getAllSitesForEachPartition(new int[]{0,1});
  assertEquals(4,sites.length);
  for (  int site : sites) {
    assertTrue(site == 1 || site == 2 || site == 101 || site == 102);
  }
  assertEquals(0,tracker.getPartitionForSite(1));
  assertEquals(1,tracker.getPartitionForSite(2));
  assertEquals(0,tracker.getPartitionForSite(101));
  assertEquals(1,tracker.getPartitionForSite(102));
  helper.shutdown(null);
}
