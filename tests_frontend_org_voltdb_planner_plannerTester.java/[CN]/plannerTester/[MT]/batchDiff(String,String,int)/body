{
  PlanNodeTree pnt1=null;
  PlanNodeTree pnt2=null;
  m_stmts.clear();
  m_stmtsBase.clear();
  for (int i=0; i < size; i++) {
    try {
      ArrayList<String> getsql=new ArrayList<String>();
      pnt1=loadPlanFromFile(pathBaseline + m_testName + ".plan"+ i,getsql);
      m_stmtsBase.add(getsql.get(0));
      getsql.clear();
      pnt2=loadPlanFromFile(pathNew + m_testName + ".plan"+ i,getsql);
      m_stmts.add(getsql.get(0));
    }
 catch (    FileNotFoundException e) {
      System.err.println("Plan files in" + pathBaseline + " don't exist. Use -cs(batchCompileSave) to generate plans and copy base plans to baseline directory.");
    }
    AbstractPlanNode pn1=pnt1.getRootPlanNode();
    AbstractPlanNode pn2=pnt2.getRootPlanNode();
    if (diff(pn1,pn2,false)) {
      m_numPass++;
    }
 else {
      m_numFail++;
      m_reportWriter.write("Statement " + i + " of "+ m_testName+ ": \n");
      for (      String msg : m_diffMessages) {
        m_reportWriter.write(msg + "\n\n");
      }
      if (m_showSQLStatement) {
        m_reportWriter.write("SQL statement:\n" + m_stmtsBase.get(i) + "\n==>\n"+ m_stmts.get(i)+ "\n");
      }
      if (m_showExpainedPlan) {
        m_reportWriter.write("\nExplained plan:\n" + pn1.toExplainPlanString() + "\n==>\n"+ pn2.toExplainPlanString()+ "\n");
      }
      m_reportWriter.write("Path to the config file :" + m_currentConfig + "\n"+ "Path to the baseline file :"+ pathBaseline+ m_testName+ ".plan"+ i+ "\n"+ "Path to the current plan file :"+ pathNew+ m_testName+ ".plan"+ i+ "\n");
    }
    m_numTest++;
  }
  m_reportWriter.flush();
}
