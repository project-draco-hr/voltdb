{
  if (_serverSocket == null || _serverSocket.isClosed())   _serverSocket=newServerSocket(getHost(),getPort(),getAcceptQueueSize());
  _serverSocket.setReuseAddress(getReuseAddress());
  _localPort=_serverSocket.getLocalPort();
  if (_localPort <= 0)   throw new IllegalStateException("port not allocated for " + this);
}
