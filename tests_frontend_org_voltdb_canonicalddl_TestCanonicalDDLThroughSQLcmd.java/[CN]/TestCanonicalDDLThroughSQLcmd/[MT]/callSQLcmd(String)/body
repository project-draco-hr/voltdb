{
  File f=new File("ddl.sql");
  f.deleteOnExit();
  FileOutputStream fos=new FileOutputStream(f);
  fos.write(ddl.getBytes());
  ProcessBuilder pb=new ProcessBuilder("bin/sqlcmd");
  pb.redirectInput(f);
  Process process=pb.start();
  long starttime=System.currentTimeMillis();
  long endtime=starttime + 60000;
  int exitValue=-1;
  while (System.currentTimeMillis() < endtime) {
    Thread.sleep(1000);
    try {
      exitValue=process.exitValue();
      if (exitValue == 0) {
        break;
      }
    }
 catch (    Exception e) {
      System.out.println("Process hasn't exited");
    }
  }
  if (exitValue == 0) {
    return true;
  }
 else {
    return false;
  }
}
