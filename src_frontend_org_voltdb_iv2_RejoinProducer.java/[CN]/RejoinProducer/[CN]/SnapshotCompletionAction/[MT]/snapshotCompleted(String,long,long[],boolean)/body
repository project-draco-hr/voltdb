{
  if (nonce.equals(m_snapshotNonce)) {
    deregister();
    Long snapshotSpHandle=TxnEgo.extractTxnIdForPartition(partitionTxnIds,m_partitionId);
    Runnable action=new Runnable(){
      public void run(){
        REJOINLOG.debug(m_whoami + "informing rejoinCoordinator " + CoreUtils.hsIdToString(m_rejoinCoordinatorHsId)+ " of REPLAY_FINISHED");
        RejoinMessage replay_complete=new RejoinMessage(m_rejoinCoordinatorHsId,Type.REPLAY_FINISHED);
        m_mailbox.send(m_rejoinCoordinatorHsId,replay_complete);
      }
    }
;
    m_replayCompleteAction=new ReplayCompletionAction(snapshotSpHandle,action);
    REJOINLOG.debug(m_whoami + "counting down snapshot monitor completion.");
    m_completionMonitorAwait.countDown();
  }
 else {
    REJOINLOG.debug(m_whoami + " observed completion of irrelevant nonce: " + nonce);
  }
  return null;
}
