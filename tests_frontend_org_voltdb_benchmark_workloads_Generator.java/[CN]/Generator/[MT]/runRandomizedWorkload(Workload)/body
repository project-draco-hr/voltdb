{
  if (!(currWorkload.procs.length == currWorkload.percs.length && currWorkload.percs.length == currWorkload.params.length)) {
    System.err.println("Invalid inputs in xml file for workload \"" + currWorkload.name + "\".");
    return;
  }
  if (currWorkload.procs.length > 0) {
    double[] cumPercArray=new double[currWorkload.percs.length];
    cumPercArray[0]=currWorkload.percs[0];
    for (int i=1; i < currWorkload.percs.length; i++)     cumPercArray[i]=cumPercArray[i - 1] + currWorkload.percs[i];
    if (cumPercArray[cumPercArray.length - 1] != 100.) {
      System.err.println("Invalid inputs in xml file for workload \"" + currWorkload.name + "\".");
      return;
    }
    double randomVal;
    while (true) {
      randomVal=Math.random() * 100;
      int index=0;
      while (randomVal > cumPercArray[index])       index++;
      for (int i=0; i < currWorkload.params[index].length; i++)       setParams(currWorkload,index,i);
      callProc(currWorkload.procs[index],currWorkload.params[index],index);
    }
  }
}
