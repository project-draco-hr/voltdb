{
  if (mb == null)   return false;
  try {
    List<WorkloadType> wlList=mb.getWorkload();
    WorkloadType toBuild=wlList.get(0);
    boolean foundWL=false;
    if (workloadToBuild != null) {
      ListIterator<WorkloadType> wlLI=wlList.listIterator();
      while (wlLI.hasNext()) {
        WorkloadType wl=wlLI.next();
        if (wl.getWlName().equals(workloadToBuild)) {
          toBuild=wl;
          foundWL=true;
          break;
        }
      }
    }
    if (!foundWL) {
      System.err.println("***************************************************************************************************");
      System.err.println("|                                                                                                 |");
      System.err.println("|    Specified workload not found in config file. Defaulting to first workload of config file.    |");
      System.err.println("|                                                                                                 |");
      System.err.println("***************************************************************************************************");
    }
    Workload myWL=new Workload(toBuild.getWlName());
    System.err.println("Building workload " + myWL.name);
    List<ProcedureType> procList=toBuild.getProcedure();
    myWL.procs=new String[procList.size()];
    myWL.percs=new double[procList.size()];
    myWL.paramTypes=new String[procList.size()][];
    myWL.generatorTypes=new GeneratorType[procList.size()][];
    myWL.params=new Object[procList.size()][];
    ListIterator<ProcedureType> procLI=procList.listIterator();
    int procIndex=0;
    while (procLI.hasNext()) {
      ProcedureType proc=procLI.next();
      myWL.procs[procIndex]=proc.getProcName();
      myWL.percs[procIndex]=proc.getPercOfWL().doubleValue();
      List<ParamType> paramList=proc.getParam();
      myWL.paramTypes[procIndex]=new String[paramList.size()];
      myWL.generatorTypes[procIndex]=new GeneratorType[paramList.size()];
      myWL.params[procIndex]=new Object[paramList.size()];
      ListIterator<ParamType> paramLI=paramList.listIterator();
      int paramIndex=0;
      while (paramLI.hasNext()) {
        ParamType param=paramLI.next();
        myWL.paramTypes[procIndex][paramIndex]=param.getType();
        myWL.generatorTypes[procIndex][paramIndex]=param.getValue().getGenerator();
        paramIndex++;
      }
      procIndex++;
    }
    workloads.add(myWL);
    System.err.println("Workload " + myWL.name + " successfully built.");
    return true;
  }
 catch (  Exception e) {
    e.printStackTrace();
    System.err.println("Building failed due to syntax errors in XML file.");
    return false;
  }
}
