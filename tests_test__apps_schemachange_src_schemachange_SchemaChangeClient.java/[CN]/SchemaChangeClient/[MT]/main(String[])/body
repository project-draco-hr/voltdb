{
  VoltDB.setDefaultTimezone();
  config=new SchemaChangeConfig();
  config.parse("SchemaChangeClient",args);
  try {
    deploymentString=readFileAsString(config.pathtodeployment);
  }
 catch (  Exception e) {
    deploymentString="<?xml version=\"1.0\"?><deployment>" + "<cluster hostcount=\"1\" sitesperhost=\"1\" kfactor=\"0\" />" + "<httpd enabled=\"true\"><jsonapi enabled=\"true\" /></httpd></deployment>";
  }
  ClientConfig clientConfig=new ClientConfig();
  clientConfig.setProcedureCallTimeout(30 * 60 * 1000);
  client=ClientFactory.createClient(clientConfig);
  String[] servers=config.servers.split(",");
  for (  String server : servers) {
    server=server.trim();
    client.createConnection(server);
  }
  VoltTable t=catalogChange(null);
  for (int i=0; i < 50; i++) {
    loadTable(t);
    String tableName=TableHelper.getTableName(t);
    VoltTable preT=sample(t);
    t=catalogChange(t);
    if (TableHelper.getTableName(t).equals(tableName)) {
      VoltTable guessT=t.clone(4096 * 1024);
      TableHelper.migrateTable(preT,guessT);
      VoltTable postT=sample(t);
      postT.resetRowPosition();
      preT.resetRowPosition();
      assert(postT.hasSameContents(guessT));
    }
  }
  client.close();
}
