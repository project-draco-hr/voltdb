{
  final ThreadLocalRandom r=ThreadLocalRandom.current();
  if (m_coreBindId != null) {
  }
  try {
    while (m_shouldStop == false) {
      try {
        while (m_shouldStop == false) {
          int readyKeys;
          if (m_networkId == 0) {
            readyKeys=m_selector.select(5);
          }
 else {
            readyKeys=m_selector.select();
          }
          Runnable task=null;
          while ((task=m_tasks.poll()) != null) {
            task.run();
          }
          if (readyKeys > 0) {
            if (m_ninjaSelectedKeys == null) {
              invokeCallbacks(r);
            }
 else {
              optimizedInvokeCallbacks(r);
            }
          }
          task=null;
          while ((task=m_tasks.poll()) != null) {
            task.run();
          }
          if (m_networkId == 0) {
            Long delta=EstTimeUpdater.update(System.currentTimeMillis());
            if (delta != null) {
              m_logger.warn("A VoltDB thread has not run for more than " + delta + " milliseconds. System resource contention could be"+ " impacting VoltDB operations.");
            }
          }
        }
      }
 catch (      Throwable ex) {
        ex.printStackTrace();
        m_logger.error(null,ex);
      }
    }
  }
 catch (  Throwable t) {
    t.printStackTrace();
  }
 finally {
    try {
      p_shutdown();
    }
 catch (    Throwable t) {
      m_logger.error("Error shutting down Volt Network",t);
      t.printStackTrace();
    }
  }
}
