{
  ClusterConfig config=new ClusterConfig(2,6,1);
  Map<Integer,String> topology=Maps.newHashMap();
  topology.put(0,"0");
  topology.put(1,"0");
  JSONObject topo=config.getTopology(topology);
  assertEquals(2,topo.getInt("hostcount"));
  assertEquals(6,topo.getInt("sites_per_host"));
  assertEquals(1,topo.getInt("kfactor"));
  assertEquals(6,topo.getJSONArray("partitions").length());
  ClusterConfig.addHosts(2,topo);
  assertEquals(4,topo.getInt("hostcount"));
  assertEquals(1,topo.getInt("kfactor"));
}
