{
  List<Integer> currentNodes=null;
  try {
    currentNodes=m_hostMessenger.getLiveHostIds();
  }
 catch (  Exception e) {
  }
  Set<Integer> currentHosts=new HashSet<Integer>(currentNodes);
  Set<Integer> previousHosts=readPriorKnownLiveNodes();
  boolean partitionDetectionTriggered=makePPDDecision(previousHosts,currentHosts);
  if (partitionDetectionTriggered && !m_partitionSnapshotRequested) {
    SnapshotUtil.requestSnapshot(0L,m_partSnapshotSchedule.getPath(),m_partSnapshotSchedule.getPrefix(),true,SnapshotFormat.NATIVE,null,m_snapshotHandler,true);
    m_partitionSnapshotRequested=true;
  }
  if (!currentHosts.equals(previousHosts)) {
    writeKnownLiveNodes(currentNodes);
  }
}
