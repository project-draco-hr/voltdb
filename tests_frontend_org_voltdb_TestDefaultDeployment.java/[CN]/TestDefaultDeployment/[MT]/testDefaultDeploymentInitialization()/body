{
  String ddl="CREATE TABLE WAREHOUSE (" + "W_ID INTEGER DEFAULT '0' NOT NULL, " + "W_NAME VARCHAR(16) DEFAULT NULL, "+ "PRIMARY KEY  (W_ID)"+ ");";
  VoltProjectBuilder builder=new VoltProjectBuilder();
  builder.addLiteralSchema(ddl);
  builder.addProcedures(org.voltdb.compiler.procedures.MilestoneOneInsert.class,org.voltdb.compiler.procedures.MilestoneOneSelect.class,org.voltdb.compiler.procedures.MilestoneOneCombined.class);
  assertTrue(builder.compileWithDefaultDeployment("test.jar"));
  final File jar=new File("test.jar");
  jar.deleteOnExit();
  String pathToDeployment=builder.getPathToDeployment();
  assertEquals(pathToDeployment,null);
  ServerThread server=new ServerThread("test.jar",null,BackendTarget.HSQLDB_BACKEND);
  server.start();
  server.waitForInitialization();
  ClientConfig config=new ClientConfig("program","none");
  Client client=ClientFactory.createClient(config);
  client.createConnection("localhost");
  VoltTable[] results=client.callProcedure("MilestoneOneCombined",99L,"TEST").getResults();
  assertTrue(results.length == 1);
  VoltTable result=results[0];
  VoltTableRow row=result.fetchRow(0);
  String resultStr=row.getString(0);
  assertTrue(resultStr.equals("TEST"));
  server.shutdown();
  server.join();
}
