def _TestXmlOutput(self, gtest_prog_name, expected_xml, expected_exit_code, extra_args=None):
    "\n    Asserts that the XML document generated by running the program\n    gtest_prog_name matches expected_xml, a string containing another\n    XML document.  Furthermore, the program's exit code must be\n    expected_exit_code.\n    "
    actual = self._GetXmlOutput(gtest_prog_name, (extra_args or []), expected_exit_code)
    expected = minidom.parseString(expected_xml)
    self.NormalizeXml(actual.documentElement)
    self.AssertEquivalentNodes(expected.documentElement, actual.documentElement)
    expected.unlink()
    actual.unlink()
