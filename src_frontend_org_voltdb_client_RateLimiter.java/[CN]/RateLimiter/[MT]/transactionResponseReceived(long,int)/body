{
  if (m_autoTune) {
synchronized (this) {
      ensureCurrentBlockIsKosher(TimeUnit.NANOSECONDS.toMillis(timestampNanos));
      if (m_outstandingTxns > m_maxOutstandingTxns && m_outstandingTxns - 1 == m_maxOutstandingTxns) {
        this.notify();
      }
      --m_outstandingTxns;
      assert(m_outstandingTxns >= 0);
      if (internalLatency != -1) {
        ++m_currentBlockRecvSuccessCount;
        m_currentBlockTotalInternalLatency+=internalLatency;
      }
    }
  }
 else {
    m_outstandingTxnsSemaphore.release();
  }
}
