{
  mbox=mock(Mailbox.class);
  clerk=mock(SiteTracker.class);
  procs=mock(LoadedProcedureSet.class);
  runner=mock(ProcedureRunner.class);
  when(runner.isSystemProcedure()).thenReturn(false);
  when(procs.getProcByName(MockSPName)).thenReturn(runner);
  if (isMPI) {
    dut=new MpScheduler(clerk);
  }
 else {
    dut=new SpScheduler(clerk);
  }
  dut.setMailbox(mbox);
  dut.setProcedureSet(procs);
  vdbi=mock(VoltDBInterface.class);
  VoltDB.replaceVoltDBInstanceForTest(vdbi);
  when(vdbi.getSiteTracker()).thenReturn(clerk);
}
