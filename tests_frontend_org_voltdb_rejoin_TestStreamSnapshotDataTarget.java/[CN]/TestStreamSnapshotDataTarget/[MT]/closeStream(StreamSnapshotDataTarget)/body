{
  Future<?> closeWork=m_es.submit(new Runnable(){
    @Override public void run(){
      try {
        dut.close();
      }
 catch (      Exception e) {
        e.printStackTrace();
        throw new RuntimeException(e);
      }
    }
  }
);
  while (m_mb.noSentMessages()) {
    Thread.yield();
  }
  verifyData((RejoinDataMessage)m_mb.pollMessage(),dut.m_targetId,StreamSnapshotMessageType.END,0,dut.m_blockIndex - 1);
  ack(true,dut.m_targetId,dut.m_blockIndex - 1);
  closeWork.get();
}
