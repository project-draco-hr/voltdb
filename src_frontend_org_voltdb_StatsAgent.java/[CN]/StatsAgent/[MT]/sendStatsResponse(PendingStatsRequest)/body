{
  byte statusCode=ClientResponse.SUCCESS;
  String statusString=null;
  VoltTable responseTables[]=request.aggregateTables;
  for (int ii=0; ii < responseTables.length; ii++) {
    if (responseTables[ii] == null) {
      responseTables=new VoltTable[0];
      statusCode=ClientResponse.GRACEFUL_FAILURE;
      statusString="Requested statistic \"" + request.selector + "\" is not supported in the current configuration";
      break;
    }
  }
  ClientResponseImpl response=new ClientResponseImpl(statusCode,Byte.MIN_VALUE,null,responseTables,statusString);
  response.setClientHandle(request.clientData);
  ByteBuffer buf=ByteBuffer.allocate(response.getSerializedSize() + 4);
  buf.putInt(buf.capacity() - 4);
  response.flattenToBuffer(buf).flip();
  request.c.writeStream().enqueue(buf);
}
