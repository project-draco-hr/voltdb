{
  m_writeStream.swapAndSerializeQueuedWrites(m_pool);
  m_writeStream.drainTo(m_sc);
  if (m_writeStream.isEmpty()) {
    disableWriteSelection();
    if (m_shouldStop) {
      System.out.println("Finally drained " + m_toString);
      m_sc.close();
      unregistered();
    }
  }
 else {
    enableWriteSelection();
  }
}
