{
  try {
    ZKUtil.addIfMissing(m_zk,VoltZK.sitesPerHost,CreateMode.PERSISTENT,new byte[0]);
  }
 catch (  Exception e) {
    VoltDB.crashLocalVoltDB("Unable to create " + VoltZK.sitesPerHost + " node to Zookeeper, dying",false,e);
  }
  String path=ZKUtil.joinZKPath(VoltZK.sitesPerHost,String.valueOf(m_localHostId));
  try {
    ByteBuffer b=ByteBuffer.allocate(4);
    b.putInt(sitesperhost);
    m_zk.create(path,b.array(),Ids.OPEN_ACL_UNSAFE,CreateMode.PERSISTENT);
  }
 catch (  KeeperException.NodeExistsException e) {
    m_hostLog.info("Zookeeper node " + path + "already exists");
  }
catch (  Exception e) {
    VoltDB.crashLocalVoltDB("Unable to write sitePerHost to ZK, dying",false,e);
  }
}
