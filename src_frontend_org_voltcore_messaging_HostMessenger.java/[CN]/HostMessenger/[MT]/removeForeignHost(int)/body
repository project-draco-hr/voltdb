{
  ForeignHost fh=null;
  while (true) {
    fh=null;
    HashMap<Integer,ForeignHost> original=m_foreignHosts.get();
    HashMap<Integer,ForeignHost> update=new HashMap<Integer,ForeignHost>(original);
    if ((fh=update.remove(hostId)) == null) {
      return;
    }
    if (m_foreignHosts.compareAndSet(original,update)) {
      break;
    }
  }
  if (fh != null) {
    fh.close();
  }
}
