{
  m_localhostReady=true;
  try {
    m_zk.create("/ready_hosts",null,Ids.OPEN_ACL_UNSAFE,CreateMode.PERSISTENT);
  }
 catch (  Exception e) {
  }
  try {
    m_zk.create("/ready_hosts/host",null,Ids.OPEN_ACL_UNSAFE,CreateMode.PERSISTENT_SEQUENTIAL);
    while (true) {
      ZKUtil.FutureWatcher fw=new ZKUtil.FutureWatcher();
      if (m_zk.getChildren("/ready_hosts",fw).size() == expectedHosts) {
        break;
      }
      fw.get();
    }
  }
 catch (  Exception e) {
    VoltDB.crashLocalVoltDB("Error waiting for hosts to be ready",false,e);
  }
}
