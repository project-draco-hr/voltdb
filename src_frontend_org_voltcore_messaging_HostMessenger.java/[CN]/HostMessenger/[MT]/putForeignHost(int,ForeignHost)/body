{
  while (true) {
    HashMap<Integer,ForeignHost> original=m_foreignHosts.get();
    HashMap<Integer,ForeignHost> update=new HashMap<Integer,ForeignHost>(original);
    update.put(hostId,fh);
    if (m_foreignHosts.compareAndSet(original,update)) {
      break;
    }
  }
}
