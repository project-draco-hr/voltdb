{
  try {
    while (true) {
      ZKUtil.FutureWatcher fw=new ZKUtil.FutureWatcher();
      final int numChildren=m_zk.getChildren(CoreZK.hosts,fw).size();
      if (numChildren == expectedHosts) {
        break;
      }
      if (numChildren > expectedHosts) {
        org.voltdb.VoltDB.crashLocalVoltDB("Expected to find " + expectedHosts + " hosts in cluster at startup but found "+ numChildren+ ".  Terminating this host.",false,null);
      }
      fw.get();
    }
  }
 catch (  Exception e) {
    org.voltdb.VoltDB.crashLocalVoltDB("Error waiting for hosts to be ready",false,e);
  }
}
