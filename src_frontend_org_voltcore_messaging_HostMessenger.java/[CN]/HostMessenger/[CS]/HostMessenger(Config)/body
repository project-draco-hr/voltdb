{
  m_config=config;
  m_network=new VoltNetworkPool(m_config.networkThreads,m_config.coreBindIds);
  m_joiner=new SocketJoiner(m_config.coordinatorIp,m_config.internalInterface,m_config.internalPort,this);
  ShutdownHooks.registerShutdownHook(ShutdownHooks.MIDDLE,false,new Runnable(){
    @Override public void run(){
      for (      ForeignHost host : m_foreignHosts.values()) {
        if (host != null) {
          host.close();
        }
      }
      try {
        m_network.shutdown();
      }
 catch (      InterruptedException ie) {
      }
    }
  }
);
}
