{
  if (m_ptool != null) {
    if (m_ptool.perhapsIsHung(60000)) {
      ahpLog.error("Out-of-process planner unresponsive.");
      if (!m_ptool.expensiveIsRunningCheck()) {
        int exit_code=m_ptool.getExitValue();
        ahpLog.error("  Out-of-process planner died with exit code: " + exit_code);
      }
 else {
        ahpLog.error("  Out-of-process planner appears to have hung.  Killing it off.");
        ahpLog.error("  Last attempted to plan SQL: " + m_ptool.getLastSql());
      }
      m_ptool.kill();
      m_ptool=null;
    }
  }
}
