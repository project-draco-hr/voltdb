{
switch (set.size()) {
case 0:
    return ImmutableSet.of();
case 1:
  return ImmutableSet.of(Iterables.getOnlyElement(set));
default :
return new ImmutableEnumSet(set);
}
}
