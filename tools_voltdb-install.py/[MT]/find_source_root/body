def find_source_root(path):
    'Find the root directory of the source tree containing a specified path.'
    if os.path.isdir(path):
        dir = path
    else:
        dir = os.path.dirname(path)
    while (dir != '/'):
        if (os.path.exists(os.path.join(dir, 'build.xml')) and os.path.exists(os.path.join(dir, 'third_party'))):
            return dir
        dir = os.path.dirname(dir)
    abort(('Source root directory not found for "%s".\n' % path))
