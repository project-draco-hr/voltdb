{
  int bytesReleased=0;
  m_isShutdown=true;
  BBContainer c=null;
  while ((c=m_queuedBuffers.poll()) != null) {
    bytesReleased+=c.b.remaining();
    c.discard();
  }
  updateQueued(-bytesReleased,false);
  DeferredSerialization ds=null;
  while ((ds=m_queuedWrites.poll()) != null) {
    ds.cancel();
  }
}
