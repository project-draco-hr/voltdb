{
  AbstractExpression leftChild=expr.getLeft();
  if (leftChild != null) {
    expr.setLeft(wrapScalarSubqueriesHelper(expr,leftChild));
  }
  AbstractExpression rightChild=expr.getRight();
  if (rightChild != null) {
    expr.setRight(wrapScalarSubqueriesHelper(expr,rightChild));
  }
  if (expr instanceof SelectSubqueryExpression && subqueryRequiresScalarValueExpressionFromContext(parentExpr)) {
    expr=addScalarValueExpression((SelectSubqueryExpression)expr);
  }
  return expr;
}
