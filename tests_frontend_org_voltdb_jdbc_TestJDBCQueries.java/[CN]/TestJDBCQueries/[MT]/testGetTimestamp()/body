{
  PreparedStatement ins=conn.prepareStatement("insert into T_TIMESTAMP values (?, ?)");
  Timestamp ts=Timestamp.valueOf("2014-03-23 05:12:08.156000");
  ins.setTimestamp(1,ts);
  ins.setString(2,"badinput");
  ins.executeUpdate();
  PreparedStatement ps=conn.prepareStatement("select ID from T_TIMESTAMP where VALUE='badinput'");
  ps.executeQuery();
  ResultSet rs=ps.getResultSet();
  while (rs.next()) {
    assertEquals(ts,rs.getTimestamp(1));
    assertEquals(new Date(ts.getTime()),rs.getDate(1));
    assertEquals(new Time(ts.getTime()),rs.getTime(1));
  }
  ts=new Timestamp(System.currentTimeMillis());
  ins.setTimestamp(1,ts);
  ins.setString(2,"timestamp");
  ins.executeUpdate();
  ps=conn.prepareStatement("select ID from T_TIMESTAMP where VALUE='timestamp'");
  ps.executeQuery();
  rs=ps.getResultSet();
  while (rs.next()) {
    assertEquals(ts,rs.getTimestamp(1));
    assertEquals(new Date(ts.getTime()),rs.getDate(1));
    assertEquals(new Time(ts.getTime()),rs.getTime(1));
  }
  ins.setTimestamp(1,null);
  ins.setString(2,"crashy");
  ins.executeUpdate();
  ps=conn.prepareStatement("select ID from T_TIMESTAMP where VALUE='crashy'");
  ps.executeQuery();
  rs=ps.getResultSet();
  while (rs.next()) {
    assertEquals(null,rs.getTimestamp(1));
    assertEquals(null,rs.getDate(1));
    assertEquals(null,rs.getTime(1));
  }
}
