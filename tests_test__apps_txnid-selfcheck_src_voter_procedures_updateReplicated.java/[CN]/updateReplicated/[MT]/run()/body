{
  long txnId=this.getTransactionId();
  voltQueueSQL(selectStmt);
  voltQueueSQL(deleteStmt,EXPECT_SCALAR_LONG);
  VoltTable[] previousResults=voltExecuteSQL();
  if (txnId % 10 < 1) {
    setAppStatusCode((byte)AbortStatus.NORMAL.ordinal());
    throw new VoltAbortException("Normal abort");
  }
  if (previousResults[0].asScalarLong() >= txnId) {
    setAppStatusCode((byte)AbortStatus.OUT_OF_ORDER.ordinal());
    throw new VoltAbortException("updateReplicated executed out of order");
  }
  voltQueueSQL(insertStmt,EXPECT_SCALAR_MATCH(1),txnId);
  voltQueueSQL(selectStmt);
  VoltTable[] results=voltExecuteSQL(true);
  return results[results.length - 1];
}
