{
  if (!m_done) {
    m_site.beginNewTxn(this);
    if (m_notice instanceof InitiateTaskMessage) {
      InitiateTaskMessage task=(InitiateTaskMessage)m_notice;
      InitiateResponseMessage response=m_site.processInitiateTask(this,task);
      if (response.shouldCommit() == false) {
        m_needsRollback=true;
      }
    }
 else     if (m_notice instanceof FragmentTaskLogMessage) {
      FragmentTaskLogMessage taskLog=(FragmentTaskLogMessage)m_notice;
      for (      FragmentTaskMessage ftask : taskLog.getFragmentTasks()) {
        FragmentResponseMessage response=m_site.processFragmentTask(this,null,ftask);
        assert(response.getStatusCode() == FragmentResponseMessage.SUCCESS);
      }
    }
 else {
      assert(false);
    }
    m_done=true;
  }
  return m_done;
}
