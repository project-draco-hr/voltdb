{
  _revision=revision;
  if (_value == null) {
    _value=value.isImmutable() ? value : new View(value);
    _numValue=numValue;
    _stringValue=null;
  }
 else   if (value.isImmutable()) {
    _value=value;
    _numValue=numValue;
    _stringValue=null;
  }
 else {
    if (_value instanceof View)     ((View)_value).update(value);
 else     _value=new View(value);
    _numValue=numValue;
    if (_stringValue != null) {
      if (_stringValue.length() != value.length())       _stringValue=null;
 else {
        for (int i=value.length(); i-- > 0; ) {
          if (value.peek(value.getIndex() + i) != _stringValue.charAt(i)) {
            _stringValue=null;
            break;
          }
        }
      }
    }
  }
}
