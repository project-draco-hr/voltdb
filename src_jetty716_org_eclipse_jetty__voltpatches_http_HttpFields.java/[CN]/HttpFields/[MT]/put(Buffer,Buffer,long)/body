{
  if (value == null) {
    remove(name);
    return;
  }
  if (!(name instanceof BufferCache.CachedBuffer))   name=HttpHeaders.CACHE.lookup(name);
  Field field=_bufferMap.get(name);
  if (field != null) {
    field.reset(value,numValue,_revision);
    field=field._next;
    while (field != null) {
      field.clear();
      field=field._next;
    }
  }
 else {
    field=new Field(name,value,numValue,_revision);
    _fields.add(field);
    _bufferMap.put(field.getNameBuffer(),field);
  }
}
