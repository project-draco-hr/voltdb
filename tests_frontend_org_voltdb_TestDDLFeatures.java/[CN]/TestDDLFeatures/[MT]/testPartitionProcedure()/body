{
  VoltProjectBuilder builder=new VoltProjectBuilder();
  String schema="CREATE TABLE T26 (age BIGINT NOT NULL, gender TINYINT);" + "CREATE PROCEDURE proc AS SELECT COUNT(*) FROM T26 WHERE age = ?;" + "PARTITION TABLE T26 ON COLUMN age;"+ "PARTITION PROCEDURE proc ON TABLE T26 COLUMN age PARAMETER 0;";
  builder.addLiteralSchema(schema);
  boolean success=builder.compile(pathToCatalog);
  assertTrue(success);
  MiscUtils.copyFile(builder.getPathToDeployment(),pathToDeployment);
  VoltDB.Configuration config=new VoltDB.Configuration();
  config.m_pathToCatalog=pathToCatalog;
  config.m_pathToDeployment=pathToDeployment;
  startSystem(config);
  assertTrue(findProcedureInSystemCatalog("proc"));
  assertTrue(isColumnPartitionColumn("T26","age"));
  ClientResponse resp;
  VoltTable vt;
  resp=m_client.callProcedure("proc",18);
  vt=resp.getResults()[0];
  vt.advanceToRow(0);
  assertEquals(vt.get(0,VoltType.BIGINT),0l);
  m_client.callProcedure("T26.insert",18,1);
  resp=m_client.callProcedure("proc",18);
  vt=resp.getResults()[0];
  vt.advanceToRow(0);
  assertEquals(vt.get(0,VoltType.BIGINT),1l);
  teardownSystem();
}
