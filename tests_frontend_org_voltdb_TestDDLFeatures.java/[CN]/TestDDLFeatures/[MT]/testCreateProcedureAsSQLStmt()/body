{
  VoltProjectBuilder builder=new VoltProjectBuilder();
  String schema="CREATE TABLE User (age INTEGER, name VARCHAR(20));" + "CREATE ROLE admin WITH sysproc, adhoc;" + "CREATE PROCEDURE p1 ALLOW admin AS SELECT COUNT(*), name FROM User WHERE age = ? GROUP BY name;"+ "CREATE PROCEDURE p2 ALLOW admin AS INSERT INTO User VALUES (?, ?);";
  builder.addLiteralSchema(schema);
  boolean success=builder.compile(pathToCatalog);
  assertTrue(success);
  MiscUtils.copyFile(builder.getPathToDeployment(),pathToDeployment);
  VoltDB.Configuration config=new VoltDB.Configuration();
  config.m_pathToCatalog=pathToCatalog;
  config.m_pathToDeployment=pathToDeployment;
  startSystem(config);
  assertTrue(findTableInSystemCatalogResults("User"));
  ClientResponse p1Result, p2Result;
  VoltTable vt1, vt2;
  p1Result=m_client.callProcedure("p1","18");
  vt1=p1Result.getResults()[0];
  assertEquals(vt1.m_rowCount,0);
  p2Result=m_client.callProcedure("p2",18,"Kevin Durant");
  vt2=p2Result.getResults()[0];
  assertEquals(vt2.m_rowCount,1);
  p1Result=m_client.callProcedure("p1","18");
  vt1=p1Result.getResults()[0];
  vt1.advanceToRow(0);
  assertEquals(vt1.m_rowCount,1);
  assertEquals(vt1.getLong(0),1);
  assertEquals(vt1.getString("NAME"),"Kevin Durant");
  teardownSystem();
}
