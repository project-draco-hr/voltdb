{
  try {
    JoinHandler jh1=mock(JoinHandler.class);
    SocketJoiner joiner1=new SocketJoiner(new InetSocketAddress("127.0.0.1",3212),"",3212,null,jh1);
    JoinHandler jh2=mock(JoinHandler.class);
    SocketJoiner joiner2=new SocketJoiner(new InetSocketAddress("127.0.0.1",3212),"",3213,null,jh2);
    JoinHandler jh3=mock(JoinHandler.class);
    SocketJoiner joiner3=new SocketJoiner(new InetSocketAddress("127.0.0.1",3212),"",3214,null,jh3);
    CountDownLatch cdl=new CountDownLatch(1);
    joiner1.start(cdl);
    joiner2.start(null);
    verify(jh1,never()).requestJoin(any(SocketChannel.class),any(InetSocketAddress.class));
    verify(jh1).requestJoin(isNotNull(SocketChannel.class),eq(new InetSocketAddress("127.0.0.1",3213)));
    joiner3.start(null);
    cdl.countDown();
    jh1.joiner1.shutdown();
    joiner2.shutdown();
    joiner3.shutdown();
    assertTrue(true);
    return;
  }
 catch (  InterruptedException e) {
    e.printStackTrace();
  }
  assertTrue(false);
}
