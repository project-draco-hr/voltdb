{
  VoltServerConfig config=null;
  MultiConfigSuiteBuilder builder=new MultiConfigSuiteBuilder(TestSQLFeaturesSuite.class);
  VoltProjectBuilder project=new VoltProjectBuilder();
  project.addSchema(BatchedMultiPartitionTest.class.getResource("sqlfeatures-ddl.sql"));
  project.addPartitionInfo("NEW_ORDER","NO_W_ID");
  project.addPartitionInfo("ORDER_LINE","OL_W_ID");
  project.addPartitionInfo("FIVEK_STRING","P");
  project.addPartitionInfo("FIVEK_STRING_WITH_INDEX","ID");
  project.addPartitionInfo("WIDE","P");
  project.addPartitionInfo("MANY_COLUMNS","P");
  project.addProcedures(PROCEDURES);
  project.addStmtProcedure("SelectRightOrder","SELECT * FROM WIDE, T1, T2 WHERE T2.ID = T1.ID",null,"T1,T2,WIDE");
  project.addStmtProcedure("SelectWrongOrder","SELECT * FROM WIDE, T1, T2 WHERE T2.ID = T1.ID",null,"WIDE,T1,T2");
  boolean success;
  config=new LocalCluster("sqlfeatures-onesite.jar",1,1,0,BackendTarget.NATIVE_EE_JNI);
  success=config.compile(project);
  assert(success);
  builder.addServerConfig(config);
  config=new LocalCluster("sqlfeatures-hsql.jar",1,1,0,BackendTarget.HSQLDB_BACKEND);
  success=config.compile(project);
  assert(success);
  builder.addServerConfig(config);
  config=new LocalCluster("sqlfeatures-cluster-rejoin.jar",2,3,1,BackendTarget.NATIVE_EE_JNI);
  success=config.compile(project);
  assert(success);
  builder.addServerConfig(config);
  return builder;
}
