{
  CompleteTransactionMessage complete=new CompleteTransactionMessage(m_initiator.getHSId(),m_initiator.getHSId(),m_txn.txnId,m_txn.isReadOnly(),m_txn.getHash(),m_txn.needsRollback(),false,false,m_msg.isForReplay());
  log.info("Created CompleteTransactionMessage with hash: " + String.valueOf(m_txn.getHash()));
  complete.setTruncationHandle(m_msg.getTruncationHandle());
  complete.setOriginalTxnId(m_msg.getOriginalTxnId());
  m_initiator.send(com.google.common.primitives.Longs.toArray(m_initiatorHSIds),complete);
  m_txn.setDone();
  m_queue.flush();
}
