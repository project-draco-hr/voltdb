{
  m_lastRequestTime=System.currentTimeMillis();
  while (true) {
    boolean bp=false;
    try {
      m_voltClient.backpressureBarrier();
    }
 catch (    InterruptedException e1) {
      throw new RuntimeException();
    }
    final long now=System.currentTimeMillis();
    final long delta=now - m_lastRequestTime;
    if (delta > 0) {
      final int transactionsToCreate=(int)(delta * m_txnsPerMillisecond);
      if (transactionsToCreate < 1) {
        Thread.yield();
        continue;
      }
      for (int ii=0; ii < transactionsToCreate; ii++) {
        try {
          bp=!runOnce();
          if (bp) {
            m_lastRequestTime=now;
            break;
          }
        }
 catch (        final IOException e) {
          return;
        }
      }
    }
 else {
      Thread.yield();
    }
    m_lastRequestTime=now;
  }
}
