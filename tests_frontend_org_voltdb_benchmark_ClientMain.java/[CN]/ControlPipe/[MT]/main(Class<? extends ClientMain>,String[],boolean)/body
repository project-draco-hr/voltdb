{
  try {
    final Constructor<? extends ClientMain> constructor=clientClass.getConstructor(new Class<?>[]{new String[0].getClass()});
    final ClientMain clientMain=constructor.newInstance(new Object[]{args});
    if (startImmediately) {
      final ControlWorker worker=clientMain.new ControlWorker();
      worker.start();
      worker.join();
    }
 else {
      clientMain.start();
    }
  }
 catch (  final Exception e) {
    e.printStackTrace();
    System.exit(-1);
  }
}
