{
  Enumeration enm=_connection.getRequestFields().getValues(HttpHeaders.ACCEPT_LANGUAGE,HttpFields.__separators);
  if (enm == null || !enm.hasMoreElements())   return Locale.getDefault();
  List acceptLanguage=HttpFields.qualityList(enm);
  if (acceptLanguage.size() == 0)   return Locale.getDefault();
  int size=acceptLanguage.size();
  if (size > 0) {
    String language=(String)acceptLanguage.get(0);
    language=HttpFields.valueParameters(language,null);
    String country="";
    int dash=language.indexOf('-');
    if (dash > -1) {
      country=language.substring(dash + 1).trim();
      language=language.substring(0,dash).trim();
    }
    return new Locale(language,country);
  }
  return Locale.getDefault();
}
