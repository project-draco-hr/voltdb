{
  StringBuilder url=new StringBuilder(48);
  String scheme=getScheme();
  int port=getServerPort();
  url.append(scheme);
  url.append("://");
  url.append(getServerName());
  if (port > 0 && ((scheme.equalsIgnoreCase("http") && port != 80) || (scheme.equalsIgnoreCase("https") && port != 443))) {
    url.append(':');
    url.append(port);
  }
  return url;
}
