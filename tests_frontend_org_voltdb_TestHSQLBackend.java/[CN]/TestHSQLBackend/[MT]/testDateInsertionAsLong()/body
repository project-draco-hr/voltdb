{
  TPCCProjectBuilder builder=new TPCCProjectBuilder();
  builder.addDefaultSchema();
  builder.addDefaultPartitioning();
  System.out.println("\n\n\n STARTING STMT PROC ADD\n\n\n");
  builder.addStmtProcedure("InsertHistory","INSERT INTO HISTORY VALUES (?, ?, ?, ?, ?, ?, ?, ?);","HISTORY.H_W_ID: 4");
  String testDir=BuildDirectoryUtils.getBuildDirectoryPath();
  String catalogJar=testDir + File.separator + "tpcchsql.jar";
  builder.compile(catalogJar,1,1,0,"localhost");
  String pathToDeployment=builder.getPathToDeployment();
  ServerThread server=new ServerThread(catalogJar,pathToDeployment,BackendTarget.HSQLDB_BACKEND);
  server.start();
  server.waitForInitialization();
  ClientConfig clientConfig=new ClientConfig("program","none");
  Client client=ClientFactory.createClient(clientConfig);
  client.createConnection("localhost");
  VoltTable[] results=client.callProcedure("InsertHistory",5,5,5,5,5,100000L,2.5,"nada").getResults();
  assertTrue(results.length > 0);
  assertTrue(results[0].getRowCount() == 1);
  server.shutdown();
  server.join();
}
