{
  FastSerializer fs=new FastSerializer();
  try {
    fs.writeObject(m_response);
  }
 catch (  IOException e) {
    e.printStackTrace();
    assert(false);
  }
  ByteBuffer responseBytes=fs.getBuffer();
  int msgsize=8 + 4 + 4+ 4+ 4+ 1+ 8+ responseBytes.remaining();
  if (m_buffer == null) {
    m_container=pool.acquire(msgsize + 1 + HEADER_SIZE);
    m_buffer=m_container.b;
  }
  setBufferSize(msgsize + 1,pool);
  m_buffer.position(HEADER_SIZE);
  m_buffer.put(INITIATE_RESPONSE_ID);
  m_buffer.putLong(m_txnId);
  m_buffer.putLong(m_lastReceivedTxnId);
  m_buffer.putInt(m_initiatorSiteId);
  m_buffer.putInt(m_coordinatorSiteId);
  m_buffer.put((byte)(m_recovering == true ? 1 : 0));
  m_buffer.put(responseBytes);
  m_buffer.limit(m_buffer.position());
}
