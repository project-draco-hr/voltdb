{
  setUpSites(2,2,1);
  int multi_dep=5 | DtxnConstants.MULTIPARTITION_DEPENDENCY;
  WorkUnit w=new WorkUnit(work,new int[]{4,multi_dep},false);
  assertFalse(w.allDependenciesSatisfied());
  assertEquals(w.getDependency(4).size(),0);
  assertEquals(w.getDependency(5).size(),0);
  w.putDependency(4,0,t1);
  assertFalse(w.allDependenciesSatisfied());
  w.putDependency(multi_dep,0,t2);
  assertFalse(w.allDependenciesSatisfied());
  w.putDependency(multi_dep,1,t2);
  assertTrue(w.allDependenciesSatisfied());
  assertEquals(1,w.getDependency(4).size());
  assertEquals(t1,w.getDependency(4).get(0));
  assertEquals(1,w.getDependency(multi_dep).size());
  assertEquals(t2,w.getDependency(multi_dep).get(0));
}
