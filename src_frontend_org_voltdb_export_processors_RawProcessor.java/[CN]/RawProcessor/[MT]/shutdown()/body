{
  m_shouldContinue.set(false);
  if (m_thread != null) {
    if (m_thread != Thread.currentThread()) {
      m_thread.interrupt();
      try {
        m_thread.join();
      }
 catch (      InterruptedException e) {
        m_logger.error("Interruption not expected",e);
      }
    }
  }
  if (m_currentConnection != null) {
    m_currentConnection.unregister();
  }
}
