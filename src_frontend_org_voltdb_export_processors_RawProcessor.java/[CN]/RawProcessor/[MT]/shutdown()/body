{
  m_logger.trace("Shutting down old processor");
  m_shouldContinue.set(false);
  if (m_thread != null) {
    if (m_thread != Thread.currentThread()) {
      m_thread.interrupt();
      try {
        m_thread.join();
      }
 catch (      InterruptedException e) {
        m_logger.error("Interruption not expected",e);
      }
    }
 else {
      m_logger.trace("Current thread calling shutdown is processor thread");
    }
  }
  for (  Connection c : m_knownConnections) {
    c.unregister();
  }
}
