{
  final int batchSize=batch.size();
  Object[] params=new Object[batchSize];
  long[] fragmentIds=new long[batchSize];
  int i=0;
  for (  final QueuedSQL qs : batch) {
    assert(qs.stmt.collector == null);
    fragmentIds[i]=qs.stmt.aggregator.id;
    if (qs.serialization != null) {
      params[i]=qs.serialization;
    }
 else {
      params[i]=qs.params;
    }
    i++;
  }
  return m_site.executePlanFragments(batchSize,fragmentIds,null,params,m_txnState.m_spHandle,m_txnState.uniqueId,m_catProc.getReadonly(),m_rProcContext);
}
