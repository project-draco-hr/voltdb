{
  VoltType argType=VoltType.INVALID;
  boolean isArray=false;
  if (argClass.isArray() && expectedType != VoltType.VARBINARY) {
    argType=VoltType.typeFromClass(argClass.getComponentType());
    isArray=true;
  }
 else {
    if (argClass.isArray() && (argClass.getComponentType().isArray() || argClass != byte[].class)) {
      assert(expectedType == VoltType.VARBINARY);
      argClass=argClass.getComponentType();
      isArray=true;
    }
    argType=VoltType.typeFromClass(argClass);
  }
  if (!VoltTypeUtil.implicitTypeConvFeasible(argType,expectedType,isArray)) {
    if (isArray && argType == VoltType.TINYINT) {
      argType=VoltType.VARBINARY;
    }
    throw new VoltTypeException("Procedure " + m_procedureName + ": Incompatible parameter type: can not convert type '"+ argType.getName()+ "' to '"+ expectedType.getName()+ "' for arg "+ argInd+ " for SQL stmt: "+ stmt.getText()+ "."+ " Try explicitly using a "+ expectedType.getName()+ " parameter.");
  }
}
