{
  m_batchSize=batchSize;
  m_txnState=txnState;
  m_depsToResume=new int[batchSize];
  m_depsForLocalTask=new int[batchSize];
  m_results=new VoltTable[batchSize];
  m_localTask=new FragmentTaskMessage(m_txnState.initiatorHSId,siteId,m_txnState.txnId,m_txnState.timestamp,m_txnState.isReadOnly(),false,txnState.isForReplay());
  m_distributedTask=new FragmentTaskMessage(m_txnState.initiatorHSId,siteId,m_txnState.txnId,m_txnState.timestamp,m_txnState.isReadOnly(),finalTask,txnState.isForReplay());
  if (!txnState.isForReplay() && VoltDB.instance().isIV2Enabled() && !m_txnState.isReadOnly()&& !runner.m_haveSentFirstFragment) {
    runner.m_haveSentFirstFragment=true;
    m_distributedTask.setInitiateTask((Iv2InitiateTaskMessage)m_txnState.getNotice());
  }
}
