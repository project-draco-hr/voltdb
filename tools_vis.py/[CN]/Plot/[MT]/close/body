def close(self):
    formatter = matplotlib.dates.DateFormatter('%b %d %y')
    self.ax.xaxis.set_major_formatter(formatter)
    locator = matplotlib.dates.DayLocator(interval=7)
    self.ax.xaxis.set_major_locator(locator)
    minlocator = matplotlib.dates.DayLocator(interval=1)
    self.ax.xaxis.set_minor_locator(minlocator)
    (ymin, ymax) = plt.ylim()
    plt.ylim(((ymin - ((ymax - ymin) * 0.1)), (ymax + ((ymax - ymin) * 0.1))))
    xmax = datetime.datetime.today().toordinal()
    plt.xlim(((xmax - self.ndays), xmax))
    plt.legend(prop={'size': 10, }, loc=0)
    plt.savefig(self.filename, format='png', transparent=False, bbox_inches='tight', pad_inches=0.2)
