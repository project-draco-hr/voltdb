def generate_index_file(filenames):
    row = '\n      <tr>\n        <td>%s on %s</td>\n        <td><a href="%s"><img src="%s" width="400" height="200"/></a></td>\n        <td><a href="%s"><img src="%s" width="400" height="200"/></a></td>\n        <td><a href="%s"><img src="%s" width="400" height="200"/></a></td>\n      </tr>\n'
    sep = '\n     </table>\n     <hr>\n     <table>\n'
    full_content = '\n<html>\n  <head>\n    <title>Performance Graphs</title>\n  </head>\n  <body>\n    <table>\n%s\n    </table>\n  </body>\n</html>\n'
    rows = []
    last_app = None
    for i in filenames:
        if (i[0] != last_app):
            rows.append(sep)
            last_app = i[0]
        rows.append((row % (i[0], i[4], i[1], i[1], i[2], i[2], i[3], i[3])))
    return (full_content % ''.join(rows))
