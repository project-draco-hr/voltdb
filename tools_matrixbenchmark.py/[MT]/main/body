def main():
    hostpool = LocalPool()
    signal.signal(signal.SIGINT, signalHandler)
    try:
        hostcounts = [1, 2, 5]
        clientcounts = [1, 2]
        processesperclients = [1, 2, 6]
        sitesperhosts = [9, 12]
        drivers = ['org.voltdb.benchmark.tpcc.TPCCClient', 'org.voltdb.benchmark.overhead.OverheadClient']
        cmds = []
        for hostcount in hostcounts:
            for clientcount in clientcounts:
                for processesperclient in processesperclients:
                    for sitesperhost in sitesperhosts:
                        for driver in drivers:
                            cmd = getBenchmarkBaseCommand(hostpool, hostcount, clientcount, processesperclient, sitesperhost, driver)
                            for postfix in getCommandLineOptsForDriver(driver, hostcount, sitesperhost):
                                cmds += [(cmd + postfix)]
        print ('Running %d benchmarks...\n' % len(cmds))
        for i in range(len(cmds)):
            print ('Running: \n%s' % cmds[i])
            os.system(cmds[i])
            print ('Finished %d / %d' % (i, len(cmds)))
    finally:
        hostpool.cleanup()
