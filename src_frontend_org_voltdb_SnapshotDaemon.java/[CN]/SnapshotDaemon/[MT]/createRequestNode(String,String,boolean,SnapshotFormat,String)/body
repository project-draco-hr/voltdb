{
  String requestId=null;
  try {
    final JSONObject jsObj=new JSONObject();
    jsObj.put("path",path);
    jsObj.put("nonce",nonce);
    jsObj.put("block",blocking);
    jsObj.put("format",format.toString());
    requestId=java.util.UUID.randomUUID().toString();
    jsObj.put("requestId",requestId);
    jsObj.putOpt("data",data);
    String zkString=jsObj.toString(4);
    byte zkBytes[]=zkString.getBytes("UTF-8");
    m_zk.create(VoltZK.user_snapshot_request,zkBytes,Ids.OPEN_ACL_UNSAFE,CreateMode.PERSISTENT);
  }
 catch (  KeeperException.NodeExistsException e) {
    return null;
  }
catch (  Exception e) {
    VoltDB.crashLocalVoltDB("Exception while attempting to create user snapshot request in ZK",true,e);
  }
  return requestId;
}
