{
  m_initiator=initiator;
  m_zk=zk;
  try {
    zk.create(VoltZK.nodes_currently_snapshotting,null,Ids.OPEN_ACL_UNSAFE,CreateMode.PERSISTENT);
  }
 catch (  Exception e) {
  }
  try {
    zk.create(VoltZK.completed_snapshots,null,Ids.OPEN_ACL_UNSAFE,CreateMode.PERSISTENT);
  }
 catch (  Exception e) {
  }
  if (threadLocalInit != null) {
    m_es.execute(threadLocalInit);
  }
  m_es.execute(new Runnable(){
    @Override public void run(){
      leaderElection();
    }
  }
);
}
