{
  try {
    message=VoltMessage.createMessageFromBuffer(message.getBufferForMessaging(new DBBPool(true,false)).b,true);
  }
 catch (  IOException e) {
    e.printStackTrace();
  }
  assertTrue(mailboxId == VoltDB.AGREEMENT_MAILBOX_ID);
  try {
    Mailbox mailbox=m_mailboxes.get(siteId);
    if (mailbox != null) {
      m_mailboxes.get(siteId).deliver(VoltMessage.createMessageFromBuffer(message.getBufferForMessaging(new DBBPool(true,false)).b,true));
    }
  }
 catch (  IOException e) {
    throw new MessagingException(e);
  }
}
