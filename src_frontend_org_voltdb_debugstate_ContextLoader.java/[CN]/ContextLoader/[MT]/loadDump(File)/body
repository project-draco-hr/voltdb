{
  assert(dump.isDirectory());
  int foundfiles=0;
  for (  File contextFile : dump.listFiles()) {
    if (contextFile.getName().endsWith(".voltdump") == false)     continue;
    foundfiles++;
    inFiles.add(contextFile);
  }
  LoaderThread[] loaderpool=new LoaderThread[8];
  for (int i=0; i < 8; i++) {
    loaderpool[i]=new LoaderThread();
    loaderpool[i].start();
  }
  for (  LoaderThread loader : loaderpool)   try {
    loader.join();
  }
 catch (  InterruptedException e) {
    e.printStackTrace();
  }
  if (contexts.size() == 0) {
    System.err.println("No loadable dumpcontexts found. Exiting.");
    System.exit(-1);
  }
  System.out.printf("Loaded %d/%d dumps inside dump folder.\n",contexts.size(),foundfiles);
  VoltThreadContext[] retval=new VoltThreadContext[contexts.size()];
  for (int i=0; i < contexts.size(); i++)   retval[i]=contexts.get(i);
  return retval;
}
