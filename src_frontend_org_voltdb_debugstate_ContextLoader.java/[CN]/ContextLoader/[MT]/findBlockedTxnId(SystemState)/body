{
  long retval=0;
  long activeTxnId=0;
  for (  ExecutorContext ec : state.executors) {
    ExecutorTxnState ets=ec.activeTransaction;
    if (ets != null) {
      assert((activeTxnId == 0) || (activeTxnId == ets.txnId));
      if (ets.workUnits != null) {
        for (        WorkUnitState wus : ets.workUnits) {
          if (wus.outstandingDependencyCount > 0) {
            assert(retval == 0);
            retval=ets.txnId;
          }
        }
      }
    }
  }
  return retval;
}
