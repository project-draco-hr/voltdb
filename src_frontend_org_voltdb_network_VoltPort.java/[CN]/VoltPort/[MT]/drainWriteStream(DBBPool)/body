{
  final BBContainer results[]=m_writeStream.swapAndSerializeQueuedWrites(pool);
synchronized (m_writeStream) {
    if (!m_writeStream.isEmpty() || results != null) {
      m_writeStream.drainTo(m_channel,results);
    }
    if (m_writeStream.isEmpty()) {
      disableWriteSelection();
      if (m_isShuttingDown) {
        m_channel.close();
        unregistered();
      }
    }
  }
}
