{
  String path=context.cluster.getVoltroot() + File.separator + "snapshots";
  ClientConfig clientConfig=new ClientConfig();
  Client client=ClientFactory.createClient(clientConfig);
  ClientResponse response=null;
  try {
    client.createConnection("localhost");
    try {
      response=client.callProcedure("@SnapshotSave",path,nonce,1);
    }
 catch (    ProcCallException e) {
      fail(e.getMessage());
    }
  }
  finally {
    client.close();
  }
  assertEquals(ClientResponse.SUCCESS,response.getStatus());
  assertEquals(1,response.getResults().length);
  assertTrue(response.getResults()[0].advanceRow());
  assertEquals("SUCCESS",response.getResults()[0].getString("RESULT"));
}
