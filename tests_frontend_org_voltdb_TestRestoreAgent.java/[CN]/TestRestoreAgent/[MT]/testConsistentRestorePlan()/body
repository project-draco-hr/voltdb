{
  List<SnapshotInfo> infos=new ArrayList<SnapshotInfo>();
  InstanceId id=new InstanceId(0,0);
  SnapshotInfo info1=new SnapshotInfo(0,"blah","nonce",3,0,0,id);
  SnapshotInfo info2=new SnapshotInfo(0,"blah","nonce",3,0,1,id);
  infos.add(info1);
  infos.add(info2);
  SnapshotInfo pickedInfo=RestoreAgent.consolidateSnapshotInfos(infos);
  assertNotNull(pickedInfo);
  assertEquals(0,pickedInfo.hostId);
  infos.clear();
  infos.add(info2);
  infos.add(info1);
  pickedInfo=RestoreAgent.consolidateSnapshotInfos(infos);
  assertNotNull(pickedInfo);
  assertEquals(0,pickedInfo.hostId);
}
