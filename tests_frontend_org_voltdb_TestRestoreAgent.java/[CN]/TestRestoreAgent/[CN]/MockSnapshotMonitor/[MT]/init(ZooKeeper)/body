{
  try {
    Watcher watcher=new Watcher(){
      @Override public void process(      WatchedEvent event){
        try {
          List<String> children=zk.getChildren("/",this);
          for (          String s : children) {
            if (s.equals("request_truncation_snapshot")) {
              snapshotted=true;
              LinkedList<SnapshotCompletionInterest> interests=new LinkedList<SnapshotCompletionInterest>(m_interests);
              for (              SnapshotCompletionInterest i : interests) {
                i.snapshotCompleted(0,true);
              }
              break;
            }
          }
        }
 catch (        Exception e) {
          e.printStackTrace();
        }
      }
    }
;
    zk.getChildren("/",watcher);
  }
 catch (  Exception e) {
    e.printStackTrace();
  }
}
