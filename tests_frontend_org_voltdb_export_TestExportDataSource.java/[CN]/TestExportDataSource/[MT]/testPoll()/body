{
  MockHostMessenger hm=new MockHostMessenger();
  m_mockVoltDB.setHostMessenger(hm);
  VoltDB.replaceVoltDBInstanceForTest(m_mockVoltDB);
  Table table=m_mockVoltDB.getCatalogContext().database.getTables().get("TableName");
  ExportDataSource s=new ExportDataSource("database",table.getTypeName(),table.getIsreplicated(),m_part,m_site,table.getRelativeIndex(),table.getColumns());
  ExportProtoMessage m=new ExportProtoMessage(m_part,table.getRelativeIndex());
  RawProcessor.ExportInternalMessage pair=new RawProcessor.ExportInternalMessage(null,m);
  s.exportAction(pair);
  assertEquals(m_site,hm.siteId);
  assertEquals(0,hm.mailboxId);
  assertTrue(hm.msg instanceof RawProcessor.ExportInternalMessage);
  assertEquals(pair,hm.msg);
}
