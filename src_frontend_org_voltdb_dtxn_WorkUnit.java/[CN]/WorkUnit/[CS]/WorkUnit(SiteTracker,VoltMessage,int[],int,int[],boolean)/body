{
  this.m_payload=payload;
  m_shouldResumeProcedure=shouldResumeProcedure;
  if (payload != null && payload instanceof FragmentTaskMessage) {
    m_taskType=((FragmentTaskMessage)payload).getFragmentTaskType();
  }
  if (dependencyIds != null && dependencyIds.length > 0) {
    m_dependencies=new HashMap<Integer,DependencyTracker>();
    for (    int dependency : dependencyIds) {
      int depsToExpect=1;
      HashSet<Integer> expected_sites=new HashSet<Integer>();
      expected_sites.add(siteId);
      if ((dependency & DtxnConstants.MULTIPARTITION_DEPENDENCY) != 0) {
        depsToExpect=siteTracker.getLiveSiteCount();
        for (        Integer site_id : nonCoordinatingSiteIds) {
          expected_sites.add(site_id);
        }
      }
 else       if ((dependency & DtxnConstants.MULTINODE_DEPENDENCY) != 0) {
        depsToExpect=siteTracker.getLiveInitiatorCount();
      }
      m_dependencies.put(dependency,new DependencyTracker(dependency,depsToExpect,expected_sites));
    }
  }
}
