{
  List<AbstractExpression> optimalAvgAggs=new ArrayList<AbstractExpression>();
  Iterator<AbstractExpression> itr=m_aggregationList.iterator();
  while (itr.hasNext()) {
    AbstractExpression aggExpr=itr.next();
    assert(aggExpr instanceof AggregateExpression);
    if (aggExpr.getExpressionType() == ExpressionType.AGGREGATE_AVG) {
      itr.remove();
      AbstractExpression left=new AggregateExpression(ExpressionType.AGGREGATE_SUM);
      left.setLeft((AbstractExpression)aggExpr.getLeft().clone());
      AbstractExpression right=new AggregateExpression(ExpressionType.AGGREGATE_COUNT);
      right.setLeft((AbstractExpression)aggExpr.getLeft().clone());
      optimalAvgAggs.add(left);
      optimalAvgAggs.add(right);
    }
  }
  m_aggregationList.addAll(optimalAvgAggs);
}
