{
  List<Integer> partitions=new ArrayList<Integer>();
  int freeSites=sitesPerHost;
  List<Integer> partSortedByRep=sortKeysByValue(repsPerPart);
  for (int i=0; i < numberOfPartitions; i++) {
    int leastReplicatedPart=partSortedByRep.get(i);
    if (repsPerPart.get(leastReplicatedPart) < kfactor + 1) {
      partitions.add(leastReplicatedPart);
      freeSites--;
      if (freeSites == 0) {
        break;
      }
    }
  }
  return partitions;
}
