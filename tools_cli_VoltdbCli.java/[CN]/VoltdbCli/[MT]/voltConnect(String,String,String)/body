{
  String errmsg=null;
  boolean started=false;
  if (username == null) {
    username="";
  }
  if (password == null) {
    password="";
  }
  database=ClientFactory.createClient();
  try {
    database.createConnection(dbnode,username,password);
    started=true;
  }
 catch (  java.net.ConnectException e) {
    errmsg="Database server not running.";
  }
catch (  IOException e) {
    errmsg="Failed to connect. I/O error: " + e.getMessage();
  }
catch (  Exception e) {
    errmsg="Failed to connect. Generic error: " + e.getMessage();
    e.printStackTrace();
  }
  if (!started) {
    database=null;
    databasename=null;
    errormessage(errmsg);
  }
 else {
    infomessage("Connection established.");
  }
}
