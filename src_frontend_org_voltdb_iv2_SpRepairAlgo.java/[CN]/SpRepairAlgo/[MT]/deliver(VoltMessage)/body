{
  if (message instanceof Iv2RepairLogResponseMessage) {
    Iv2RepairLogResponseMessage response=(Iv2RepairLogResponseMessage)message;
    if (response.getRequestId() != m_requestId) {
      tmLog.info(m_whoami + "rejecting stale repair response." + " Current request id is: "+ m_requestId+ " Received response for request id: "+ response.getRequestId());
      return;
    }
    ReplicaRepairStruct rrs=m_replicaRepairStructs.get(response.m_sourceHSId);
    if (rrs.m_expectedResponses < 0) {
      tmLog.info(m_whoami + "collecting " + response.getOfTotal()+ " repair log entries from "+ CoreUtils.hsIdToString(response.m_sourceHSId));
    }
    m_repairLogUnion.add(response);
    if (rrs.update(response) == 0) {
      tmLog.info(m_whoami + "collected " + rrs.m_receivedResponses+ " responses for "+ rrs.m_expectedResponses+ " repair log entries from "+ CoreUtils.hsIdToString(response.m_sourceHSId));
      if (areRepairLogsComplete()) {
        repairSurvivors();
      }
    }
  }
}
