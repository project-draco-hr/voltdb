{
  PlanNodeList nodeList=new PlanNodeList(planGraph);
  String json=null;
  try {
    String crunchJson=nodeList.toJSONString();
    JSONObject jobj=new JSONObject(crunchJson);
    json=jobj.toString(4);
  }
 catch (  JSONException e2) {
    m_recentErrorMsg="Plan for sql: '" + plan.sql + "' can't be serialized to JSON";
    return;
  }
  json="PLAN:\n" + json;
  json="COST: " + String.valueOf(plan.cost) + "\n"+ json;
  assert(plan.sql != null);
  json="SQL: " + plan.sql + "\n"+ json;
  BuildDirectoryUtils.writeFile("statement-all-plans/" + m_procName + "_"+ m_stmtName,filename + "-json.txt",json);
  BuildDirectoryUtils.writeFile("statement-all-plans/" + m_procName + "_"+ m_stmtName,filename + ".dot",nodeList.toDOTString("name"));
}
