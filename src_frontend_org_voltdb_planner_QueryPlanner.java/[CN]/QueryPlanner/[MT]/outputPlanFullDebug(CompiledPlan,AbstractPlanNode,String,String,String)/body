{
  PlanNodeList nodeList=new PlanNodeList(planGraph);
  String json=null;
  try {
    String crunchJson=nodeList.toJSONString();
    JSONObject jobj=new JSONObject(crunchJson);
    json=jobj.toString(4);
  }
 catch (  JSONException e2) {
    m_recentErrorMsg="Plan for sql: '" + plan.sql + "' can't be serialized to JSON";
    return;
  }
  json="PLAN:\n" + json;
  json="COST: " + String.valueOf(plan.cost) + "\n"+ json;
  assert(plan.sql != null);
  json="SQL: " + plan.sql + "\n"+ json;
  PrintStream candidatePlanOut=BuildDirectoryUtils.getDebugOutputPrintStream("statement-all-plans/" + procName + "_"+ stmtName,filename + "-json.txt");
  candidatePlanOut.println(json);
  candidatePlanOut.close();
  candidatePlanOut=BuildDirectoryUtils.getDebugOutputPrintStream("statement-all-plans/" + procName + "_"+ stmtName,filename + ".dot");
  candidatePlanOut.println(nodeList.toDOTString("name"));
  candidatePlanOut.close();
}
