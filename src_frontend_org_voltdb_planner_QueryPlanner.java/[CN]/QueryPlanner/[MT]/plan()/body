{
  m_recentErrorMsg=null;
  if (m_paramzInfo != null) {
    try {
      CompiledPlan plan=compileFromXML(m_paramzInfo.parameterizedXmlSQL);
      plan.partitioningKeyIndex=buildParameterSetFromExtractedLiteralsAndReturnPartitionIndex(plan.parameters,plan.extractedParamValues);
      plan.setPartitioningKey(plan.extractedParamValues.toArray()[plan.partitioningKeyIndex]);
      m_wasParameterizedPlan=true;
      return plan;
    }
 catch (    Exception e) {
    }
  }
  m_recentErrorMsg=null;
  CompiledPlan plan=compileFromXML(m_xmlSQL);
  if (plan == null) {
    throw new PlanningErrorException(m_recentErrorMsg);
  }
  return plan;
}
