def make_archive_branches_script(branch_infos, dry_run):
    other_args = ''
    if dry_run:
        other_args = ' --dry-run'
    for bi in branch_infos:
        b = bi['name']
        comment = make_comment(bi)
        shortname = b.split('origin/')[1]
        tagname = ('archive/' + shortname)
        print 
        print comment
        print ('git tag -m "archiving branch %s" %s %s' % (shortname, tagname, b))
        print ('git push origin %s' % tagname)
        print ('git push origin --delete %s %s' % (other_args, shortname))
