{
  checkNotNull(writer);
  return new CharOutput(){
    @Override public void write(    char c) throws IOException {
      writer.append(c);
    }
    @Override public void flush() throws IOException {
      writer.flush();
    }
    @Override public void close() throws IOException {
      writer.close();
    }
  }
;
}
