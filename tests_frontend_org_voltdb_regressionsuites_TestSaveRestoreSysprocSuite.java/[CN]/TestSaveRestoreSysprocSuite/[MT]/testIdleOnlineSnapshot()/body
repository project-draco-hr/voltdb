{
  if (isValgrind())   return;
  System.out.println("Starting testIdleOnlineSnapshot");
  Client client=getClient();
  int num_replicated_items_per_chunk=100;
  int num_replicated_chunks=10;
  int num_partitioned_items_per_chunk=120;
  int num_partitioned_chunks=10;
  loadLargeReplicatedTable(client,"REPLICATED_TESTER",num_replicated_items_per_chunk,num_replicated_chunks);
  loadLargePartitionedTable(client,"PARTITION_TESTER",num_partitioned_items_per_chunk,num_partitioned_chunks);
  client.callProcedure("@SnapshotSave",TMPDIR,TESTNONCE,(byte)0);
  Thread.sleep(2000);
  checkSnapshotStatus(client,TMPDIR,TESTNONCE,null,"SUCCESS",8);
  validateSnapshot(true);
}
