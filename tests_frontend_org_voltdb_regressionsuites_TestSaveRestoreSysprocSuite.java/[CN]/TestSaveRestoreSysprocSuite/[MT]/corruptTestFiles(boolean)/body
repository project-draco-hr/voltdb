{
  FilenameFilter cleaner=new FilenameFilter(){
    public boolean accept(    File dir,    String file){
      return file.startsWith(TESTNONCE);
    }
  }
;
  java.util.Random r;
  if (random) {
    r=new java.util.Random();
  }
 else {
    r=new java.util.Random(0);
  }
  File tmp_dir=new File(TMPDIR);
  File[] tmp_files=tmp_dir.listFiles(cleaner);
  int tmpIndex=r.nextInt(tmp_files.length);
  int corruptValue=r.nextInt() % 127;
  java.io.RandomAccessFile raf=new java.io.RandomAccessFile(tmp_files[tmpIndex],"rw");
  int corruptPosition=r.nextInt((int)raf.length());
  System.out.println("Corrupting file " + tmp_files[tmpIndex].getName() + " at byte "+ corruptPosition+ " with value "+ corruptPosition);
  raf.seek(corruptPosition);
  raf.writeByte(corruptValue);
  raf.close();
}
