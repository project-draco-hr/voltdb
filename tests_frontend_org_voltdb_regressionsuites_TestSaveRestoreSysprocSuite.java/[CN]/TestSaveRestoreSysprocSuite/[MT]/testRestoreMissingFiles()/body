{
  if (isValgrind())   return;
  System.out.println("Starting testRestoreMissingFile");
  int num_replicated_items=1000;
  int num_partitioned_items=126;
  Client client=getClient();
  VoltTable repl_table=createReplicatedTable(num_replicated_items,0,null);
  VoltTable partition_table=createPartitionedTable(num_partitioned_items,0);
  loadTable(client,"REPLICATED_TESTER",true,repl_table);
  loadTable(client,"PARTITION_TESTER",false,partition_table);
  saveTablesWithDefaultOptions(client);
  validateSnapshot(true);
  m_config.shutDown();
  deleteTestFiles();
  m_config.startUp();
  client=getClient();
  try {
    client.callProcedure("@SnapshotRestore",TMPDIR,TESTNONCE);
  }
 catch (  Exception e) {
    assertTrue(e.getMessage().contains("No savefile state to restore"));
    return;
  }
  assertTrue(false);
}
