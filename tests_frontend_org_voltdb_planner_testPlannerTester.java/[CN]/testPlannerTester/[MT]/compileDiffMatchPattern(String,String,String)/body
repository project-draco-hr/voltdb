{
  AbstractPlanNode pn1=compile(sql1);
  AbstractPlanNode pn2=compile(sql2);
  plannerTester.diff(pn1,pn2,true);
  int numMatched=0;
  for (  String str : plannerTester.m_diffMessages) {
    for (    String pattern : patterns)     if (str.contains(pattern))     numMatched++;
  }
  return (numMatched == patterns.length);
}
