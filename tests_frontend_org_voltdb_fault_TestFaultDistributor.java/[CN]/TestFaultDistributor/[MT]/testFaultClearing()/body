{
  FaultDistributor dut=new FaultDistributor(m_voltdb);
  OrderTracker orderTracker=new OrderTracker(-1);
  MockFaultHandler mh1=new MockFaultHandler(FaultType.NODE_FAILURE,1,orderTracker);
  MockFaultHandler mh2=new MockFaultHandler(FaultType.NODE_FAILURE,1,orderTracker);
  dut.registerFaultHandler(1,mh1,FaultType.NODE_FAILURE);
  dut.registerFaultHandler(1,mh2,FaultType.NODE_FAILURE);
  VoltFault theFault=new VoltFault(FaultType.NODE_FAILURE);
  dut.reportFault(theFault);
  assertEquals(0,mh1.m_clearedFaults.availablePermits());
  assertEquals(0,mh2.m_clearedFaults.availablePermits());
  mh1.m_clearedFaults.acquire();
  mh2.m_clearedFaults.acquire();
}
