{
  MockVoltDB voltdb=m_voltdb;
  FaultDistributor dut=new FaultDistributor(voltdb,true);
  voltdb.setFaultDistributor(dut);
  VoltDB.replaceVoltDBInstanceForTest(voltdb);
  voltdb.addPartition(1);
  voltdb.addHost(0);
  voltdb.addSite(100,0,1,true);
  voltdb.addSite(1000,0,1,false);
  voltdb.addHost(1);
  voltdb.addSite(101,0,1,true);
  voltdb.addSite(1010,0,1,false);
  voltdb.getCatalogContext();
  voltdb.killSite(100);
  voltdb.killSite(1000);
  HashSet<Long> failedSiteIds=new HashSet<Long>();
  failedSiteIds.add(100l);
  failedSiteIds.add(1000l);
  PPDPolicyDecision makePPDPolicyDecisions=dut.makePPDPolicyDecisions(failedSiteIds);
  assertEquals(PPDPolicyDecision.PartitionDetection,makePPDPolicyDecisions);
}
