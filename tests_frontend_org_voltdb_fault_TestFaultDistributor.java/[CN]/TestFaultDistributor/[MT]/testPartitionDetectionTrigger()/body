{
  MockVoltDB voltdb=m_voltdb;
  FaultDistributor dut=new FaultDistributor(voltdb,true);
  voltdb.setFaultDistributor(dut);
  VoltDB.replaceVoltDBInstanceForTest(voltdb);
  Long site100=CoreUtils.getHSIdFromHostAndSite(0,100);
  Long site1000=CoreUtils.getHSIdFromHostAndSite(0,1000);
  voltdb.addSite(site100,1);
  voltdb.addSite(site1000,MailboxType.Initiator);
  Long site101=CoreUtils.getHSIdFromHostAndSite(0,101);
  Long site1010=CoreUtils.getHSIdFromHostAndSite(0,1010);
  voltdb.addSite(site101,1);
  voltdb.addSite(site1010,MailboxType.Initiator);
  voltdb.getCatalogContext();
  voltdb.killSite(site100);
  voltdb.killSite(site1000);
  HashSet<Long> failedSiteIds=new HashSet<Long>();
  failedSiteIds.add(site100);
  failedSiteIds.add(site1000);
  PPDPolicyDecision makePPDPolicyDecisions=dut.makePPDPolicyDecisions(failedSiteIds,VoltDB.instance().getSiteTracker());
  assertEquals(PPDPolicyDecision.PartitionDetection,makePPDPolicyDecisions);
}
