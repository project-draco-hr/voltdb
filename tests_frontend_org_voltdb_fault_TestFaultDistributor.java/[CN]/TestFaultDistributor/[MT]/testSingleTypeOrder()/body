{
  FaultDistributor dut=new FaultDistributor(m_voltdb);
  OrderTracker order_tracker=new OrderTracker(-1);
  MockFaultHandler node_handler1=new MockFaultHandler(FaultType.SITE_FAILURE,1,order_tracker);
  MockFaultHandler node_handler2=new MockFaultHandler(FaultType.SITE_FAILURE,2,order_tracker);
  MockFaultHandler node_handler2a=new MockFaultHandler(FaultType.SITE_FAILURE,2,order_tracker);
  MockFaultHandler node_handler5=new MockFaultHandler(FaultType.SITE_FAILURE,5,order_tracker);
  MockFaultHandler node_handler5a=new MockFaultHandler(FaultType.SITE_FAILURE,5,order_tracker);
  MockFaultHandler node_handler7=new MockFaultHandler(FaultType.SITE_FAILURE,7,order_tracker);
  dut.registerFaultHandler(7,node_handler7,FaultType.SITE_FAILURE);
  dut.registerFaultHandler(2,node_handler2a,FaultType.SITE_FAILURE);
  dut.registerFaultHandler(5,node_handler5,FaultType.SITE_FAILURE);
  dut.registerFaultHandler(1,node_handler1,FaultType.SITE_FAILURE);
  dut.registerFaultHandler(5,node_handler5a,FaultType.SITE_FAILURE);
  dut.registerFaultHandler(2,node_handler2,FaultType.SITE_FAILURE);
  dut.reportFault(new VoltFault(FaultType.SITE_FAILURE));
  node_handler7.m_handledFaults.acquire();
  assertTrue(node_handler1.m_gotFault);
  assertTrue(node_handler2.m_gotFault);
  assertTrue(node_handler2a.m_gotFault);
  assertTrue(node_handler5.m_gotFault);
  assertTrue(node_handler5a.m_gotFault);
  assertTrue(node_handler7.m_gotFault);
  assertTrue(order_tracker.m_goodOrder);
}
