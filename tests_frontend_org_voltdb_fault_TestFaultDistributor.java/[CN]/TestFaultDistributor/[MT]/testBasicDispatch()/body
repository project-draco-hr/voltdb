{
  FaultDistributor dut=new FaultDistributor(new MockVoltDB());
  MockFaultHandler unk_handler=new MockFaultHandler(FaultType.UNKNOWN);
  MockFaultHandler node_handler=new MockFaultHandler(FaultType.NODE_FAILURE);
  dut.registerFaultHandler(FaultType.UNKNOWN,unk_handler,1);
  dut.registerFaultHandler(FaultType.NODE_FAILURE,node_handler,1);
  dut.reportFault(new VoltFault(FaultType.UNKNOWN));
  unk_handler.m_handledFaults.acquire();
  assertTrue(unk_handler.m_gotFault);
  assertFalse(node_handler.m_gotFault);
  dut.reportFault(new VoltFault(FaultType.NODE_FAILURE));
  node_handler.m_handledFaults.acquire();
  assertTrue(node_handler.m_gotFault);
}
