{
  FaultDistributor dut=new FaultDistributor(m_voltdb);
  MockFaultHandler unk_handler=new MockFaultHandler(FaultType.UNKNOWN);
  MockFaultHandler node_handler=new MockFaultHandler(FaultType.SITE_FAILURE);
  dut.registerFaultHandler(1,unk_handler,FaultType.UNKNOWN);
  dut.registerFaultHandler(1,node_handler,FaultType.SITE_FAILURE);
  dut.reportFault(new VoltFault(FaultType.UNKNOWN));
  unk_handler.m_handledFaults.acquire();
  assertTrue(unk_handler.m_gotFault);
  assertFalse(node_handler.m_gotFault);
  dut.reportFault(new VoltFault(FaultType.SITE_FAILURE));
  node_handler.m_handledFaults.acquire();
  assertTrue(node_handler.m_gotFault);
}
