{
  MockVolt volt0=null;
  MockVolt volt1=null;
  volt0=new MockVolt(20000);
  volt0.start();
  volt1=new MockVolt(20001);
  volt1.start();
  assertTrue(volt1.socket.isOpen());
  assertTrue(volt0.socket.isOpen());
  Distributer dist=new Distributer();
  try {
    dist.createConnection("localhost","","",20000);
    dist.createConnection("localhost","","",20001);
  }
 catch (  UnknownHostException e) {
    e.printStackTrace();
    fail();
  }
catch (  IOException e) {
    e.printStackTrace();
    fail();
  }
  Thread.sleep(1000);
  assertTrue(volt1.handler != null);
  assertTrue(volt0.handler != null);
  if (volt0 != null) {
    volt0.shutdown();
    volt0.join();
  }
  if (volt1 != null) {
    volt1.shutdown();
    volt1.join();
  }
}
