{
  if (_growCapacity <= 0)   return false;
  _tailLock.lock();
  try {
    _headLock.lock();
    try {
      final int head=_head;
      final int tail=_tail;
      final int new_tail;
      Object[] elements=new Object[_capacity + _growCapacity];
      if (head < tail) {
        new_tail=tail - head;
        System.arraycopy(_elements,head,elements,0,new_tail);
      }
 else       if (head > tail || _size.get() > 0) {
        new_tail=_capacity + tail - head;
        int cut=_capacity - head;
        System.arraycopy(_elements,head,elements,0,cut);
        System.arraycopy(_elements,0,elements,cut,tail);
      }
 else {
        new_tail=0;
      }
      _elements=elements;
      _capacity=_elements.length;
      _head=0;
      _tail=new_tail;
      return true;
    }
  finally {
      _headLock.unlock();
    }
  }
  finally {
    _tailLock.unlock();
  }
}
