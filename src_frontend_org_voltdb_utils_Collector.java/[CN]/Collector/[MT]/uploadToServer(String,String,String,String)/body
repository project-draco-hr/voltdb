{
  SSHTools ssh=new SSHTools(username,null);
  SFTPSession sftp=null;
  String rootpath=null;
  try {
    sftp=ssh.getSftpSession(username,password,null,host,null);
    rootpath=sftp.exec("pwd").trim();
  }
 catch (  SFTPException e) {
    String errorMsg=e.getCause().getMessage();
    if (errorMsg.equals("Auth cancel")) {
      throw new Exception("Authorization failed, check username and password");
    }
 else {
      throw new Exception(errorMsg);
    }
  }
  HashMap<File,File> files=new HashMap<File,File>();
  File src=new File(collectionFilePath);
  File dest=new File(rootpath + File.separator + new File(collectionFilePath).getName());
  files.put(src,dest);
  try {
    sftp.ensureDirectoriesExistFor(files.values());
    sftp.copyOverFiles(files);
  }
  finally {
    if (sftp != null) {
      sftp.terminate();
    }
  }
  return true;
}
