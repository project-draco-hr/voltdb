{
  File tempFile=File.createTempFile(resFilename,null);
  tempFile.deleteOnExit();
  Process p=Runtime.getRuntime().exec(command);
  BufferedReader reader=new BufferedReader(new InputStreamReader(p.getInputStream()));
  BufferedReader ereader=new BufferedReader(new InputStreamReader(p.getErrorStream()));
  BufferedWriter writer=new BufferedWriter(new FileWriter(tempFile));
  String line=null;
  while ((line=reader.readLine()) != null) {
    writer.write(line);
    writer.newLine();
  }
  if (tempFile.length() <= 0) {
    if (ereader != null) {
      while ((line=ereader.readLine()) != null) {
        writer.write(line);
        writer.newLine();
      }
    }
  }
  writer.close();
  if (tempFile.length() > 0) {
    tarGenerator.queueEntry(folderPathInTar + resFilename,tempFile);
  }
}
