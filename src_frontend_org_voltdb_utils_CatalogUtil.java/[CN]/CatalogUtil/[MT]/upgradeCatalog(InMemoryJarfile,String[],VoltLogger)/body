{
  byte[] buildInfoBytes;
  String version=VoltDB.instance().getVersionString();
  buildInfoLines[0]=version;
  buildInfoBytes=StringUtils.join(buildInfoLines,"\n").getBytes();
  jarfile.put(CATALOG_BUILDINFO_FILENAME,buildInfoBytes);
  String voltroot=VoltDB.instance().getCatalogContext().cluster.getVoltroot();
  File upgradeFile=new File(voltroot,String.format("catalog-%s.jar",version));
  OutputStream os=new FileOutputStream(upgradeFile);
  try {
    log.info(String.format("Saving catalog file \"%s\" with version upgraded to \"%s\".",upgradeFile.getAbsolutePath(),version));
    jarfile.writeToOutputStream(os);
    os.close();
  }
 catch (  IOException e) {
    log.warn(String.format("Failed to write upgraded catalog file \"%s\".",upgradeFile.getAbsolutePath()),e);
  }
}
