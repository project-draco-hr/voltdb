{
  if (!validateDeployment(catalog,deployment)) {
    return -1;
  }
  catalog.getClusters().get("cluster").getDeployment().add("deployment");
  setClusterInfo(catalog,deployment);
  setSnapshotInfo(catalog,deployment.getSnapshot());
  setSecurityEnabled(catalog,deployment.getSecurity());
  setPathsInfo(catalog,deployment.getPaths(),crashOnFailedValidation);
  setUsersInfo(catalog,deployment.getUsers());
  setHTTPDInfo(catalog,deployment.getHttpd());
  setExportInfo(catalog,deployment.getExport());
  setCommandLogInfo(catalog,deployment.getCommandlog());
  return getDeploymentCRC(deployment);
}
