{
  InMemoryJarfile jarfile=loadInMemoryJarFile(catalogBytes);
  VoltCompiler compiler=new VoltCompiler();
  String upgradedFromVersion=compiler.upgradeCatalogAsNeeded(jarfile);
  byte[] serializedCatalogBytes=jarfile.get(CATALOG_FILENAME);
  String serializedCatalog=new String(serializedCatalogBytes,Constants.UTF8ENCODING);
  return new Pair<String,String>(serializedCatalog,upgradedFromVersion);
}
