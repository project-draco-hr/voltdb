{
  CatalogType parent=stmt.getParent();
  if (!(parent instanceof Procedure)) {
    IndexAnnotation ia=(IndexAnnotation)index.getAnnotation();
    if (ia == null) {
      ia=new IndexAnnotation();
      index.setAnnotation(ia);
    }
    ia.statementsThatUseThis.add(stmt);
    return;
  }
  assert(parent instanceof Procedure);
  Procedure proc=(Procedure)parent;
  if (proc.getDefaultproc()) {
    return;
  }
  StatementAnnotation sa=(StatementAnnotation)stmt.getAnnotation();
  if (sa == null) {
    sa=new StatementAnnotation();
    stmt.setAnnotation(sa);
  }
  sa.indexesUsed.add(index);
  IndexAnnotation ia=(IndexAnnotation)index.getAnnotation();
  if (ia == null) {
    ia=new IndexAnnotation();
    index.setAnnotation(ia);
  }
  ia.proceduresThatUseThis.add(proc);
  ProcedureAnnotation pa=(ProcedureAnnotation)proc.getAnnotation();
  if (pa == null) {
    pa=new ProcedureAnnotation();
    proc.setAnnotation(pa);
  }
  pa.indexesUsed.add(index);
}
