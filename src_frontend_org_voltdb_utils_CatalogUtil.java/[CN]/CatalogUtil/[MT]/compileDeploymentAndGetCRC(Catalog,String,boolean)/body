{
  DeploymentType deployment=parseDeployment(deploymentURL);
  if (deployment == null) {
    hostLog.error("Not a valid XML deployment file at URL: " + deploymentURL);
    return -1;
  }
  if (!validateDeployment(catalog,deployment)) {
    return -1;
  }
  catalog.getClusters().get("cluster").getDeployment().add("deployment");
  setClusterInfo(catalog,deployment);
  setSnapshotInfo(catalog,deployment.getSnapshot());
  setPathsInfo(catalog,deployment.getPaths(),crashOnFailedValidation);
  setUsersInfo(catalog,deployment.getUsers());
  setHTTPDInfo(catalog,deployment.getHttpd());
  setExportInfo(catalog,deployment.getExport());
  setCommandLogInfo(catalog,deployment.getCommandlog());
  return getDeploymentCRC(deployment);
}
