{
  if (users == null) {
    return;
  }
  Database db=catalog.getClusters().get("cluster").getDatabases().get("database");
  SecureRandom sr=new SecureRandom();
  for (  UsersType.User user : users.getUser()) {
    org.voltdb.catalog.User catUser=db.getUsers().add(user.getName());
    String hashedPW=BCrypt.hashpw(extractPassword(user.getPassword()),BCrypt.gensalt(BCrypt.GENSALT_DEFAULT_LOG2_ROUNDS,sr));
    catUser.setShadowpassword(hashedPW);
    if (user.getGroups() != null) {
      String grouplist[]=user.getGroups().split(",");
      for (      final String group : grouplist) {
        final GroupRef groupRef=catUser.getGroups().add(group);
        final Group catalogGroup=db.getGroups().get(group);
        if (catalogGroup != null) {
          groupRef.setGroup(catalogGroup);
        }
      }
    }
  }
}
