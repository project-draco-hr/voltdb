{
  int partitionCount=TheHashinator.catalogPartitionCount;
  byte[] bytes=null;
  if (value instanceof String) {
    String string=(String)value;
    try {
      bytes=string.getBytes("UTF-8");
    }
 catch (    UnsupportedEncodingException e) {
      hostLogger.l7dlog(Level.FATAL,LogKeys.host_TheHashinator_ExceptionHashingString.name(),new Object[]{string},e);
      VoltDB.crashLocalVoltDB("No additional info.",false,e);
    }
  }
 else   if (value instanceof byte[]) {
    bytes=(byte[])value;
  }
  if (bytes != null) {
    int hashCode=0;
    int offset=0;
    for (int ii=0; ii < bytes.length; ii++) {
      hashCode=31 * hashCode + bytes[offset++];
    }
    return java.lang.Math.abs(hashCode % partitionCount);
  }
  hostLogger.l7dlog(Level.FATAL,LogKeys.host_TheHashinator_AttemptedToHashinateNonLongOrString.name(),new Object[]{value.getClass().getName()},null);
  VoltDB.crashLocalVoltDB("No additional info.",false,null);
  return -1;
}
