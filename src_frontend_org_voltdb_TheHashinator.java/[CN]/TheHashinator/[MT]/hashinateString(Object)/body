{
  int partitionCount=TheHashinator.catalogPartitionCount;
  if (value instanceof String) {
    String string=(String)value;
    try {
      byte bytes[]=string.getBytes("UTF-8");
      int hashCode=0;
      int offset=0;
      for (int ii=0; ii < bytes.length; ii++) {
        hashCode=31 * hashCode + bytes[offset++];
      }
      return java.lang.Math.abs(hashCode % partitionCount);
    }
 catch (    UnsupportedEncodingException e) {
      hostLogger.l7dlog(Level.FATAL,LogKeys.host_TheHashinator_ExceptionHashingString.name(),new Object[]{string},e);
      VoltDB.crashLocalVoltDB("No additional info.",false,e);
    }
  }
  hostLogger.l7dlog(Level.FATAL,LogKeys.host_TheHashinator_AttemptedToHashinateNonLongOrString.name(),new Object[]{value.getClass().getName()},null);
  VoltDB.crashLocalVoltDB("No additional info.",false,null);
  return -1;
}
