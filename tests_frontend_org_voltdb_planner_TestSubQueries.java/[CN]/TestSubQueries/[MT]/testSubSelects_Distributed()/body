{
  String tmpErrorMsg="Subqueries on partitioned data are only supported in single partition stored procedures.";
  failToCompile("select A, C FROM (SELECT A, C FROM P1) T1 ",tmpErrorMsg);
  failToCompile("select A FROM (SELECT A, C FROM P1 WHERE A > 3) T1 ",tmpErrorMsg);
  failToCompile("select A, C FROM (SELECT A, C FROM P1 WHERE A = 3) T1 ",tmpErrorMsg);
  AbstractPlanNode pn;
  pn=compileForSinglePartition("select A FROM (SELECT A, C FROM P1 WHERE A > 3) T1");
  System.out.println(pn.toExplainPlanString());
  pn=pn.getChild(0);
  checkSeqScanSubSelects(pn,"T1","A");
  pn=pn.getChild(0);
  checkIndexedSubSelects(pn,"P1","SYS_IDX_P1_PK_TREE","A","C");
}
