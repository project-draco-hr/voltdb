{
  m_done=true;
  if (complete.isRollback()) {
    if (m_missingDependencies != null) {
      m_missingDependencies.clear();
    }
    m_readyWorkUnits.clear();
    m_needsRollback=true;
  }
  if (complete.requiresAck()) {
    CompleteTransactionResponseMessage ctrm=new CompleteTransactionResponseMessage(complete,m_siteId);
    try {
      m_mbox.send(complete.getCoordinatorSiteId(),0,ctrm);
    }
 catch (    MessagingException e) {
      throw new RuntimeException(e);
    }
  }
}
