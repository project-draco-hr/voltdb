{
  if (m_nonCoordinatingSites != null) {
    ArrayDeque<Integer> newlist=new ArrayDeque<Integer>(m_nonCoordinatingSites.length);
    for (int i=0; i < m_nonCoordinatingSites.length; ++i) {
      if (!failedSites.contains(m_nonCoordinatingSites[i])) {
        newlist.addLast(m_nonCoordinatingSites[i]);
      }
    }
    m_nonCoordinatingSites=new int[newlist.size()];
    for (int i=0; i < m_nonCoordinatingSites.length; ++i) {
      m_nonCoordinatingSites[i]=newlist.removeFirst();
    }
  }
  if (m_missingDependencies != null) {
    for (    WorkUnit wu : m_missingDependencies.values()) {
      for (      Integer site_id : failedSites) {
        wu.removeSite(site_id);
      }
    }
  }
}
