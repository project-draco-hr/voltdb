{
  if (response.getStatusCode() != FragmentResponse.SUCCESS) {
    if (m_missingDependencies != null)     m_missingDependencies.clear();
    m_readyWorkUnits.clear();
    if (m_isCoordinator) {
      if (response.getException() != null) {
        throw response.getException();
      }
 else {
        throw new SimpleDtxnConnection.FragmentFailureException();
      }
    }
 else {
      m_site.rollbackTransaction(isReadOnly);
      m_done=true;
    }
  }
  processFragmentResponseDependencies(response);
}
