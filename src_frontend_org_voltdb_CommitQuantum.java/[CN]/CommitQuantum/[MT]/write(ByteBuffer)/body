{
  if (b.remaining() < m_buffer.remaining()) {
    m_buffer.put(b);
  }
 else {
    int originalLimit=b.limit();
    b.limit(b.position() + m_buffer.remaining());
    m_buffer.put(b);
    b.limit(originalLimit);
    m_buffer.force();
    m_buffer=m_fc.map(MapMode.READ_WRITE,m_filePosition,Integer.MAX_VALUE);
    m_filePosition+=Integer.MAX_VALUE;
    m_buffer.put(b);
  }
}
