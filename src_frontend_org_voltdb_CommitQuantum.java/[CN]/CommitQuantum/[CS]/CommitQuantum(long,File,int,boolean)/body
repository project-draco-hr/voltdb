{
  m_file=new File(commitLogDir,txnId + ".vcl");
  RandomAccessFile fos=new RandomAccessFile(m_file,"rw");
  m_fc=fos.getChannel();
  m_fc.truncate(0);
  m_buffer=m_fc.map(MapMode.READ_WRITE,0,Integer.MAX_VALUE);
  m_syncTimer.scheduleAtFixedRate(new TimerTask(){
    @Override public void run(){
      if (m_needToPerformSync == false) {
        try {
          m_needToPerformSync=true;
          m_messagesToCommit.offer(new Pair<VoltMessage,Mailbox>(new SyncMessage(),null));
        }
 catch (        Exception e) {
          e.printStackTrace();
        }
      }
    }
  }
,commitInterval,commitInterval);
  m_waitForCommit=waitForCommit;
  m_commitThread=new Thread(this,"Commit Quantum: " + m_file.toString());
  m_commitThread.start();
}
