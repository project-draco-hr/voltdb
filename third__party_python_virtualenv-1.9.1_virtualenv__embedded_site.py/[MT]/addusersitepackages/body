def addusersitepackages(known_paths):
    'Add a per user site-package to sys.path\n\n    Each user has its own python directory with site-packages in the\n    home directory.\n\n    USER_BASE is the root directory for all Python versions\n\n    USER_SITE is the user specific site-packages directory\n\n    USER_SITE/.. can be used for data.\n    '
    global USER_BASE, USER_SITE, ENABLE_USER_SITE
    env_base = os.environ.get('PYTHONUSERBASE', None)

    def joinuser(*args):
        return os.path.expanduser(os.path.join(*args))
    if (os.name == 'nt'):
        base = (os.environ.get('APPDATA') or '~')
        if env_base:
            USER_BASE = env_base
        else:
            USER_BASE = joinuser(base, 'Python')
        USER_SITE = os.path.join(USER_BASE, (('Python' + sys.version[0]) + sys.version[2]), 'site-packages')
    else:
        if env_base:
            USER_BASE = env_base
        else:
            USER_BASE = joinuser('~', '.local')
        USER_SITE = os.path.join(USER_BASE, 'lib', ('python' + sys.version[:3]), 'site-packages')
    if (ENABLE_USER_SITE and os.path.isdir(USER_SITE)):
        addsitedir(USER_SITE, known_paths)
    if ENABLE_USER_SITE:
        for dist_libdir in ('lib', 'local/lib'):
            user_site = os.path.join(USER_BASE, dist_libdir, ('python' + sys.version[:3]), 'dist-packages')
            if os.path.isdir(user_site):
                addsitedir(user_site, known_paths)
    return known_paths
