def addsitedir(sitedir, known_paths=None):
    "Add 'sitedir' argument to sys.path if missing and handle .pth files in\n    'sitedir'"
    if (known_paths is None):
        known_paths = _init_pathinfo()
        reset = 1
    else:
        reset = 0
    (sitedir, sitedircase) = makepath(sitedir)
    if (not (sitedircase in known_paths)):
        sys.path.append(sitedir)
    try:
        names = os.listdir(sitedir)
    except os.error:
        return
    names.sort()
    for name in names:
        if name.endswith((os.extsep + 'pth')):
            addpackage(sitedir, name, known_paths)
    if reset:
        known_paths = None
    return known_paths
