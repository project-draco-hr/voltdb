{
  MockInitiator initiator=new MockInitiator();
  DtxnInitiatorQueue dut=new DtxnInitiatorQueue(SITE_ID);
  dut.setInitiator(initiator);
  m_testStream.reset();
  dut.addPendingTxn(createTxnState(0,0,true,true));
  dut.offer(createInitiateResponse(0,0,true,true,createResultSet("dude")));
  assertTrue(m_testStream.gotResponse());
  m_testStream.reset();
  dut.addPendingTxn(createTxnState(1,0,true,false));
  dut.offer(createInitiateResponse(1,0,true,false,createResultSet("dude")));
  assertTrue(m_testStream.gotResponse());
  m_testStream.reset();
  dut.addPendingTxn(createTxnState(2,0,false,true));
  dut.offer(createInitiateResponse(2,0,false,true,createResultSet("dude")));
  assertTrue(m_testStream.gotResponse());
  m_testStream.reset();
  dut.addPendingTxn(createTxnState(3,0,false,false));
  dut.offer(createInitiateResponse(3,0,false,false,createResultSet("dude")));
  assertTrue(m_testStream.gotResponse());
}
