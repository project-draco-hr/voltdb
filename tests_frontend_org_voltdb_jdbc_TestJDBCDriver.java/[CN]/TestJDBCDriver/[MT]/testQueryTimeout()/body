{
  PreparedStatement stmt=conn.prepareCall("{call ArbitraryDurationProc(?)}");
  stmt.setLong(1,180 * 1000);
  boolean exceptionCalled=false;
  try {
    stmt.execute();
  }
 catch (  SQLException ex) {
    System.out.println("Query threw exception when not expected to: " + ex.getSQLState());
    exceptionCalled=true;
  }
  assertFalse(exceptionCalled);
  stmt.setLong(1,60000);
  exceptionCalled=false;
  try {
    stmt.execute();
  }
 catch (  SQLException ex) {
    System.out.println("Query threw exception when not expected to: " + ex.getSQLState());
    exceptionCalled=true;
  }
  assertFalse(exceptionCalled);
  stmt.setQueryTimeout(1);
  stmt.setLong(1,7000);
  try {
    stmt.execute();
  }
 catch (  SQLException ex) {
    System.out.println("Query timed out: " + ex.getSQLState());
    exceptionCalled=true;
  }
  assertTrue(exceptionCalled);
  stmt.setQueryTimeout(30);
  stmt.setLong(1,7000);
  exceptionCalled=false;
  try {
    stmt.execute();
  }
 catch (  SQLException ex) {
    System.out.println("Query threw exception when not expected to: " + ex.getSQLState());
    exceptionCalled=true;
  }
  assertFalse(exceptionCalled);
  try {
    stmt.setQueryTimeout(-1);
  }
 catch (  SQLException ex) {
    exceptionCalled=true;
  }
  assertTrue(exceptionCalled);
}
