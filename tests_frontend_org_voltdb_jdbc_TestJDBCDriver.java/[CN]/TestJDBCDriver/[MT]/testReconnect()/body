{
  Connection conn2=DriverManager.getConnection("jdbc:voltdb://localhost:21212");
  try {
    CallableStatement cs1=conn.prepareCall("{call InsertA(?, ?)}");
    cs1.setInt(1,55);
    cs1.setInt(2,66);
    server.shutdown();
    try {
      cs1.execute();
    }
 catch (    SQLException e) {
      assertEquals(e.getSQLState(),SQLError.CONNECTION_FAILURE);
    }
    server=new ServerThread(testjar,pb.getPathToDeployment(),BackendTarget.NATIVE_EE_JNI);
    server.setStartupDelayMS(15000);
    server.start();
    CallableStatement cs2=conn.prepareCall("{call InsertA(?, ?)}");
    cs2.setInt(1,55);
    cs2.setInt(2,66);
    try {
      cs2.execute();
    }
 catch (    SQLException e) {
      fail("Expect the connection to function after reconnect.");
    }
  }
  finally {
    conn2.close();
  }
}
