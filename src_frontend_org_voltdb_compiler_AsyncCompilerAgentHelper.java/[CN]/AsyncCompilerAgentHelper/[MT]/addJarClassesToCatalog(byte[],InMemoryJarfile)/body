{
  InMemoryJarfile jarfile=CatalogUtil.loadInMemoryJarFile(oldCatalogBytes);
  boolean foundClasses=false;
  for (  Entry<String,byte[]> e : newJarfile.entrySet()) {
    String filename=e.getKey();
    if (!filename.endsWith(".class")) {
      continue;
    }
    foundClasses=true;
    jarfile.put(e.getKey(),e.getValue());
  }
  if (foundClasses) {
    VoltCompiler compiler=new VoltCompiler();
    compiler.compileInMemoryJarfile(jarfile);
  }
  return jarfile.getFullJarBytes();
}
