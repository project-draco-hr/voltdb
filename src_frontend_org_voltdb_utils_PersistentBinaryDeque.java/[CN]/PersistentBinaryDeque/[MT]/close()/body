{
  if (m_writeSegment == null) {
    throw new IOException("Closed");
  }
  m_finishedSegments.put(m_writeSegment.m_index,m_writeSegment);
  m_writeSegment=null;
  for (  DequeSegment segment : m_finishedSegments.values()) {
    segment.close();
  }
}
