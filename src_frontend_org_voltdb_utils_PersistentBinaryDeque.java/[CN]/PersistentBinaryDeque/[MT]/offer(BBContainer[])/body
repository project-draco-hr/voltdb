{
  assert(preconditions());
  if (m_writeSegment == null) {
    throw new IOException("Closed");
  }
  int needed=0;
  for (  BBContainer b : objects) {
    needed+=b.b.remaining();
  }
  if (needed > DequeSegment.m_chunkSize - 4) {
    throw new IOException("Maxiumum object size is " + (DequeSegment.m_chunkSize - 4));
  }
  if (m_writeSegment.remaining() < needed) {
    openNewWriteSegment();
  }
  m_writeSegment.offer(objects);
  assert(postconditions());
}
