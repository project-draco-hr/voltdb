{
  File licenseFile=new File(pathToLicense);
  if (licenseFile.exists() == false) {
    hostLog.fatal("Unable to open license file: " + pathToLicense);
    return null;
  }
  LicenseApi licenseApi=null;
  Class<?> licApiKlass=MiscUtils.loadProClass("org.voltdb.licensetool.LicenseApiImpl","License API",false);
  if (licApiKlass != null) {
    try {
      licenseApi=(LicenseApi)licApiKlass.newInstance();
    }
 catch (    InstantiationException e) {
      hostLog.fatal("Unable to process license file: could not create license API.");
      return null;
    }
catch (    IllegalAccessException e) {
      hostLog.fatal("Unable to process license file: could not create license API.");
      return null;
    }
  }
  if (licenseApi == null) {
    hostLog.fatal("Unable to load license file: could not create license API.");
    return null;
  }
  if (licenseApi.initializeFromFile(licenseFile) == false) {
    hostLog.fatal("Unable to load license file: could not parse license.");
    return null;
  }
  if (licenseApi.verify() == false) {
    hostLog.fatal("Unable to load license file: could not verify license signature.");
    return null;
  }
  return licenseApi;
}
