{
  try {
    Process p=Runtime.getRuntime().exec("lsof -i -n -P");
    java.io.InputStreamReader reader=new java.io.InputStreamReader(p.getInputStream());
    java.io.BufferedReader br=new java.io.BufferedReader(reader);
    String str=null;
    while ((str=br.readLine()) != null) {
      if (str.contains("LISTEN")) {
        log.fatal(str);
      }
    }
  }
 catch (  Exception e) {
    log.fatal("Unable to list ports in use at this time.");
  }
}
