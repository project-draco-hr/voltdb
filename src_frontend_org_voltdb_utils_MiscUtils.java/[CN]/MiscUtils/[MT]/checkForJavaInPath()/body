{
  Process p=Runtime.getRuntime().exec("which java");
  p.waitFor();
  InputStream is=p.getInputStream();
  ByteArrayOutputStream baos=new ByteArrayOutputStream();
  int read=0;
  while ((read=is.read()) != -1) {
    baos.write(read);
  }
  String java=new String(baos.toByteArray(),"UTF-8").trim();
  if (java != null) {
    File f=new File(java);
    if (f.exists() && f.canExecute()) {
      return f.getAbsolutePath();
    }
 else {
      hostLog.warn("Attempted to discover java binary from PATH using 'which java' (" + java + ") but an executable binary was not found at "+ f.getAbsolutePath());
    }
  }
  return null;
}
