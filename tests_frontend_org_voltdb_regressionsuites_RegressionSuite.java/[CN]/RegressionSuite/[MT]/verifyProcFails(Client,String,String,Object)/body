{
  String what;
  if (storedProc.compareTo("@AdHoc") == 0) {
    what="the statement \"" + args[0] + "\"";
  }
 else {
    what="the stored procedure \"" + storedProc + "\"";
  }
  try {
    client.callProcedure(storedProc,args);
  }
 catch (  ProcCallException pce) {
    String msg=pce.getMessage();
    String diagnostic="Expected " + what + " to throw an exception containing the message \""+ expectedMsg+ "\", but instead it threw an exception containing \""+ msg+ "\".";
    assertTrue(diagnostic,msg.contains(expectedMsg));
    return;
  }
  String diagnostic="Expected " + what + " to throw an exception containing the message \""+ expectedMsg+ ", but instead it threw nothing.";
  fail(diagnostic);
}
