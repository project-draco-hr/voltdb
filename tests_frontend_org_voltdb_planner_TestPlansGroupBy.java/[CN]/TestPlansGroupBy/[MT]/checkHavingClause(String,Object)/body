{
  pns=compileToFragments(sql);
  for (  AbstractPlanNode apn : pns) {
    System.out.println(apn.toExplainPlanString());
  }
  AbstractPlanNode p=pns.get(0);
  AggregatePlanNode aggNode;
  while (p instanceof AggregatePlanNode == false) {
    p=p.getChild(0);
  }
  assertTrue(p instanceof AggregatePlanNode);
  aggNode=(AggregatePlanNode)p;
  String aggNodeStr=aggNode.toExplainPlanString().toLowerCase();
  if (aggPostFilters != null) {
    String[] aggFilterStrings=null;
    if (aggPostFilters instanceof String) {
      aggFilterStrings=new String[]{(String)aggPostFilters};
    }
 else {
      aggFilterStrings=(String[])aggPostFilters;
    }
    for (    String aggFilter : aggFilterStrings) {
      System.out.println(aggNodeStr.contains(aggFilter.toLowerCase()));
      assertTrue(aggNodeStr.contains(aggFilter.toLowerCase()));
    }
  }
 else {
    assertNull(aggNode.getPostPredicate());
  }
}
