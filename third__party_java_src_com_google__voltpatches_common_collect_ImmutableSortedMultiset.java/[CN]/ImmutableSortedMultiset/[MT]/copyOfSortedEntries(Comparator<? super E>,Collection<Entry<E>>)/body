{
  if (entries.isEmpty()) {
    return emptyMultiset(comparator);
  }
  ImmutableList.Builder<E> elementsBuilder=new ImmutableList.Builder<E>(entries.size());
  int[] counts=new int[entries.size()];
  long[] cumulativeCounts=new long[entries.size() + 1];
  int i=0;
  for (  Entry<E> entry : entries) {
    elementsBuilder.add(entry.getElement());
    counts[i]=entry.getCount();
    cumulativeCounts[i + 1]=cumulativeCounts[i] + counts[i];
    i++;
  }
  return new RegularImmutableSortedMultiset<E>(new RegularImmutableSortedSet<E>(elementsBuilder.build(),comparator),counts,cumulativeCounts,0,entries.size());
}
