{
  if (m_disableAsync)   m_logger.l7dlog(level,key,params,t);
  final Thread currentThread=Thread.currentThread();
  final Runnable r=new Runnable(){
    @Override public void run(){
      Thread.currentThread().setName(currentThread.getName());
      try {
        m_logger.l7dlog(level,key,params,t);
      }
  finally {
        Thread.currentThread().setName(m_threadName);
      }
    }
  }
;
switch (level) {
case INFO:
case WARN:
case DEBUG:
case TRACE:
    m_es.execute(r);
  break;
case FATAL:
case ERROR:
try {
  m_es.submit(r).get();
}
 catch (Exception e) {
  Throwables.propagate(e);
}
break;
default :
throw new AssertionError("Unrecognized level " + level);
}
}
