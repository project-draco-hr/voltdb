{
  CatalogDiffEngine diff=new CatalogDiffEngine(catOriginal,catUpdated);
  catOriginal.execute(diff.commands());
  assertTrue(diff.supported());
  if (expectSnapshotIsolation != null) {
    assertEquals((boolean)expectSnapshotIsolation,diff.requiresSnapshotIsolation());
  }
  String updatedOriginalSerialized=catOriginal.serialize();
  assertEquals(updatedOriginalSerialized,catUpdated.serialize());
}
