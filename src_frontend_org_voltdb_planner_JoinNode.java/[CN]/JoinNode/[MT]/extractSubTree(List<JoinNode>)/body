{
  if (m_tableAliasIndex != StmtTableScan.NULL_ALIAS_INDEX) {
    return;
  }
  JoinNode[] children={m_leftNode,m_rightNode};
  for (  JoinNode child : children) {
    if (child.m_tableAliasIndex != StmtTableScan.NULL_ALIAS_INDEX) {
      continue;
    }
    if (child.m_joinType == m_joinType) {
      child.extractSubTree(leafNodes);
    }
 else {
      leafNodes.add(child);
      int tempAliasIdx=StmtTableScan.NULL_ALIAS_INDEX - 1 - child.m_id;
      JoinNode tempNode=new JoinNode(-child.m_id,child.m_joinType,tempAliasIdx,child.m_joinExpr,child.m_whereExpr);
      if (child == m_leftNode) {
        m_leftNode=tempNode;
      }
 else {
        m_rightNode=tempNode;
      }
    }
  }
}
