{
  for (int ii=0; ii < SnapshotSiteProcessor.m_numSnapshotBuffers; ii++) {
    final BBContainer origin=org.voltcore.utils.DBBPool.allocateDirect(m_snapshotBufferLength);
    m_snapshotBufferOrigins.add(origin);
    long snapshotBufferAddress=0;
    if (VoltDB.getLoadLibVOLTDB()) {
      snapshotBufferAddress=org.voltcore.utils.DBBPool.getBufferAddress(origin.b);
    }
    m_availableSnapshotBuffers.offer(new BBContainer(origin.b,snapshotBufferAddress){
      @Override public void discard(){
        m_availableSnapshotBuffers.offer(this);
        m_onPotentialSnapshotWork.run();
      }
    }
);
  }
}
