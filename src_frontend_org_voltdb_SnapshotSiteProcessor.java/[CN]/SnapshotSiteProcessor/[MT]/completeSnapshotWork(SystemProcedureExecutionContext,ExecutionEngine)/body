{
  HashSet<Exception> retval=new HashSet<Exception>();
  while (m_snapshotTableTasks != null) {
    Future<?> result=doSnapshotWork(context,ee);
    if (result != null) {
      try {
        result.get();
      }
 catch (      ExecutionException e) {
        final boolean added=retval.add((Exception)e.getCause());
        assert(added);
      }
catch (      Exception e) {
        final boolean added=retval.add((Exception)e.getCause());
        assert(added);
      }
    }
  }
  if (m_snapshotTargetTerminators != null) {
    for (    final Thread t : m_snapshotTargetTerminators) {
      t.join();
    }
    m_snapshotTargetTerminators=null;
  }
  return retval;
}
