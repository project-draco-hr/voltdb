{
  if (!m_tracker.m_allSitesImmutable.contains(message.m_sourceHSId)) {
    hostLog.warn("Dropping message " + message + " because it is from a unknown site id "+ CoreUtils.hsIdToString(message.m_sourceHSId));
    return;
  }
  if (message instanceof TransactionInfoBaseMessage) {
    TransactionInfoBaseMessage info=(TransactionInfoBaseMessage)message;
    assertTxnIdOrdering(info);
    if (info instanceof HeartbeatMessage) {
      return;
    }
 else     if (info instanceof InitiateTaskMessage) {
    }
 else     if (info instanceof MultiPartitionParticipantMessage) {
    }
    TransactionState ts=m_transactionsById.get(info.getTxnId());
    if (ts != null) {
      if (message instanceof FragmentTaskMessage) {
        ts.createLocalFragmentWork((FragmentTaskMessage)message,false);
      }
    }
  }
 else   if (message instanceof RecoveryMessage) {
    final RecoveryMessage rm=(RecoveryMessage)message;
    if (rm.recoveryMessagesAvailable()) {
      return;
    }
    assert(!m_rejoining);
    if (m_rejoinSnapshotProcessor != null) {
      m_rejoinLog.error("ExecutionSite is not ready to handle " + "recovery request from site " + CoreUtils.hsIdToString(rm.sourceSite()));
      RecoveryMessage recoveryResponse=new RecoveryMessage(false);
      m_mailbox.send(rm.sourceSite(),recoveryResponse);
      return;
    }
    final long recoveringPartitionTxnId=rm.txnId();
    m_rejoinLog.info("Recovery initiate received at site " + CoreUtils.hsIdToString(m_siteId) + " from site "+ CoreUtils.hsIdToString(rm.sourceSite())+ " requesting recovery start before txnid "+ recoveringPartitionTxnId);
  }
 else   if (message instanceof RejoinMessage) {
    RejoinMessage rm=(RejoinMessage)message;
    handleRejoinMessage(rm);
  }
 else   if (message instanceof CheckTxnStateCompletionMessage) {
    long txn_id=((CheckTxnStateCompletionMessage)message).m_txnId;
    TransactionState txnState=m_transactionsById.get(txn_id);
    if (txnState != null) {
    }
  }
 else   if (message instanceof ExecutionSiteLocalSnapshotMessage) {
    hostLog.info("Executing local snapshot. Completing any on-going snapshots.");
    hostLog.info("Executing local snapshot. Creating new snapshot.");
    ee.quiesce(lastCommittedTxnId);
  }
 else   if (message instanceof LocalObjectMessage) {
    LocalObjectMessage lom=(LocalObjectMessage)message;
    ((Runnable)lom.payload).run();
  }
 else {
    hostLog.l7dlog(Level.FATAL,LogKeys.org_voltdb_dtxn_SimpleDtxnConnection_UnkownMessageClass.name(),new Object[]{message.getClass().getName()},null);
    VoltDB.crashLocalVoltDB("No additional info.",false,null);
  }
}
