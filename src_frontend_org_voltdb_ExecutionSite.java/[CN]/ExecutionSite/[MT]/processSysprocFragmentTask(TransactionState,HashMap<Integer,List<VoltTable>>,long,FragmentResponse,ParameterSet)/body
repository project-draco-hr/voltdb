{
  currentFragResponse.setStatus(FragmentResponse.SUCCESS,null);
  VoltSystemProcedure proc=null;
synchronized (m_registeredSysProcPlanFragments) {
    proc=m_registeredSysProcPlanFragments.get(fragmentId);
  }
  try {
    proc.setTransactionState(txnState);
    final DependencyPair dep=proc.executePlanFragment(dependencies,fragmentId,params,m_systemProcedureContext);
    sendDependency(currentFragResponse,dep.depId,dep.dependency);
  }
 catch (  final EEException e) {
    hostLog.l7dlog(Level.TRACE,LogKeys.host_ExecutionSite_ExceptionExecutingPF.name(),new Object[]{fragmentId},e);
    currentFragResponse.setStatus(FragmentResponse.UNEXPECTED_ERROR,e);
  }
catch (  final SQLException e) {
    hostLog.l7dlog(Level.TRACE,LogKeys.host_ExecutionSite_ExceptionExecutingPF.name(),new Object[]{fragmentId},e);
    currentFragResponse.setStatus(FragmentResponse.UNEXPECTED_ERROR,e);
  }
catch (  final Exception e) {
    currentFragResponse.setStatus(FragmentResponse.UNEXPECTED_ERROR,new SerializableException(e));
  }
  return currentFragResponse;
}
