{
  int expectedResponses=0;
  int[] survivors=m_context.siteTracker.getUpExecutionSites();
  try {
    for (    Integer site : m_context.siteTracker.getAllSitesForHost(failedHostId)) {
      if (m_context.siteTracker.getSiteForId(site).getIsexec() == false) {
        FailureSiteUpdateMessage srcmsg=new FailureSiteUpdateMessage(m_siteId,failedHostId,site,m_transactionQueue.getNewestSafeTransactionForInitiator(site),lastCommittedTxnId);
        m_mailbox.send(survivors,0,srcmsg);
        expectedResponses+=(survivors.length);
      }
    }
  }
 catch (  MessagingException e) {
    e.printStackTrace();
    VoltDB.crashVoltDB();
  }
  return expectedResponses;
}
