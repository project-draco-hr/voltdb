{
  if (!readOnly) {
    assert(txnBeginUndoToken == kInvalidUndoToken);
    assert(batchBeginUndoToken == kInvalidUndoToken);
    txnBeginUndoToken=latestUndoToken;
    assert(txnBeginUndoToken != kInvalidUndoToken);
  }
}
