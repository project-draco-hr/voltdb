{
  while (m_shouldContinue) {
    TransactionState currentTxnState=null;
    m_currentTransactionState=currentTxnState;
    if (currentTxnState == null) {
      VoltMessage message=m_mailbox.recv();
      tick();
      if (message != null) {
        handleMailboxMessage(message);
      }
 else       if (!loopUntilPoison) {
        return;
      }
    }
  }
}
