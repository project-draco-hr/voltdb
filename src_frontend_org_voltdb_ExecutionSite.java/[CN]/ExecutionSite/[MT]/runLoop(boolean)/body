{
  while (m_shouldContinue) {
    TransactionState currentTxnState=(TransactionState)m_transactionQueue.poll();
    m_currentTransactionState=currentTxnState;
    if (currentTxnState == null) {
      VoltMessage message=m_mailbox.recv();
      tick();
      if (message != null) {
        handleMailboxMessage(message);
      }
 else       if (!loopUntilPoison) {
        return;
      }
    }
    if (currentTxnState != null) {
      recursableRun(currentTxnState,false);
    }
  }
}
