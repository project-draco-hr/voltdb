{
  assert(subBucketIndex < subBucketCount);
  assert(bucketIndex == 0 || (subBucketIndex >= subBucketHalfCount));
  int bucketBaseIndex=(bucketIndex + 1) << subBucketHalfCountMagnitude;
  int offsetInBucket=subBucketIndex - subBucketHalfCount;
  return bucketBaseIndex + offsetInBucket;
}
