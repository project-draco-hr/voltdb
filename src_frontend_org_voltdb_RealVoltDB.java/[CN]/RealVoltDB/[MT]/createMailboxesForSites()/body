{
  ArrayDeque<Mailbox> mailboxes=new ArrayDeque<Mailbox>();
  int sitesperhost=m_deployment.getCluster().getSitesperhost();
  int hostcount=m_deployment.getCluster().getHostcount();
  int kfactor=m_deployment.getCluster().getKfactor();
  ClusterConfig clusterConfig=new ClusterConfig(hostcount,sitesperhost,kfactor);
  int partitionCounter=0;
  for (int i=0; i < sitesperhost; i++) {
    Mailbox mailbox=m_messenger.createMailbox();
    mailboxes.add(mailbox);
    registerExecutionSiteMailbox(mailbox.getHSId(),(partitionCounter % clusterConfig.getPartitionCount()));
    partitionCounter++;
  }
  return mailboxes;
}
