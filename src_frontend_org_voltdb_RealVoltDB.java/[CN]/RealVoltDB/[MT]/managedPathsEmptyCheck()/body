{
  PathsType paths=m_catalogContext.getDeployment().getPaths();
  String voltDbRoot=paths.getVoltdbroot().getPath();
  List<String> nonEmptyPaths=new ArrayList<String>();
  String path;
  if ((path=managedPathEmptyCheck(voltDbRoot,paths.getSnapshots().getPath())) != null)   nonEmptyPaths.add(path);
  if ((path=managedPathEmptyCheck(voltDbRoot,paths.getExportoverflow().getPath())) != null)   nonEmptyPaths.add(path);
  if ((path=managedPathEmptyCheck(voltDbRoot,paths.getDroverflow().getPath())) != null)   nonEmptyPaths.add(path);
  if ((path=managedPathEmptyCheck(voltDbRoot,paths.getCommandlog().getPath())) != null)   nonEmptyPaths.add(path);
  if ((path=managedPathEmptyCheck(voltDbRoot,paths.getCommandlogsnapshot().getPath())) != null)   nonEmptyPaths.add(path);
  if (!nonEmptyPaths.isEmpty()) {
    StringBuilder crashMessage=new StringBuilder("Files from a previous database session exist in the managed directories:");
    for (    String nonEmptyPath : nonEmptyPaths)     crashMessage.append("\n  - " + nonEmptyPath);
    crashMessage.append("\nUse the recover command to restore the previous database or use create --force" + " to start a new database session overwriting existing files.");
    VoltDB.crashLocalVoltDB(crashMessage.toString());
  }
}
