{
  Thread shutdownThread=new Thread(){
    @Override public void run(){
      boolean die=false;
      try {
        hostLog.warn("VoltDB node shutting down as requested by @StopNode command.");
        Thread.sleep(500);
        die=VoltDB.instance().shutdown(this);
      }
 catch (      InterruptedException e) {
        hostLog.error("Exception while attempting to shutdown VoltDB from StopNode sysproc",e);
      }
      if (die) {
        System.exit(0);
      }
 else {
        try {
          Thread.sleep(10000);
        }
 catch (        InterruptedException e) {
        }
 finally {
          System.exit(0);
        }
      }
    }
  }
;
  shutdownThread.start();
}
