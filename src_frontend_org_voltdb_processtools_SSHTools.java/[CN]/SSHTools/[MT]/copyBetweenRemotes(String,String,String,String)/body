{
  int len=1;
  if (m_keyFile != null)   len+=10;
 else   len+=8;
  String[] command=new String[len];
  int i=0;
  command[i++]="scp";
  i=buildArgs(command);
  command[i++]="-r";
  command[i++]=createUrl(hostNameFrom,pathFrom);
  command[i++]=createUrl(hostNameTo,pathTo);
  assert(i == len);
  String output=null;
  try {
    output=ShellTools.cmd(command,generatePasswordScript());
  }
  finally {
    deletePasswordScript();
  }
  if (output.length() > 1) {
    System.err.print(output);
    return false;
  }
  return true;
}
