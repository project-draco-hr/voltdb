{
  try {
    final File passwordScript=File.createTempFile("foo","bar");
    passwordScript.setExecutable(true);
    passwordScript.deleteOnExit();
    final Thread t=new Thread(){
      @Override public void run(){
        try {
          Thread.sleep(10000);
        }
 catch (        InterruptedException e) {
        }
        passwordScript.delete();
      }
    }
;
    t.setDaemon(true);
    t.start();
    final String sep=System.getProperty("line.separator");
    StringBuilder sb=new StringBuilder();
    if (m_password != null) {
      sb.append("#!/bin/sh").append(sep);
      sb.append("echo \"" + m_password + "\"").append(sep);
      sb.append("rm $0");
    }
 else {
      sb.append("#!/bin/sh").append(sep);
      sb.append("echo \"\"").append(sep);
      sb.append("rm $0");
    }
    FileOutputStream fos=new FileOutputStream(passwordScript);
    fos.write(sb.toString().getBytes("UTF-8"));
    fos.flush();
    fos.close();
    return passwordScript.getAbsolutePath();
  }
 catch (  java.io.IOException e) {
    throw new RuntimeException(e);
  }
}
