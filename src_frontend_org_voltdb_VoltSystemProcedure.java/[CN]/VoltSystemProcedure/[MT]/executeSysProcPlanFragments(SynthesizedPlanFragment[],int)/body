{
  TransactionState txnState=m_runner.getTxnState();
  assert(txnState != null);
  txnState.setupProcedureResume(false,new int[]{aggregatorOutputDependencyId});
  final ArrayList<VoltTable> results=new ArrayList<>();
  executeSysProcPlanFragmentsAsync(pfs);
  Map<Integer,List<VoltTable>> mapResults=m_site.recursableRun(txnState);
  if (mapResults != null) {
    List<VoltTable> matchingTablesForId=mapResults.get(aggregatorOutputDependencyId);
    if (matchingTablesForId == null) {
      if (mapResults.size() != 0 && log.isDebugEnabled()) {
        log.debug("Sysproc received a stale fragment response message from before the " + "transaction restart. This is possible for sysprocs because the dependency " + "IDs are always the same for a given sysproc. The result of this cannot be "+ "trusted.");
      }
    }
 else {
      results.add(matchingTablesForId.get(0));
    }
  }
  return results.toArray(new VoltTable[0]);
}
