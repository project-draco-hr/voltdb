{
  DBBPool p=new DBBPool();
  int allocationSize=1;
  DBBPool.BBContainer c=p.acquire(allocationSize);
  assertTrue(c.b.isDirect());
  assertEquals(16,c.b.capacity());
  c.discard();
  allocationSize=2;
  c=p.acquire(allocationSize);
  assertTrue(c.b.isDirect());
  assertEquals(16,c.b.capacity());
  c.discard();
  allocationSize=4;
  c=p.acquire(allocationSize);
  assertTrue(c.b.isDirect());
  assertEquals(16,c.b.capacity());
  c.discard();
  allocationSize=8;
  c=p.acquire(allocationSize);
  assertTrue(c.b.isDirect());
  assertEquals(16,c.b.capacity());
  c.discard();
  allocationSize=16;
  c=p.acquire(allocationSize);
  assertTrue(c.b.isDirect());
  assertEquals(allocationSize,c.b.capacity());
  c.discard();
  allocationSize=32;
  c=p.acquire(allocationSize);
  assertTrue(c.b.isDirect());
  assertEquals(allocationSize,c.b.capacity());
  c.discard();
  allocationSize=64;
  c=p.acquire(allocationSize);
  assertTrue(c.b.isDirect());
  assertEquals(allocationSize,c.b.capacity());
  c.discard();
  allocationSize=128;
  c=p.acquire(allocationSize);
  assertTrue(c.b.isDirect());
  assertEquals(allocationSize,c.b.capacity());
  c.discard();
  allocationSize=256;
  c=p.acquire(allocationSize);
  assertTrue(c.b.isDirect());
  assertEquals(allocationSize,c.b.capacity());
  c.discard();
  allocationSize=512;
  c=p.acquire(allocationSize);
  assertTrue(c.b.isDirect());
  assertEquals(allocationSize,c.b.capacity());
  c.discard();
  allocationSize=1024;
  c=p.acquire(allocationSize);
  assertTrue(c.b.isDirect());
  assertEquals(allocationSize,c.b.capacity());
  c.discard();
  allocationSize=2048;
  c=p.acquire(allocationSize);
  assertTrue(c.b.isDirect());
  assertEquals(allocationSize,c.b.capacity());
  c.discard();
  allocationSize=4096;
  c=p.acquire(allocationSize);
  assertTrue(c.b.isDirect());
  assertEquals(allocationSize,c.b.capacity());
  c.discard();
  allocationSize=8192;
  c=p.acquire(allocationSize);
  assertTrue(c.b.isDirect());
  assertEquals(allocationSize,c.b.capacity());
  c.discard();
  allocationSize=16384;
  c=p.acquire(allocationSize);
  assertTrue(c.b.isDirect());
  assertEquals(allocationSize,c.b.capacity());
  c.discard();
  allocationSize=32768;
  c=p.acquire(allocationSize);
  assertTrue(c.b.isDirect());
  assertEquals(allocationSize,c.b.capacity());
  c.discard();
  allocationSize=65536;
  c=p.acquire(allocationSize);
  assertTrue(c.b.isDirect());
  assertEquals(allocationSize,c.b.capacity());
  c.discard();
  allocationSize=131072;
  c=p.acquire(allocationSize);
  assertTrue(c.b.isDirect());
  assertEquals(allocationSize,c.b.capacity());
  c.discard();
  allocationSize=262144;
  c=p.acquire(allocationSize);
  assertTrue(c.b.isDirect());
  assertEquals(allocationSize,c.b.capacity());
  c.discard();
  allocationSize=262145;
  c=p.acquire(allocationSize);
  assertFalse(c.b.isDirect());
  assertEquals(allocationSize,c.b.capacity());
  c.discard();
}
