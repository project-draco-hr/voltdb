{
  m_snapshotMonitor=mock(SnapshotCompletionMonitor.class);
  VoltDBInterface volt=mock(VoltDBInterface.class);
  when(volt.getSnapshotCompletionMonitor()).thenReturn(m_snapshotMonitor);
  VoltDB.replaceVoltDBInstanceForTest(volt);
  m_mb=mock(InitiatorMailbox.class);
  when(m_mb.getHSId()).thenReturn(m_HSId);
  m_taskerQueue=new SiteTaskerQueue();
  m_producer=new JoinProducer(2,m_taskerQueue);
  m_producer.setMailbox(m_mb);
}
