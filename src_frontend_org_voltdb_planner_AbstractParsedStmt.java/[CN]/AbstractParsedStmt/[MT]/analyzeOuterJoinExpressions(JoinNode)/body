{
  assert(joinNode != null);
  if (joinNode.m_table != null) {
    assert(joinNode.m_leftNode == null && joinNode.m_rightNode == null);
    joinNode.m_joinInnerList.addAll(ExpressionUtil.uncombineAny(joinNode.m_joinExpr));
    joinNode.m_whereInnerList.addAll(ExpressionUtil.uncombineAny(joinNode.m_whereExpr));
    return;
  }
  assert(joinNode.m_leftNode != null && joinNode.m_rightNode != null);
  analyzeOuterJoinExpressions(joinNode.m_leftNode);
  analyzeOuterJoinExpressions(joinNode.m_rightNode);
  assert(joinNode.m_joinType == JoinType.LEFT || joinNode.m_joinType == JoinType.INNER);
  ArrayList<AbstractExpression> joinList=new ArrayList<AbstractExpression>();
  ArrayList<AbstractExpression> whereList=new ArrayList<AbstractExpression>();
  joinList.addAll(ExpressionUtil.uncombineAny(joinNode.m_joinExpr));
  joinList.addAll(joinNode.m_rightNode.m_joinInnerList);
  joinList.addAll(joinNode.m_leftNode.m_joinInnerList);
  joinNode.m_rightNode.m_joinInnerList.clear();
  joinNode.m_leftNode.m_joinInnerList.clear();
  whereList.addAll(ExpressionUtil.uncombineAny(joinNode.m_whereExpr));
  whereList.addAll(joinNode.m_rightNode.m_whereInnerList);
  whereList.addAll(joinNode.m_leftNode.m_whereInnerList);
  joinNode.m_rightNode.m_whereInnerList.clear();
  joinNode.m_leftNode.m_whereInnerList.clear();
  Collection<Table> innerTables=joinNode.m_rightNode.generateTableJoinOrder();
  Collection<Table> outerTables=joinNode.m_leftNode.generateTableJoinOrder();
  classifyOuterJoinExpressions(joinList,outerTables,innerTables,joinNode.m_joinOuterList,joinNode.m_joinInnerList,joinNode.m_joinInnerOuterList);
  applyTransitiveEquivalence(joinNode.m_joinInnerList,joinNode.m_joinOuterList,joinNode.m_joinInnerOuterList);
  classifyOuterJoinExpressions(whereList,outerTables,innerTables,joinNode.m_whereOuterList,joinNode.m_whereInnerList,joinNode.m_whereInnerOuterList);
  applyTransitiveEquivalence(joinNode.m_whereInnerList,joinNode.m_whereOuterList,joinNode.m_whereInnerOuterList);
  reclassifyExpressions(joinNode);
}
