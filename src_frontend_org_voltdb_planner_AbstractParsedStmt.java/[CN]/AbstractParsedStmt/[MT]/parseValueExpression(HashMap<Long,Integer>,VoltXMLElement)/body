{
  String type=exprNode.attributes.get("type");
  String isParam=exprNode.attributes.get("isparam");
  String isPlannerGenerated=exprNode.attributes.get("isplannergenerated");
  VoltType vt=VoltType.typeFromString(type);
  int size=VoltType.MAX_VALUE_LENGTH;
  assert(vt != VoltType.VOLTTABLE);
  if ((vt != VoltType.STRING) && (vt != VoltType.VARBINARY)) {
    if (vt == VoltType.NULL)     size=0;
 else     size=vt.getLengthInBytesForFixedTypes();
  }
  boolean needParameter=(isParam != null) && (isParam.equalsIgnoreCase("true"));
  ConstantValueExpression cve=null;
  boolean needConstant=(needParameter == false) || ((isPlannerGenerated != null) && (isPlannerGenerated.equalsIgnoreCase("true")));
  if (needConstant) {
    cve=new ConstantValueExpression();
    cve.setValueType(vt);
    cve.setValueSize(size);
    if (!needParameter && vt != VoltType.NULL) {
      String valueStr=exprNode.attributes.get("value");
      cve.setValue(valueStr);
    }
  }
  if (needParameter) {
    ParameterValueExpression expr=new ParameterValueExpression();
    long id=Long.parseLong(exprNode.attributes.get("id"));
    int paramIndex=paramIndexById(paramsById,id);
    expr.setValueType(vt);
    expr.setValueSize(size);
    expr.setParameterIndex(paramIndex);
    if (needConstant) {
      expr.setOriginalValue(cve);
    }
    return expr;
  }
  return cve;
}
