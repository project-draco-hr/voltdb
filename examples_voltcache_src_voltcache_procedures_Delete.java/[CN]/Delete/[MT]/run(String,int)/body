{
  final int now=Shared.init(this,key);
  if (expires <= 0) {
    voltQueueSQL(delete,key);
    if (voltExecuteSQL()[0].fetchRow(0).getLong(0) == 0)     return VoltCacheResult.NOT_FOUND.Code;
    return VoltCacheResult.DELETED.Code;
  }
 else {
    voltQueueSQL(check,key,now);
    VoltTable[] checkResult=voltExecuteSQL();
    if (checkResult[0].getRowCount() == 0)     return VoltCacheResult.NOT_FOUND.Code;
    voltQueueSQL(update,Shared.expires(this,expires),key);
    voltExecuteSQL(true);
    return VoltCacheResult.DELETED.Code;
  }
}
