{
  RepairLog rl=new RepairLog();
  VoltMessage m1=truncFragMsg(0L,1L);
  rl.deliver(m1);
  assertEquals(2,rl.contents(1L,false).size());
  VoltMessage m2=truncFragMsg(0L,2L);
  rl.deliver(m2);
  assertEquals(3,rl.contents(1L,false).size());
  VoltMessage m2b=truncFragMsg(0L,2L);
  rl.deliver(m2b);
  assertEquals(3,rl.contents(1L,false).size());
  VoltMessage m3=truncFragMsg(1L,3L);
  rl.deliver(m3);
  assertEquals(3,rl.contents(1L,false).size());
  assertEquals(m2,rl.contents(1L,false).get(1).getPayload());
  assertEquals(2L,rl.contents(1L,false).get(1).getTxnId());
  assertEquals(m3,rl.contents(1L,false).get(2).getPayload());
  assertEquals(3L,rl.contents(1L,false).get(2).getTxnId());
}
