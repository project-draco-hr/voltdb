{
  RepairLog dut=new RepairLog();
  dut.deliver(truncInitMsg(Long.MIN_VALUE,0));
  long start=System.currentTimeMillis();
  for (int i=0; i < 100000; i++) {
    VoltMessage msg=truncInitMsg(i,i + 1);
    dut.deliver(msg);
  }
  long end=System.currentTimeMillis();
  long duration1=end - start;
  System.out.println("Time to deliver 100,000 SPs: " + duration1);
  dut=new RepairLog();
  dut.deliver(truncInitMsg(Long.MIN_VALUE,0));
  for (int i=0; i < 40000; i++) {
    dut.deliver(truncCompleteMsg(Long.MIN_VALUE,i));
  }
  start=System.currentTimeMillis();
  for (int i=0; i < 100000; i++) {
    VoltMessage msg=truncInitMsg(i,i + 1);
    dut.deliver(msg);
  }
  end=System.currentTimeMillis();
  long duration2=end - start;
  System.out.println("Time to deliver 100,000 SPs: " + duration2);
  if (duration2 > duration1) {
    long delta=Math.abs(duration2 - duration1);
    float deltaPercent=delta / (float)duration1;
    assertTrue("SP deliver performance with stored MP logs exceeds allowed hit of 20%, was: " + (deltaPercent * 100) + "%.",deltaPercent < .20);
  }
}
