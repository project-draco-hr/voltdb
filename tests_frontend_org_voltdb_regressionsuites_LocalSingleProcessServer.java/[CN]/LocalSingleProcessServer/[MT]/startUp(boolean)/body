{
  if (clearLocalDataDirectories) {
    File exportOverflow=new File(m_pathToVoltRoot,"export_overflow");
    if (exportOverflow.exists()) {
      assert(exportOverflow.isDirectory());
      for (      File f : exportOverflow.listFiles()) {
        if (f.isFile() && f.getName().endsWith(".pbd") || f.getName().endsWith(".ad")) {
          f.delete();
        }
      }
    }
  }
  Configuration config=new Configuration();
  config.m_backend=m_target;
  config.m_noLoadLibVOLTDB=(m_target == BackendTarget.HSQLDB_BACKEND);
  config.m_pathToCatalog=m_jarFileName;
  config.m_pathToDeployment=m_pathToDeployment;
  config.m_startAction=START_ACTION.CREATE;
  String iv2=System.getenv().get("VOLT_ENABLEIV2");
  System.out.println("LOCALSINGLEPROCESS ENABLE IV2: " + iv2);
  if (iv2 != null && iv2.equals("true")) {
    config.m_enableIV2=true;
  }
  config.m_ipcPorts=java.util.Collections.synchronizedList(new ArrayList<Integer>());
  for (int ii=0; ii < m_siteCount; ii++) {
    m_siteProcesses.add(new EEProcess(m_target,"LocalSingleProcessServer_site_" + ii + ".log"));
  }
  for (  EEProcess proc : m_siteProcesses) {
    config.m_ipcPorts.add(proc.port());
  }
  m_server=new ServerThread(config);
  m_server.start();
  m_server.waitForInitialization();
}
