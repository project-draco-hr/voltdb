{
  if (args.length != 5) {
    System.err.println("usage: [username] [password] [web server port] [hashtag count] " + "[server list (comma seperated)]");
    System.exit(-1);
  }
  String username=args[0];
  String password=args[1];
  int port=Integer.parseInt(args[2]);
  int limit=Integer.parseInt(args[3]);
  String commaSeparatedServers=args[4];
  List<String> servers=new LinkedList<String>();
  String[] commaSeparatedServersParts=commaSeparatedServers.split(",");
  for (  String server : commaSeparatedServersParts) {
    servers.add(server.trim());
  }
  try {
    new TwitterFactory().getInstance(username,password).verifyCredentials();
  }
 catch (  TwitterException e) {
    System.err.println("Could not verify Twitter credentials");
    System.exit(-1);
  }
  new TwitterStreamFactory(new TrendsListener(servers)).getInstance(username,password).sample();
  new WebServer(servers,port,limit).start();
}
