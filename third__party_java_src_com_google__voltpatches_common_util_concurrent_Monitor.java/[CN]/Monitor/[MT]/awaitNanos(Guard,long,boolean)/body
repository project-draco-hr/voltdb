{
  if (signalBeforeWaiting) {
    signalNextWaiter();
  }
  beginWaitingFor(guard);
  try {
    do {
      if (nanos < 0L) {
        return false;
      }
      nanos=guard.condition.awaitNanos(nanos);
    }
 while (!guard.isSatisfied());
    return true;
  }
  finally {
    endWaitingFor(guard);
  }
}
