{
  String valArray[]=null;
  if (s == null) {
    throw new IllegalArgumentException();
  }
  Hashtable ht=new Hashtable();
  StringBuffer sb=new StringBuffer();
  StringTokenizer st=new StringTokenizer(s,"&");
  while (st.hasMoreTokens()) {
    String pair=st.nextToken();
    int pos=pair.indexOf('=');
    if (pos == -1) {
      throw new IllegalArgumentException();
    }
    String key=parseName(pair.substring(0,pos),sb);
    String val=parseName(pair.substring(pos + 1,pair.length()),sb);
    if (ht.containsKey(key)) {
      String oldVals[]=(String[])ht.get(key);
      valArray=new String[oldVals.length + 1];
      for (int i=0; i < oldVals.length; i++)       valArray[i]=oldVals[i];
      valArray[oldVals.length]=val;
    }
 else {
      valArray=new String[1];
      valArray[0]=val;
    }
    ht.put(key,valArray);
  }
  return ht;
}
