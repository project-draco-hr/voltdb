{
  File subroot=null;
  if (clearLocalDataDirectories) {
    try {
      subroot=VoltFile.initNewSubrootForThisProcess();
      m_subRoots.add(subroot);
    }
 catch (    IOException e) {
      throw new RuntimeException(e);
    }
  }
 else {
    subroot=m_subRoots.get(0);
  }
  CommandLine cmdln=(templateCmdLine.makeCopy());
  cmdln.internalPort(portGenerator.next());
  cmdln.voltFilePrefix(subroot.getPath());
  cmdln.internalPort(portGenerator.next());
  cmdln.port(portGenerator.nextClient());
  cmdln.adminPort(portGenerator.nextAdmin());
  cmdln.zkport(portGenerator.next());
  cmdln.drAgentStartPort(portGenerator.next());
  portGenerator.next();
  portGenerator.next();
  if (m_target == BackendTarget.NATIVE_EE_VALGRIND_IPC) {
    EEProcess proc=m_eeProcs.get(0);
    assert(proc != null);
    cmdln.m_ipcPort=proc.port();
  }
  if (m_target == BackendTarget.NATIVE_EE_IPC) {
    cmdln.m_ipcPort=portGenerator.next();
  }
  m_cluster.add(null);
  m_pipes.add(null);
  m_cmdLines.add(cmdln);
  m_localServer=new ServerThread(cmdln);
  m_localServer.start();
}
