{
synchronized (ptf) {
    if (logtime)     System.out.println("********** pre witness: " + (System.currentTimeMillis() - startTime) + " ms");
    while (ptf.m_witnessedReady.get() != true) {
      if (ptf.m_eof.get())       break;
      if (isProcessDead(ptf.getProcess()))       break;
      try {
        ptf.wait(1000);
      }
 catch (      InterruptedException ex) {
        log.error(ex.toString(),ex);
      }
    }
  }
  if (ptf.m_witnessedReady.get()) {
    long finish=System.currentTimeMillis();
    log.info("Took " + (finish - start) + " milliseconds, time from init was "+ (finish - ptf.m_initTime));
    return true;
  }
 else {
    log.info("Recovering process exited before recovery completed");
    try {
      silentShutdownSingleHost(hostId,true);
    }
 catch (    InterruptedException e) {
      e.printStackTrace();
    }
    return false;
  }
}
