{
  try {
    AppHelper apph=new AppHelper(MemcachedInterfaceServer.class.getCanonicalName()).add("mport","memcached_port_number","Port against which the interface will listen for connection of Memcache clients.",11211).add("vservers","comma_separated_voltdb_server_list","List of VoltDB servers to connect to.","localhost").add("vport","voltdb_port_number","Client port to connect to on VoltDB nodes.",21212).setArguments(args);
    String vservers=apph.stringValue("vservers");
    int vport=apph.intValue("vport");
    int mport=apph.intValue("mport");
    apph.printActualUsage();
    final ServerSocket socket=new ServerSocket(mport);
    try {
      for (; ; )       (new Thread(new MemcachedTextProtocolService(socket.accept(),vservers,vport))).start();
    }
 catch (    Exception x) {
      System.out.println("Exception encountered on accept. Shutting Down.");
      x.printStackTrace();
    }
 finally {
      try {
        socket.close();
      }
 catch (      Exception cx) {
      }
    }
  }
 catch (  Exception x) {
    System.out.println("Could not initialize Memcache Interface Server.");
    x.printStackTrace();
    System.exit(-1);
  }
}
