{
  final String withCustomExport="<?xml version='1.0' encoding='UTF-8' standalone='no'?>" + "<deployment>" + "<cluster hostcount='3' kfactor='1' sitesperhost='2'/>"+ "       <export enabled='true' >"+ "       <onserver exportto='custom' exportconnectorclass=\"com.foo.export.ExportClient\"  >"+ "            <configuration>"+ "                <property name=\"foo\">false</property>"+ "                <property name=\"type\">CSV</property>"+ "                <property name=\"with-schema\">false</property>"+ "            </configuration>"+ "        </onserver>"+ "        </export>"+ "</deployment>";
  final File tmpDisabled=VoltProjectBuilder.writeStringToTempFile(withCustomExport);
  long crc=CatalogUtil.compileDeploymentAndGetCRC(catalog,tmpDisabled.getPath(),true);
  assertTrue("Deployment file failed to parse",crc != -1);
  DeploymentType deployment=CatalogUtil.getDeployment(new FileInputStream(tmpDisabled));
  ExportType export=deployment.getExport();
  assertTrue(export.isEnabled());
  ExportOnServerType onserver=export.getOnserver();
  assertEquals(onserver.getExportto(),onserver.getExportto().CUSTOM);
  assertEquals(onserver.getExportconnectorclass(),"com.foo.export.ExportClient");
  assertTrue(onserver.getConfiguration().getProperty().size() == 3);
}
