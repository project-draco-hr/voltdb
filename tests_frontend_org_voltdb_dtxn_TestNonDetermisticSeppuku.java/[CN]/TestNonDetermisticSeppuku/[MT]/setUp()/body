{
  try {
    VoltProjectBuilder builder=new VoltProjectBuilder();
    builder.addLiteralSchema(SCHEMA);
    builder.addPartitionInfo("kv","key");
    builder.addProcedures(NonDeterministicSPProc.class,NonDeterministic_RO_MP.class,NonDeterministic_RO_SP.class,Deterministic_RO_SP.class);
    cluster=new LocalCluster("det1.jar",1,2,1,BackendTarget.NATIVE_EE_JNI);
    cluster.overrideAnyRequestForValgrind();
    assertTrue("Catalog compilation failed",cluster.compile(builder));
    cluster.setHasLocalServer(false);
    client=ClientFactory.createClient();
    cluster.startUp();
    for (    String s : cluster.getListenerAddresses()) {
      client.createConnection(s);
    }
  }
 catch (  Exception e) {
    e.printStackTrace();
    fail();
  }
}
