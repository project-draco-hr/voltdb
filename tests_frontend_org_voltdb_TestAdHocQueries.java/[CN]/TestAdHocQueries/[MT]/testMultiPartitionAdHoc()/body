{
  VoltProjectBuilder builder=getSimpleBuilder();
  LocalCluster cluster=new LocalCluster(m_catalogJar,2,2,1,BackendTarget.NATIVE_EE_JNI,LocalCluster.FailureState.ALL_RUNNING,false,false);
  cluster.setMaxHeap(256);
  boolean success=cluster.compile(builder);
  assert(success);
  MiscUtils.copyFile(builder.getPathToDeployment(),m_pathToDeployment);
  cluster.setHasLocalServer(false);
  cluster.startUp();
  Client client=null;
  try {
    client=ClientFactory.createClient();
    client.createConnection("localhost",cluster.port(1));
    runSimpleQueries(client);
  }
 catch (  Throwable t) {
    t.printStackTrace();
  }
 finally {
    if (client != null)     client.close();
    client=null;
    if (cluster != null) {
      cluster.shutDown();
    }
    cluster=null;
    System.gc();
  }
}
