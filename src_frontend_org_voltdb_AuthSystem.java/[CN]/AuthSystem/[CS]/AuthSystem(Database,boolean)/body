{
  m_enabled=enabled;
  if (!m_enabled) {
    return;
  }
  for (  org.voltdb.catalog.User catalogUser : db.getUsers()) {
    String shadowPassword=catalogUser.getShadowpassword();
    byte sha1ShadowPassword[]=null;
    if (shadowPassword.length() == 40) {
      sha1ShadowPassword=Encoder.hexDecode(shadowPassword);
    }
 else     if (shadowPassword.length() != 60) {
      VoltDB.crashGlobalVoltDB("Found a shadowPassword in the catalog that was in an unrecogized format",true,null);
    }
    final AuthUser user=new AuthUser(sha1ShadowPassword,shadowPassword,catalogUser.getTypeName(),catalogUser.getSysproc(),catalogUser.getDefaultproc(),catalogUser.getAdhoc());
    m_users.put(user.m_name.intern(),user);
    for (    org.voltdb.catalog.GroupRef catalogGroupRef : catalogUser.getGroups()) {
      final org.voltdb.catalog.Group catalogGroup=catalogGroupRef.getGroup();
      AuthGroup group=null;
      if (!m_groups.containsKey(catalogGroup.getTypeName())) {
        group=new AuthGroup(catalogGroup.getTypeName(),catalogGroup.getSysproc(),catalogGroup.getDefaultproc(),catalogGroup.getAdhoc());
        m_groups.put(group.m_name,group);
      }
 else {
        group=m_groups.get(catalogGroup.getTypeName());
      }
      group.m_users.add(user);
      user.m_groups.add(group);
    }
  }
  for (  org.voltdb.catalog.Group catalogGroup : db.getGroups()) {
    AuthGroup group=null;
    if (!m_groups.containsKey(catalogGroup.getTypeName())) {
      group=new AuthGroup(catalogGroup.getTypeName(),catalogGroup.getSysproc(),catalogGroup.getDefaultproc(),catalogGroup.getAdhoc());
      m_groups.put(group.m_name,group);
    }
 else {
      group=m_groups.get(catalogGroup.getTypeName());
    }
  }
  for (  org.voltdb.catalog.Procedure catalogProcedure : db.getProcedures()) {
    for (    org.voltdb.catalog.UserRef catalogUserRef : catalogProcedure.getAuthusers()) {
      final org.voltdb.catalog.User catalogUser=catalogUserRef.getUser();
      final AuthUser user=m_users.get(catalogUser.getTypeName());
      if (user == null) {
      }
 else {
        user.m_authorizedProcedures.add(catalogProcedure);
      }
    }
    for (    org.voltdb.catalog.GroupRef catalogGroupRef : catalogProcedure.getAuthgroups()) {
      final org.voltdb.catalog.Group catalogGroup=catalogGroupRef.getGroup();
      final AuthGroup group=m_groups.get(catalogGroup.getTypeName());
      if (group == null) {
      }
 else {
        for (        AuthUser user : group.m_users) {
          user.m_authorizedProcedures.add(catalogProcedure);
        }
      }
    }
  }
  for (  org.voltdb.catalog.Connector connector : db.getConnectors()) {
    for (    org.voltdb.catalog.UserRef userRef : connector.getAuthusers()) {
      final org.voltdb.catalog.User catalogUser=userRef.getUser();
      final AuthUser user=m_users.get(catalogUser.getTypeName());
      if (user == null) {
      }
 else {
        user.m_authorizedConnectors.add(connector);
      }
    }
    for (    org.voltdb.catalog.GroupRef catalogGroupRef : connector.getAuthgroups()) {
      final org.voltdb.catalog.Group catalogGroup=catalogGroupRef.getGroup();
      final AuthGroup group=m_groups.get(catalogGroup.getTypeName());
      if (group == null) {
      }
 else {
        for (        AuthUser user : group.m_users) {
          user.m_authorizedConnectors.add(connector);
        }
      }
    }
  }
}
