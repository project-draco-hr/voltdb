{
  VoltServerConfig config=null;
  MultiConfigSuiteBuilder builder=new MultiConfigSuiteBuilder(TestJoinsSuite.class);
  VoltProjectBuilder project=new VoltProjectBuilder();
  project.addSchema(TestJoinsSuite.class.getResource("testjoins-ddl.sql"));
  project.addStmtProcedure("InsertR1","INSERT INTO R1 VALUES(?, ?, ?);");
  project.addStmtProcedure("InsertR2","INSERT INTO R2 VALUES(?, ?);");
  project.addStmtProcedure("InsertR3","INSERT INTO R3 VALUES(?, ?);");
  project.addStmtProcedure("InsertP1","INSERT INTO P1 VALUES(?, ?);");
  project.addStmtProcedure("InsertP2","INSERT INTO P2 VALUES(?, ?);");
  project.addStmtProcedure("InsertP3","INSERT INTO P3 VALUES(?, ?);");
  config=new LocalCluster("testjoin-onesite.jar",1,1,0,BackendTarget.NATIVE_EE_JNI);
  if (!config.compile(project))   fail();
  builder.addServerConfig(config);
  config=new LocalCluster("testjoin-cluster.jar",2,3,1,BackendTarget.NATIVE_EE_JNI);
  if (!config.compile(project))   fail();
  builder.addServerConfig(config);
  config=new LocalCluster("testjoin-cluster.jar",1,1,0,BackendTarget.HSQLDB_BACKEND);
  if (!config.compile(project))   fail();
  builder.addServerConfig(config);
  return builder;
}
