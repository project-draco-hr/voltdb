{
synchronized (m_batchLock) {
    m_decoders.remove(decoder);
    if ((end != null) && (m_decoders.size() == 0)) {
      closeAllWriters();
    }
  }
}
