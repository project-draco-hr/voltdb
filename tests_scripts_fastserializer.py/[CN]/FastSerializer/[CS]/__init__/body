def __init__(self, host=None, port=None, username=None, password=None):
    self.wbuf = array.array('c')
    self.rbuf = ''
    self.host = host
    self.port = port
    self.socket = None
    if ((self.host != None) and (self.port != None)):
        self.socket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
        self.socket.setblocking(1)
        self.socket.setsockopt(socket.SOL_TCP, socket.TCP_NODELAY, 1)
        self.socket.connect((self.host, self.port))
    self.inputBOM = self.BIG_ENDIAN
    self.localBOM = self.LITTLE_ENDIAN
    self.READER = {self.VOLTTYPE_NULL: self.readNull, self.VOLTTYPE_TINYINT: self.readByte, self.VOLTTYPE_SMALLINT: self.readInt16, self.VOLTTYPE_INTEGER: self.readInt32, self.VOLTTYPE_BIGINT: self.readInt64, self.VOLTTYPE_FLOAT: self.readFloat64, self.VOLTTYPE_STRING: self.readString, self.VOLTTYPE_TIMESTAMP: self.readDate, self.VOLTTYPE_DECIMAL: self.readDecimal, self.VOLTTYPE_DECIMAL_STRING: self.readDecimalString, }
    self.WRITER = {self.VOLTTYPE_NULL: self.writeNull, self.VOLTTYPE_TINYINT: self.writeByte, self.VOLTTYPE_SMALLINT: self.writeInt16, self.VOLTTYPE_INTEGER: self.writeInt32, self.VOLTTYPE_BIGINT: self.writeInt64, self.VOLTTYPE_FLOAT: self.writeFloat64, self.VOLTTYPE_STRING: self.writeString, self.VOLTTYPE_TIMESTAMP: self.writeDate, self.VOLTTYPE_DECIMAL: self.writeDecimal, self.VOLTTYPE_DECIMAL_STRING: self.writeDecimalString, }
    self.ARRAY_READER = {self.VOLTTYPE_TINYINT: self.readByteArray, self.VOLTTYPE_SMALLINT: self.readInt16Array, self.VOLTTYPE_INTEGER: self.readInt32Array, self.VOLTTYPE_BIGINT: self.readInt64Array, self.VOLTTYPE_FLOAT: self.readFloat64Array, self.VOLTTYPE_STRING: self.readStringArray, self.VOLTTYPE_TIMESTAMP: self.readDateArray, self.VOLTTYPE_DECIMAL: self.readDecimalArray, self.VOLTTYPE_DECIMAL_STRING: self.readDecimalStringArray, }
    self.__compileStructs()
    self.NULL_DECIMAL_INDICATOR = self.__intToBytes(self.__class__.NULL_DECIMAL_INDICATOR, 0)
    if ((username != None) and (password != None)):
        self.authenticate(username, password)
