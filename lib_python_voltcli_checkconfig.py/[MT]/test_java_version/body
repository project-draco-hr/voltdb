def test_java_version(output):
    javaVersion = subprocess.Popen("java -version 2>&1 | grep 'java '", stdout=subprocess.PIPE, shell=True).stdout.read()
    javacVersion = subprocess.Popen('javac -version 2>&1', stdout=subprocess.PIPE, shell=True).stdout.read()
    if (('1.7.' in javaVersion) or ('1.8.' in javaVersion)):
        if ('1.7.' in javacVersion):
            output['Java'] = ['PASS', ((javaVersion.strip() + ' ') + javacVersion.strip())]
        elif ('1.8.' in javacVersion):
            output['Java'] = ['FAIL', ('VoltDB can not be compiled with Java8, ' + javacVersion)]
        else:
            output['Java'] = ['FAIL', ('Unsupported Javac version detected, ' + javacVersion)]
    else:
        output['Java'] = ['FAIL', 'Please check if Java has been installed properly.']
