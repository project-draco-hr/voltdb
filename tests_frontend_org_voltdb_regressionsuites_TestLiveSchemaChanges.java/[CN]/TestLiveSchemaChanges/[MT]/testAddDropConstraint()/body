{
  Client client=getClient();
  loadSomeData(client,"P1",0,10);
  client.drain();
  assertTrue(callbackSuccess);
  String newCatalogURL=Configuration.getPathToCatalogForTest("liveschema-dropconstraint.jar");
  VoltTable[] results=client.updateApplicationCatalog(new File(newCatalogURL),new File(m_globalDeploymentURL)).getResults();
  assertTrue(results.length == 1);
  loadSomeData(client,"P1",10,2000);
  client.drain();
  assertTrue(callbackSuccess);
  newCatalogURL=Configuration.getPathToCatalogForTest("liveschema-addconstraint.jar");
  results=client.updateApplicationCatalog(new File(newCatalogURL),new File(m_globalDeploymentURL)).getResults();
  assertTrue(results.length == 1);
  loadSomeData(client,"P1",2010,100);
  client.drain();
  assertTrue(callbackSuccess);
  newCatalogURL=Configuration.getPathToCatalogForTest("liveschema-base.jar");
  try {
    client.updateApplicationCatalog(new File(newCatalogURL),new File(m_globalDeploymentURL));
    fail();
  }
 catch (  Exception e) {
  }
}
