{
  Client client=getClient();
  loadSomeData(client,"P1",0,10);
  client.drain();
  assertTrue(callbackSuccess);
  long tupleCount=TestCatalogUpdateSuite.indexEntryCountFromStats(client,"P1","RLTY");
  assertTrue(tupleCount > 0);
  String newCatalogURL=Configuration.getPathToCatalogForTest("liveschema-renamedindex.jar");
  VoltTable[] results=client.updateApplicationCatalog(new File(newCatalogURL),new File(m_globalDeploymentURL)).getResults();
  assertTrue(results.length == 1);
  long newTupleCount=TestCatalogUpdateSuite.indexEntryCountFromStats(client,"P1","RLTYX");
  assertTrue(tupleCount > 0);
  assertEquals(newTupleCount,tupleCount);
  loadSomeData(client,"P1",10,2000);
  client.drain();
  assertTrue(callbackSuccess);
  newCatalogURL=Configuration.getPathToCatalogForTest("liveschema-base.jar");
  results=client.updateApplicationCatalog(new File(newCatalogURL),new File(m_globalDeploymentURL)).getResults();
  assertTrue(results.length == 1);
  loadSomeData(client,"P1",2010,100);
  client.drain();
  assertTrue(callbackSuccess);
}
