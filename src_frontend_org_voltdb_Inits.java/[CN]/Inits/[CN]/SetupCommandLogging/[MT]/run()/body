{
  boolean logEnabled=false;
  if ((m_deployment.getCommandlog() != null) && (m_deployment.getCommandlog().isEnabled())) {
    logEnabled=true;
  }
  if (logEnabled) {
    if (!m_config.m_isEnterprise) {
      hostLog.warn("Command logging requested in deployment file but can't be enabled in Community Edition.");
    }
 else {
      try {
        Class<?> loggerClass=MiscUtils.loadProClass("org.voltdb.CommandLogImpl","Command logging",false);
        if (loggerClass != null) {
          m_rvdb.m_commandLog=(CommandLog)loggerClass.newInstance();
        }
      }
 catch (      InstantiationException e) {
        VoltDB.crashLocalVoltDB("Unable to instantiate command log",true,e);
      }
catch (      IllegalAccessException e) {
        VoltDB.crashLocalVoltDB("Unable to instantiate command log",true,e);
      }
    }
  }
}
