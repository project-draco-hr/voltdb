{
  int httpPort=-1;
  m_rvdb.m_jsonEnabled=false;
  if ((m_deployment.getHttpd() != null) && (m_deployment.getHttpd().isEnabled())) {
    httpPort=m_deployment.getHttpd().getPort();
    if (m_deployment.getHttpd().getJsonapi() != null) {
      m_rvdb.m_jsonEnabled=m_deployment.getHttpd().getJsonapi().isEnabled();
    }
  }
  if (m_config.m_httpPort != VoltDB.PORT_DISABLED) {
    setupHttpServer(m_config.m_httpPortInterface,m_config.m_httpPort,false,true);
  }
 else   if (httpPort == VoltDB.PORT_AUTO) {
    httpPort=VoltDB.DEFAULT_HTTP_PORT;
    setupHttpServer("",httpPort,true,false);
  }
 else   if (httpPort != VoltDB.PORT_DISABLED) {
    if (!m_deployment.getHttpd().isEnabled()) {
      return;
    }
    setupHttpServer("",httpPort,false,true);
  }
}
