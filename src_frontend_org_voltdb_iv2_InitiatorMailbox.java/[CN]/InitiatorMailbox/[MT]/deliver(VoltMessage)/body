{
  if (message instanceof InitiateTaskMessage) {
    ProcedureTask task=new ProcedureTask(this,runner,(InitiateTaskMessage)message);
    scheduler.offer(task);
  }
 else   if (message instanceof InitiateResponseMessage) {
    InitiateResponseMessage response=(InitiateResponseMessage)message;
    Pair<Long,InitiateResponseMessage> nextResponse=role.offerResponse(response);
    if (nextResponse != null) {
      try {
        send(nextResponse.getFirst(),nextResponse.getSecond());
      }
 catch (      MessagingException e) {
        hostLog.error("Failed to deliver response from execution site.",e);
      }
    }
  }
}
