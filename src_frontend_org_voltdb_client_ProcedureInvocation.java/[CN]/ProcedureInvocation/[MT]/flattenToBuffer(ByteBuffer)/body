{
  buf.put(m_type.getValue());
  if (ProcedureInvocationType.isDeprecatedInternalDRType(m_type)) {
    buf.putLong(m_originalTxnId);
    buf.putLong(m_originalUniqueId);
  }
  if (m_type.getValue() >= BatchTimeoutOverrideType.BATCH_TIMEOUT_VERSION) {
    if (m_batchTimeout == BatchTimeoutOverrideType.NO_TIMEOUT) {
      buf.put(BatchTimeoutOverrideType.NO_OVERRIDE_FOR_BATCH_TIMEOUT.getValue());
    }
 else {
      buf.put(BatchTimeoutOverrideType.HAS_OVERRIDE_FOR_BATCH_TIMEOUT.getValue());
      buf.putInt(m_batchTimeout);
    }
  }
  SerializationHelper.writeVarbinary(m_procNameBytes,buf);
  buf.putLong(m_clientHandle);
  m_parameters.flattenToBuffer(buf);
  return buf;
}
