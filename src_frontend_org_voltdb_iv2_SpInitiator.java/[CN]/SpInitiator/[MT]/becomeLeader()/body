{
  try {
    m_scheduler.setLeaderState(true);
    MapCacheWriter iv2masters=new MapCache(m_messenger.getZK(),VoltZK.iv2masters);
    m_babySitter=new BabySitter(m_messenger.getZK(),LeaderElector.electionDirForPartition(m_partitionId),m_replicasChangeHandler);
    hostLog.info("Registering " + m_partitionId + " as new master.");
    iv2masters.put(Integer.toString(m_partitionId),new JSONObject("{hsid:" + m_initiatorMailbox.getHSId() + "}"));
  }
 catch (  Exception e) {
    VoltDB.crashLocalVoltDB("Bad news.",true,e);
  }
}
