{
  deserializer.clear();
  ELTProtoMessage result=null;
  try {
    long offset=nativeELTAction(pointer,ackAction,pollAction,ackTxnId,tableId);
    if (offset < 0) {
      result=new ELTProtoMessage(partitionId,tableId);
      result.error();
    }
 else     if (pollAction) {
      ByteBuffer b;
      int byteLen=deserializer.readInt();
      if (byteLen < 0) {
        throw new IOException("Invalid length in ELT poll response results.");
      }
      deserializer.buffer().position(0);
      b=deserializer.readBuffer(byteLen + 4);
      result=new ELTProtoMessage(partitionId,tableId);
      result.pollResponse(offset,b);
    }
  }
 catch (  IOException e) {
    throw new RuntimeException(e);
  }
  return result;
}
