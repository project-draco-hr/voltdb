{
  System.out.println("testExportAndDroppedTableThenShutdown");
  Client client=getClient();
  for (int i=0; i < 10; i++) {
    final Object[] rowdata=TestSQLTypesSuite.m_midValues;
    m_tester.addRow(m_tester.m_generationsSeen.first(),"NO_NULLS",i,convertValsToRow(i,'I',rowdata));
    final Object[] params=convertValsToParams("NO_NULLS",i,rowdata);
    client.callProcedure("Insert",params);
  }
  final String newCatalogURL=Configuration.getPathToCatalogForTest("export-ddl-sans-nonulls.jar");
  final String deploymentURL=Configuration.getPathToCatalogForTest("export-ddl-sans-nonulls.xml");
  final ClientResponse callProcedure=client.updateApplicationCatalog(new File(newCatalogURL),new File(deploymentURL));
  assertTrue(callProcedure.getStatus() == ClientResponse.SUCCESS);
  quiesce(client);
  m_config.shutDown();
  m_config.startUp(false);
  client=getClient();
  for (int ii=0; m_tester.m_generationsSeen.size() < 3 || m_tester.m_verifiers.get(m_tester.m_generationsSeen.last()).size() < 6; ii++) {
    Thread.sleep(500);
    boolean threwException=false;
    try {
      m_tester.work(1000);
    }
 catch (    ExportClientException e) {
      boolean success=reconnect(m_tester);
      assertTrue(success);
      System.out.println(e.toString());
      threwException=true;
    }
    if (ii < 3) {
      assertTrue(threwException);
    }
  }
  for (int i=10; i < 20; i++) {
    final Object[] rowdata=TestSQLTypesSuite.m_midValues;
    m_tester.addRow(m_tester.m_generationsSeen.last(),"NO_NULLS",i,convertValsToRow(i,'I',rowdata));
    final Object[] params=convertValsToParams("NO_NULLS",i,rowdata);
    client.callProcedure("Insert",params);
  }
  client.drain();
  quiesceAndVerifyRetryWorkOnIOException(client,m_tester);
}
