import sys
import cmd
import socket
from datetime import datetime
from fastserializer import *
if (__name__ == '__main__'):
    if (len(sys.argv) < 3):
        help(sys.argv[0])
        exit((-1))
    try:
        command = VoltQueryClient(sys.argv[1], int(sys.argv[2]))
    except socket.error:
        sys.stderr.write(('Error connecting to the server %s\n' % sys.argv[1]))
        exit((-1))
    if (len(sys.argv) > 3):
        command.onecmd(' '.join(sys.argv[3:]))
    else:
        command.cmdloop('VoltDB Query Client')
