{
  assert setProperly;
  out.writeByte(0);
  out.write(status);
  if (ProcedureCallback.measureLatency) {
    out.writeLong(clientQueueTime);
    out.writeLong(CIAcceptTime);
    out.writeLong(FHReceiveTime);
    out.writeLong(FHResponseTime);
    out.writeLong(initiatorReceiveTime);
  }
  if (m_exception != null) {
    final ByteBuffer b=ByteBuffer.allocate(m_exception.getSerializedSize());
    m_exception.serializeToBuffer(b);
    out.write(b.array());
  }
 else {
    out.writeShort(0);
  }
  out.writeArray(results);
  out.writeString(extra);
  out.writeLong(clientHandle);
}
