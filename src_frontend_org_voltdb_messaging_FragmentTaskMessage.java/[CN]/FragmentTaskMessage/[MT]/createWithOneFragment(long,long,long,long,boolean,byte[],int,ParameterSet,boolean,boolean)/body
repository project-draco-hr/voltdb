{
  ByteBuffer parambytes=null;
  if (params != null) {
    FastSerializer fs=new FastSerializer();
    try {
      params.writeExternal(fs);
    }
 catch (    IOException e) {
      e.printStackTrace();
      assert(false);
    }
    parambytes=fs.getBuffer();
  }
  FragmentTaskMessage ret=new FragmentTaskMessage(initiatorHSId,coordinatorHSId,txnId,uniqueId,isReadOnly,isFinal,isForReplay);
  ret.addFragment(planHash,outputDepId,parambytes);
  return ret;
}
