{
  int bufsize=8096;
  int bufsize2=80480;
  DBBPool p1=new DBBPool();
  assertEquals(0,p1.bytesLoanedLocally());
  ArrayList<DBBPool.BBContainer> list=new ArrayList<DBBPool.BBContainer>();
  for (int i=1; i <= 500; ++i) {
    p1.acquire(bufsize2).discard();
  }
  for (int i=1; i <= 500; ++i) {
    list.add(p1.acquire(bufsize));
    assertTrue(bufsize * i <= p1.bytesLoanedLocally());
  }
  for (  DBBPool.BBContainer c : list) {
    assertTrue(bufsize <= c.b.capacity());
    long loaned=p1.bytesLoanedLocally();
    c.discard();
    c=null;
    assertTrue(loaned >= p1.bytesLoanedLocally() + bufsize);
  }
  assertEquals(0,p1.bytesLoanedLocally());
  p1.clear();
}
