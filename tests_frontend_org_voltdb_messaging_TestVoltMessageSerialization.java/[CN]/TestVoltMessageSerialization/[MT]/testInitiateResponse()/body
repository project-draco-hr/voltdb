{
  DBBPool pool=new DBBPool();
  StoredProcedureInvocation spi=new StoredProcedureInvocation();
  spi.setClientHandle(25);
  spi.setProcName("elmerfudd");
  spi.setParams(57,"wrascallywabbit");
  InitiateTask itask=new InitiateTask(23,8,100045,true,false,spi,Long.MAX_VALUE);
  itask.setNonCoordinatorSites(new int[]{5,2003});
  VoltTable table=new VoltTable(new VoltTable.ColumnInfo("foobar",VoltType.STRING));
  table.addRow("howmanylicksdoesittaketogettothecenterofatootsiepop");
  InitiateResponse iresponse=new InitiateResponse(itask);
  iresponse.setResults(new ClientResponseImpl(ClientResponseImpl.GRACEFUL_FAILURE,new VoltTable[]{table},"knockknockbananna",new EEException(1)));
  iresponse.setClientHandle(99);
  InitiateResponse iresponse2=(InitiateResponse)checkVoltMessage(iresponse,pool);
  assertEquals(iresponse.getTxnId(),iresponse2.getTxnId());
  iresponse.discard();
  iresponse2.discard();
  pool.clear();
}
