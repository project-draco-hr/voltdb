{
  ColumnInfo columnInfo=new ColumnInfo("intcol",VoltType.INTEGER);
  VoltTable table=new VoltTable(columnInfo);
  table.addRow(10);
  int count=Short.MAX_VALUE + 1;
  VoltTable[] results=new VoltTable[count];
  for (int i=0; i < count; i++) {
    results[i]=table;
  }
  String statusStr="Success!";
  ClientResponseImpl expected=new ClientResponseImpl(ClientResponse.SUCCESS,results,statusStr);
  assertEquals(count,expected.getResults().length);
  assertEquals(ClientResponse.SUCCESS,expected.getStatus());
  assertEquals(statusStr,expected.getStatusString());
  int size=expected.getSerializedSize();
  ByteBuffer buf=ByteBuffer.allocate(size);
  expected.flattenToBuffer(buf);
  buf.flip();
  ClientResponseImpl deserialized=new ClientResponseImpl();
  deserialized.initFromBuffer(buf);
  assertEquals(expected.getStatus(),deserialized.getStatus());
  assertEquals(expected.getStatusString(),deserialized.getStatusString());
  assertEquals(expected.getResults().length,deserialized.getResults().length);
}
