{
  checkManagedAttribute(name,value);
  Object old_value=_contextAttributes.getAttribute(name);
  if (value == null)   _contextAttributes.removeAttribute(name);
 else   _contextAttributes.setAttribute(name,value);
  if (_contextAttributeListeners != null) {
    ServletContextAttributeEvent event=new ServletContextAttributeEvent(_scontext,name,old_value == null ? value : old_value);
    for (int i=0; i < LazyList.size(_contextAttributeListeners); i++) {
      ServletContextAttributeListener l=(ServletContextAttributeListener)LazyList.get(_contextAttributeListeners,i);
      if (old_value == null)       l.attributeAdded(event);
 else       if (value == null)       l.attributeRemoved(event);
 else       l.attributeReplaced(event);
    }
  }
}
