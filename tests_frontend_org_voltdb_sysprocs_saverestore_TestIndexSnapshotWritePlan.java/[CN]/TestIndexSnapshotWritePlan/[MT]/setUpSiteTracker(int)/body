{
  pidToHSId=Maps.newHashMap();
  for (int i=1; i <= partitionCountOnNode; i++) {
    pidToHSId.put(i,i * 1000l);
  }
  tracker=mock(SiteTracker.class);
  doReturn(Longs.toArray(pidToHSId.values())).when(tracker).getLocalSites();
  for (  Map.Entry<Integer,Long> e : pidToHSId.entrySet()) {
    doReturn(e.getKey()).when(tracker).getPartitionForSite(e.getValue());
  }
}
