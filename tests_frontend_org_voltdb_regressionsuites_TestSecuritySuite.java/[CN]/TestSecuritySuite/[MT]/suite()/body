{
  VoltServerConfig config=null;
  MultiConfigSuiteBuilder builder=new MultiConfigSuiteBuilder(TestSecuritySuite.class);
  TPCCProjectBuilder project=new TPCCProjectBuilder();
  project.addDefaultSchema();
  project.addDefaultPartitioning();
  ArrayList<ProcedureInfo> procedures=new ArrayList<ProcedureInfo>();
  procedures.add(new ProcedureInfo(new String[0],PROCEDURES[0]));
  procedures.add(new ProcedureInfo(new String[]{"group1"},PROCEDURES[1]));
  procedures.add(new ProcedureInfo(new String[]{"group1","group2"},PROCEDURES[2]));
  project.addProcedures(procedures);
  UserInfo users[]=new UserInfo[]{new UserInfo("user1","password",new String[]{"group1"}),new UserInfo("user2","password",new String[]{"group2"}),new UserInfo("user3","password",new String[]{"group3"}),new UserInfo("user4","password",new String[]{"ADMINISTRATOR"}),new UserInfo("userWithDefaultUserPerm","password",new String[]{"USER"}),new UserInfo("userWithAllProc","password",new String[]{"groupWithAllProcPerm"}),new UserInfo("userWithDefaultProcPerm","password",new String[]{"groupWithDefaultProcPerm"}),new UserInfo("userWithoutDefaultProcPerm","password",new String[]{"groupWithoutDefaultProcPerm"}),new UserInfo("userWithDefaultProcReadPerm","password",new String[]{"groupWithDefaultProcReadPerm"})};
  project.addUsers(users);
  GroupInfo groups[]=new GroupInfo[]{new GroupInfo("group1",false,false,false,false,false,false),new GroupInfo("group2",true,false,false,false,false,false),new GroupInfo("group3",true,false,false,false,false,false),new GroupInfo("groupWithDefaultUserPerm",true,false,false,false,false,true),new GroupInfo("groupWithAllProcPerm",false,false,false,false,false,true),new GroupInfo("groupWithDefaultProcPerm",false,false,false,true,false,false),new GroupInfo("groupWithoutDefaultProcPerm",false,false,false,false,false,false),new GroupInfo("groupWithDefaultProcReadPerm",false,false,false,false,true,false)};
  project.addGroups(groups);
  project.setSecurityEnabled(true);
  if (MiscUtils.isPro()) {
    project.addExport(true);
  }
  config=new LocalCluster("security-onesite.jar",1,1,0,BackendTarget.NATIVE_EE_JNI);
  if (!config.compile(project))   fail();
  builder.addServerConfig(config);
  return builder;
}
