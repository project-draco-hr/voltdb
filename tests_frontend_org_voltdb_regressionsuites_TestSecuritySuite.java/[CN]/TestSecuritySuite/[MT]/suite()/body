{
  VoltServerConfig config=null;
  MultiConfigSuiteBuilder builder=new MultiConfigSuiteBuilder(TestSecuritySuite.class);
  TPCCProjectBuilder project=new TPCCProjectBuilder();
  project.addDefaultSchema();
  project.addDefaultPartitioning();
  ArrayList<ProcedureInfo> procedures=new ArrayList<ProcedureInfo>();
  procedures.add(new ProcedureInfo(new String[0],PROCEDURES[0]));
  procedures.add(new ProcedureInfo(new String[]{"group1"},PROCEDURES[1]));
  procedures.add(new ProcedureInfo(new String[]{"group1","group2"},PROCEDURES[2]));
  project.addProcedures(procedures);
  UserInfo users[]=new UserInfo[]{new UserInfo("user1","password",new String[]{"group1"}),new UserInfo("user2","password",new String[]{"group2"}),new UserInfo("user3","password",new String[]{"group3"}),new UserInfo("user4","password",new String[]{"group4"}),new UserInfo("userWithDefaultProcPerm","password",new String[]{"groupWithDefaultProcPerm"}),new UserInfo("userWithoutDefaultProcPerm","password",new String[]{"groupWithoutDefaultProcPerm"})};
  project.addUsers(users);
  GroupInfo groups[]=new GroupInfo[]{new GroupInfo("group1",false,false,false),new GroupInfo("group2",false,true,true),new GroupInfo("group3",true,false,false),new GroupInfo("group4",true,true,true),new GroupInfo("groupWithDefaultProcPerm",false,false,true),new GroupInfo("groupWithoutDefaultProcPerm",false,false,false)};
  project.addGroups(groups);
  project.setSecurityEnabled(true);
  ArrayList<String> elgroups=new ArrayList<String>();
  elgroups.add("group1");
  project.addExport("org.voltdb.export.processors.RawProcessor",true,elgroups);
  config=new LocalCluster("security-onesite.jar",1,1,0,BackendTarget.NATIVE_EE_JNI);
  if (!config.compile(project))   fail();
  builder.addServerConfig(config);
  return builder;
}
