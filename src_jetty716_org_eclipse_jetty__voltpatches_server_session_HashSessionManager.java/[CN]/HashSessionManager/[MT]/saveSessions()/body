{
  if (_storeDir == null || !_storeDir.exists()) {
    return;
  }
  if (!_storeDir.canWrite()) {
    Log.warn("Unable to save Sessions: Session persistence storage directory " + _storeDir.getAbsolutePath() + " is not writeable");
    return;
  }
synchronized (this) {
    Iterator itor=_sessions.entrySet().iterator();
    while (itor.hasNext()) {
      Map.Entry entry=(Map.Entry)itor.next();
      String id=(String)entry.getKey();
      Session session=(Session)entry.getValue();
      try {
        File file=new File(_storeDir,id);
        if (file.exists())         file.delete();
        file.createNewFile();
        FileOutputStream fos=new FileOutputStream(file);
        session.save(fos);
        fos.close();
      }
 catch (      Exception e) {
        Log.warn("Problem persisting session " + id,e);
      }
    }
  }
}
