{
  rejoinLog.trace("Discarding buffer at index " + String.valueOf(m_blockIndex));
  ListenableFuture<Boolean> future=m_future.get();
  if (future != null) {
    if (m_future.compareAndSet(future,null)) {
      future.cancel(true);
    }
    assert(m_future.get() == null);
  }
  if (m_message != null) {
    m_message.discard();
    m_message=null;
  }
  if (m_schema != null) {
    m_schema.discard();
    m_schema=null;
  }
}
