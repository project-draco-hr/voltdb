{
  m_zk=zk;
  m_registeredStateMachines=new StateMachineInstance[registeredInstances];
  m_ssmRootNode=rootNode;
  m_stateMachineRoot=ZKUtil.joinZKPath(VoltZK.syncStateMachine,rootNode);
  ByteBuffer numberOfInstances=ByteBuffer.allocate(4);
  numberOfInstances.putInt(registeredInstances);
  addIfMissing(m_stateMachineRoot,CreateMode.PERSISTENT,numberOfInstances.array());
  m_stateMachineMemberPath=ZKUtil.joinZKPath(m_stateMachineRoot,m_memberNode);
  m_memberId=memberId;
}
