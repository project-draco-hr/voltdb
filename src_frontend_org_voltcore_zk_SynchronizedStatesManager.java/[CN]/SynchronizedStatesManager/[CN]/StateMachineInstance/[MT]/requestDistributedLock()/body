{
  try {
    assert(m_ourDistributedLockName == null);
    assert(isLocalStateLocked());
    m_ourDistributedLockName=m_zk.create(ZKUtil.joinZKPath(m_lockPath,"lock_"),null,Ids.OPEN_ACL_UNSAFE,CreateMode.EPHEMERAL_SEQUENTIAL);
    m_lockWaitingOn=getNextLockNodeFromList();
    if (m_lockWaitingOn.equals(m_ourDistributedLockName) && m_currentParticipants == 0) {
      m_log.info(m_stateMachineId + ": requestLock returned successfully");
      m_lockWaitingOn=null;
      if (m_membershipChangePending) {
        getLatestMembership();
      }
      return true;
    }
  }
 catch (  KeeperException.SessionExpiredException e) {
    e.printStackTrace();
  }
catch (  KeeperException.ConnectionLossException e) {
    e.printStackTrace();
  }
catch (  InterruptedException e) {
    e.printStackTrace();
  }
catch (  Exception e) {
    org.voltdb.VoltDB.crashLocalVoltDB("Unexepected failure in StateMachine.",true,e);
  }
  return false;
}
