{
  List<String> lockRequestors=m_zk.getChildren(m_lockPath,false);
  Collections.sort(lockRequestors);
  ListIterator<String> iter=lockRequestors.listIterator();
  String currRequestor=null;
  while (iter.hasNext()) {
    currRequestor=ZKUtil.joinZKPath(m_lockPath,iter.next());
    if (currRequestor.equals(m_currlockName)) {
      break;
    }
  }
  assert(currRequestor != null);
  iter.previous();
  String nextlower=null;
  while (iter.hasPrevious()) {
    String previous=ZKUtil.joinZKPath(m_lockPath,iter.previous());
    m_lockWatcher.canceled=false;
    if (m_zk.exists(previous,m_lockWatcher) != null) {
      m_log.info("Waiting for " + previous);
      nextlower=previous;
      break;
    }
  }
  if (nextlower == null) {
    return m_currlockName;
  }
  return nextlower;
}
