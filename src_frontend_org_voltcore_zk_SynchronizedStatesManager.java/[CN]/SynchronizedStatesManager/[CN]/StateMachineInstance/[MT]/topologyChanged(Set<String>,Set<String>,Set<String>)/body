{
  lockLocalState();
  m_knownMembers=knownHosts;
  if (m_resultsSet != null && Sets.difference(m_knownMembers,m_resultsSet).isEmpty()) {
    try {
      m_barrierResultsWatcher.cancel();
      processResultQuorum(m_resultsSet);
    }
 catch (    KeeperException.SessionExpiredException e) {
      e.printStackTrace();
    }
catch (    KeeperException.ConnectionLossException e) {
      e.printStackTrace();
    }
catch (    InterruptedException e) {
      e.printStackTrace();
    }
catch (    Exception e) {
      org.voltdb.VoltDB.crashLocalVoltDB("Unexepected failure in StateMachine.",true,e);
    }
  }
  if (m_requestedInitialState == null) {
    unlockLocalState();
    membershipChanged(addedHosts,removedHosts);
  }
 else {
    unlockLocalState();
  }
}
