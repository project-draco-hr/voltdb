{
  assert(isLocalStateLocked());
  if (m_requestedInitialState != null) {
    m_proposedState=m_requestedInitialState;
    m_currentParticipants=0;
    checkForBarrierResultsChanges();
    assert(!isLocalStateLocked());
  }
 else {
    m_lockWaitingOn=null;
    unlockLocalState();
    lockRequestCompleted();
  }
}
