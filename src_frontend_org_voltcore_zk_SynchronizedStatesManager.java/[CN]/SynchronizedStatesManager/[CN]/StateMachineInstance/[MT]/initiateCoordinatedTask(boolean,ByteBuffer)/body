{
  assert(proposedTask != null);
  assert(proposedTask.remaining() < Short.MAX_VALUE);
  lockLocalState();
  assert(m_requestedInitialState == null);
  m_pendingProposal=ByteBuffer.allocate(proposedTask.remaining());
  m_pendingProposal.put(proposedTask.array(),proposedTask.arrayOffset() + proposedTask.position(),proposedTask.remaining());
  m_pendingProposal.flip();
  m_stateChangeInitiator=true;
  m_currentRequestType=correlated ? REQUEST_TYPE.CORRELATED_COORDINATED_TASK : REQUEST_TYPE.UNCORRELATED_COORDINATED_TASK;
  ByteBuffer taskProposal=buildProposal(m_currentRequestType,m_synchronizedState,proposedTask);
  m_pendingProposal=proposedTask;
  wakeCommunityWithProposal(taskProposal.array());
  unlockLocalState();
}
