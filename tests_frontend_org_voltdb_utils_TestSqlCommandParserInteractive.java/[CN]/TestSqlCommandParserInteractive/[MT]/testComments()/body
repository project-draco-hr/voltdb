{
  CommandStuff cmd=new CommandStuff();
  Future<List<String>> result=cmd.openQuery();
  cmd.submitText("--insert into goats values (0, 1); select * from goats;\n");
  Thread.sleep(100);
  assertFalse(result.isDone());
  cmd.submitText(";\n");
  cmd.waitOnResult();
  System.out.println("RESULT: " + result.get());
  assertEquals(0,result.get().size());
  result=cmd.openQuery();
  cmd.submitText("insert into goats values (0, 1)");
  Thread.sleep(100);
  assertFalse(result.isDone());
  cmd.submitText("; --select * from goats;\n");
  cmd.waitOnResult();
  System.out.println("RESULT: " + result.get());
  assertEquals(1,result.get().size());
  assertEquals("insert into goats values (0, 1)",result.get().get(0));
  result=cmd.openQuery();
  cmd.submitText("CREATE TABLE T (\n" + " column1 integer, -- comment\n" + " column2 integer,\n"+ " -- column3 integer,\n"+ "column4 integer);\n"+ "\n");
  cmd.waitOnResult();
  System.out.println("RESULT: " + result.get());
  assertEquals(1,result.get().size());
  cmd.submitText("select * from T; -- select * from T;\n");
  cmd.waitOnResult();
  System.out.println("RESULT: " + result.get());
  assertEquals(1,result.get().size());
  cmd.close();
}
