{
  CommandStuff cmd=new CommandStuff();
  Future<List<String>> result=cmd.openQuery();
  String create="create procedure foo as select col1, count(*) from foo group by col1";
  cmd.submitText(create + ";\n");
  cmd.waitOnResult();
  System.out.println("RESULT: " + result.get());
  assertEquals(1,result.get().size());
  assertEquals(create,result.get().get(0));
  result=cmd.openQuery();
  create="create procedure foo as select foo, bar from (select goat, chicken from hats) bats where bats.wings > 1";
  cmd.submitText(create + ";\n");
  cmd.waitOnResult();
  System.out.println("RESULT: " + result.get());
  assertEquals(1,result.get().size());
  assertEquals(create,result.get().get(0));
  result=cmd.openQuery();
  create="create procedure foo as insert into foo values (0, 1)";
  cmd.submitText(create + ";\n");
  cmd.waitOnResult();
  System.out.println("RESULT: " + result.get());
  assertEquals(1,result.get().size());
  assertEquals(create,result.get().get(0));
  result=cmd.openQuery();
  create="create procedure foo as update goats set livestock = 'chicken' where dairy = 'cheese'";
  cmd.submitText(create + ";\n");
  cmd.waitOnResult();
  System.out.println("RESULT: " + result.get());
  assertEquals(1,result.get().size());
  assertEquals(create,result.get().get(0));
  result=cmd.openQuery();
  create="create procedure foo as delete from goats where livestock = 'chicken'";
  cmd.submitText(create + ";\n");
  cmd.waitOnResult();
  System.out.println("RESULT: " + result.get());
  assertEquals(1,result.get().size());
  assertEquals(create,result.get().get(0));
}
