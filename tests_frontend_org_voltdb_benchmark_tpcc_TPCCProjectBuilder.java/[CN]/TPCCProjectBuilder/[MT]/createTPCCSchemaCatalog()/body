{
  String testDir=BuildDirectoryUtils.getBuildDirectoryPath();
  String catalogJar=testDir + File.separator + "tpcc-jni.jar";
  addDefaultSchema();
  addDefaultPartitioning();
  addDefaultProcedures();
  boolean status=compile(catalogJar);
  assert(status);
  byte[] bytes=CatalogUtil.toBytes(new File(catalogJar));
  String serializedCatalog=CatalogUtil.loadCatalogFromJar(bytes,null);
  assert(serializedCatalog != null);
  Catalog catalog=new Catalog();
  catalog.execute(serializedCatalog);
  return catalog;
}
