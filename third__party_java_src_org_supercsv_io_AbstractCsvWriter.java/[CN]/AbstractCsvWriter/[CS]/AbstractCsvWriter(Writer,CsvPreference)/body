{
  if (writer == null) {
    throw new NullPointerException("writer should not be null");
  }
 else   if (preference == null) {
    throw new NullPointerException("preference should not be null");
  }
  this.writer=new BufferedWriter(writer);
  this.preference=preference;
  this.encoder=preference.getEncoder();
}
